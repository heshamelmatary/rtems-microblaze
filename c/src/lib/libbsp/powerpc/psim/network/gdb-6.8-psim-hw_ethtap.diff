 This patch adds a simulated ethernet device 'ethtap' to PSIM.
 'ethtap' is currently only supported on linux as it uses 
  two non-portable features:
   - tun/tap device; packets from/to the emulated system are 
     written-to / read-from an ethernet 'tap' device on the host
     system (see linux documentation and howtos).
   - asynchronous IO via fcntl(O_ASYNC). The system notifies
     the psim process via SIGIO that data has arrived on the 
     file descriptor corresponding to the 'tap' device on the host
     system. The signal handler then raises a simulated interrupt.

 If this patch is used on a gdb version different from 6.8 then
 patching the 'configure' and 'config.in' files may fail but they
 can be recreated with the 'autoconf' and 'autoheader' tools:

    chdir gdb-x.y-srcdir
    patch -p1 -b < this_patch.diff
    chdir sim/ppc
    autoheader
    autoconf

 At this point you're ready to go...

 More documentation about the 'ethtap' simulated device can be
 found in sim/ppc/hw_ethtap.c where all the supported device
 properties etc. are explained.

 Till Straumann, 20090202.

diff -crN gdb-6.8.orig/sim/ppc/async_io.c gdb-6.8/sim/ppc/async_io.c
*** gdb-6.8.orig/sim/ppc/async_io.c	1969-12-31 16:00:00.000000000 -0800
--- gdb-6.8/sim/ppc/async_io.c	2009-02-05 16:56:20.000000000 -0800
***************
*** 0 ****
--- 1,244 ----
+ /*  This file is part of the program psim.
+     
+     Copyright (C) 1994-1996, Andrew Cagney <cagney@highland.com.au>
+     
+     This program is free software; you can redistribute it and/or modify
+     it under the terms of the GNU General Public License as published by
+     the Free Software Foundation; either version 2 of the License, or
+     (at your option) any later version.
+     
+     This program is distributed in the hope that it will be useful,
+     but WITHOUT ANY WARRANTY; without even the implied warranty of
+     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+     GNU General Public License for more details.
+     
+     You should have received a copy of the GNU General Public License
+     along with this program; if not, write to the Free Software
+     Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+ 
+ 	This file was written by Till Straumann, 2008.
+     
+     */
+ 
+ #ifdef USE_SETSIG
+ #ifdef __linux__
+ #define _GNU_SOURCE /* for F_SETSIG */
+ #endif
+ #endif
+ 
+ #include <async_io.h>
+ 
+ #include <fcntl.h>
+ #include <signal.h>
+ #include <stdio.h>
+ #include <errno.h>
+ #include <stdlib.h>
+ #include <string.h>
+ #include <unistd.h>
+ 
+ #include <poll.h>
+ #define ASYNC_RD_SIGNO SIGIO
+ #define ASYNC_WR_SIGNO SIGIO
+ 
+ /* Maximum number of file-descriptors we can deal with */
+ #define MAX_FDS 10
+ 
+ 
+ static int    numFds = 0;
+ 
+ static struct pollfd pollFds[MAX_FDS];
+ 
+ static struct {
+ 	HwAsyncIoCallback cb;
+ 	void              *uarg;
+ } pollCbs[MAX_FDS];
+ 
+ static sigset_t iomsk;
+ 
+ static int      nest=-1;
+ 
+ /* Signal Handler */
+ static void
+ hwAsync_sa(int sig
+ #ifdef USE_SIGINFO
+ , struct siginfo *si, void *uctxt
+ #endif
+ )
+ {
+ int i;
+ unsigned reason;
+ 
+ 	if ( poll(pollFds, numFds, 0) < 0 ) {
+ 		fprintf(stderr,"hwAsync_sa(): poll failed: %s\n", strerror(errno));
+ 		exit(1);
+ 	}
+ 
+ 	/* dispatch callbacks */
+ 	for ( i=0; i<numFds; i++ ) {
+ 		if ( pollFds[i].revents ) {
+ 			if ( pollFds[i].revents & (POLLERR | POLLHUP | POLLNVAL) ) {
+ 				reason = ASYNC_IO_ERROR;
+ 			} else {
+ 				reason =  0;
+ 				if ( pollFds[i].revents & POLLIN )
+ 					reason |= ASYNC_IO_READ_POSSIBLE;
+ 				if ( pollFds[i].revents & POLLOUT )
+ 					reason |= ASYNC_IO_WRITE_POSSIBLE;
+ 			}
+ 			pollCbs[i].cb(pollFds[i].fd, reason, pollCbs[i].uarg);
+ 		}
+ 	}
+ }
+ 
+ /* Do lazy init when the first descriptor is registered */
+ static void
+ hwAsyncIoInit()
+ {
+ struct sigaction sa;
+ 
+ 	memset(&sa, 0, sizeof(sa));
+ #ifdef USE_SIGINFO
+ 	sa.sa_sigaction = hwAsync_sa;
+ 	sa.sa_flags    |= SA_SIGINFO;
+ #else
+ 	sa.sa_handler   = hwAsync_sa;
+ #endif
+ 
+ 	sigemptyset(&iomsk);
+ 	sigaddset(&iomsk, ASYNC_RD_SIGNO);
+ 	sigaddset(&iomsk, ASYNC_WR_SIGNO);
+ 
+ 	sa.sa_mask = iomsk;
+ 
+ 	if ( sigaction(ASYNC_RD_SIGNO, &sa, 0) ) {
+ 		fprintf(stderr, "sigaction(ASYNC_RD_SIGNO) failed: %s\n", strerror(errno));
+ 		exit(1);
+ 	}
+ 
+ #if ASYNC_RD_SIGNO != ASYNC_WR_SIGNO
+ 	if ( sigaction(ASYNC_WR_SIGNO, &sa, 0) ) {
+ 		fprintf(stderr, "sigaction(ASYNC_WR_SIGNO) failed: %s\n", strerror(errno));
+ 		exit(1);
+ 	}
+ #endif
+ 
+ 	nest = 0;
+ }
+ 
+ int
+ hwAsyncIoBlock()
+ {
+ 
+ 	if ( 0 == nest )
+ 		sigprocmask(SIG_BLOCK, &iomsk, 0);
+ 	return nest++;
+ }
+ 
+ void
+ hwAsyncIoUnblock(int lvl)
+ {
+ 	if ( --nest != lvl ) {
+ 		fprintf(stderr,"INTERNAL ERROR; nesting should be == level\n");
+ 		exit(1);
+ 	}
+ 	if ( 0 == nest )
+ 		sigprocmask(SIG_UNBLOCK, &iomsk, 0);
+ }
+ 
+ static void
+ fdSetup(int fd)
+ {
+ 
+   if ( fcntl(fd, F_SETFL, O_NONBLOCK | O_ASYNC) ) {
+   	fprintf(stderr, "fcntl(F_SETFL) failed: %s\n", strerror(errno));
+ 	exit(1);
+   }
+ 
+ #if defined(__linux__) && defined(_GNU_SOURCE)
+   /* si_fd is only set if F_SETSIG is executed (even if specifying SIGIO)! */
+   if ( fcntl(fd, F_SETSIG, SIGIO) ) {
+ 	fprintf(stderr, "fcntl(F_SETSIG) failed: %s\n", strerror(errno));
+ 	exit(1);
+   }
+ #endif
+ 
+   if ( fcntl(fd, F_SETOWN, getpid()) ) {
+ 	fprintf(stderr, "fcntl(F_SETOWN) failed: %s\n", strerror(errno));
+ 	exit(1);
+   }
+ }
+ 
+ int
+ hwAsyncIoUnregister(int fd, HwAsyncIoCallback cb, void *uarg)
+ {
+ int lvl, i;
+ 
+ 	for ( i=0; i<numFds; i++ ) {
+ 		if ( pollFds[i].fd == fd ) {
+ 
+ 			lvl = hwAsyncIoBlock();
+ 			--numFds;
+ 			while ( i < numFds )
+ 				pollFds[i] = pollFds[i+1];
+ 			hwAsyncIoUnblock(lvl);
+ 
+ 			if ( fcntl(fd, F_SETFL, 0) ) {
+ 				fprintf(stderr, "fcntl(F_SETFL) failed: %s\n", strerror(errno));
+ 				exit(1);
+ 			}
+ 			return 0;
+ 		}
+ 	}
+ 
+ 	return -1;
+ }
+ 
+ int
+ hwAsyncIoRegister(int fd, HwAsyncIoCallback cb, void *uarg)
+ {
+ int i;
+ int lvl;
+ 
+ 	/* lazy init */
+ 	if ( nest < 0 )
+ 		hwAsyncIoInit();
+ 
+ 	for ( i=0; i<numFds; i++ ) {
+ 		if ( pollFds[i].fd == fd ) {
+ 			/* this fd already registered */
+ 			return -2;
+ 		}
+ 	}
+ 
+ 	if ( i >= MAX_FDS ) {
+ 		/* all slots full */
+ 		return -3;
+ 	}
+ 
+ 	pollFds[i].fd     = fd;
+ 	pollFds[i].events = POLLIN | POLLOUT;
+ 
+ 	pollCbs[i].cb     = cb;
+ 	pollCbs[i].uarg   = uarg;
+ 
+ 	lvl = hwAsyncIoBlock();
+ 		numFds++;
+ 	hwAsyncIoUnblock(lvl);
+ 
+ 	/* Now set the fd up for asynchronous operation */
+ 	fdSetup(fd);
+ 
+ 	return fd;
+ }
+ 
+ int
+ hwAsyncIoWrite(int fd, void *buf, size_t cnt)
+ {
+ 	return write(fd, buf, cnt);
+ }
+ 
+ int
+ hwAsyncIoRead(int fd, void *buf, size_t cnt)
+ {
+ 	return read(fd, buf, cnt);
+ }
diff -crN gdb-6.8.orig/sim/ppc/async_io.h gdb-6.8/sim/ppc/async_io.h
*** gdb-6.8.orig/sim/ppc/async_io.h	1969-12-31 16:00:00.000000000 -0800
--- gdb-6.8/sim/ppc/async_io.h	2009-02-05 16:56:20.000000000 -0800
***************
*** 0 ****
--- 1,123 ----
+ /*  This file is part of the program psim.
+     
+     Copyright (C) 1994-1996, Andrew Cagney <cagney@highland.com.au>
+     
+     This program is free software; you can redistribute it and/or modify
+     it under the terms of the GNU General Public License as published by
+     the Free Software Foundation; either version 2 of the License, or
+     (at your option) any later version.
+     
+     This program is distributed in the hope that it will be useful,
+     but WITHOUT ANY WARRANTY; without even the implied warranty of
+     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+     GNU General Public License for more details.
+     
+     You should have received a copy of the GNU General Public License
+     along with this program; if not, write to the Free Software
+     Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+ 
+ 	This file was written by Till Straumann, 2008.
+     
+     */
+ 
+ #ifndef _ASYNC_IO_H
+ #define _ASYNC_IO_H
+ 
+ #include <unistd.h>
+ #include <sys/types.h>
+ #ifdef _POSIX_ASYNCHRONOUS_IO
+ #include <aio.h>
+ #endif
+ 
+ /* A simple facility to allow asynchronous I/O (which then can
+  * be mapped to simulated interrupts).
+  *
+  * REQUIRES O_ASYNC support from the OS.
+  *
+  * A file descriptor is registered with this facility for
+  * asynchronous I/O. It is then switched to ASYNC mode and
+  * signal delivery of SIGIO is enabled.
+  *
+  * When I/O becomes possible a user callback is dispatched (possibly
+  * executing from signal handler context). The callback can be
+  * used to schedule interrupt delivery.
+  */
+ 
+ /* Prototype of user callback.
+  *
+  * The callback is passed
+  *
+  *   'fd':            file descriptor on which I/O is now possible.
+  *   'reasonBitmask': bitset of events or an error code (if MSB set).
+  *   'uarg':          user pointer as passed to the registration routine.
+  *
+  * NOTE: callback may execute from signal handler.
+  */
+ 
+ #define ASYNC_IO_READ_POSSIBLE    1
+ #define ASYNC_IO_WRITE_POSSIBLE   2
+ #define ASYNC_IO_ERROR          (-1)
+ #define ASYNC_IO_ERR(reason)   ((int)(reason) < 0)
+ 
+ typedef void (*HwAsyncIoCallback)(int fd, unsigned reasonBitmask, void *uarg);
+ 
+ /* 
+  * Enable asynchronous, nonblocking I/O on a (open) file descriptor
+  * and register a callback to be dispatched when I/O becomes possible
+  * on 'fd'.
+  *
+  * Arguments:
+  *    'fd':           file descriptor to configure for asynchronous I/O.
+  *    'cb':           callback to be dispatched when I/O becomes possible.
+  *    'uarg':         arbitrary pointer which is passed on to the callback.
+  *
+  * RETURNS: descriptor number (>=0) on success, value < 0 on error.
+  *          The descriptor number has to be passed to hwAsyncIoRead/Write
+  *          and Unregister and is NOT necessarily identical with the
+  *          original file descriptor!
+  *
+  */
+ int
+ hwAsyncIoRegister(int fd, HwAsyncIoCallback cb, void *uarg);
+ 
+ /*
+  *
+  * Unregisters the callback and removes the ASYNC and NONBLOCK flags.
+  *
+  * RETURNS: zero on success, nonzero on error.
+  *
+  * NOTE:    pass DESCRIPTOR number, not original fd.
+  */
+ 
+ int
+ hwAsyncIoUnregister(int desc, HwAsyncIoCallback cb, void *uarg);
+ 
+ /*
+  * Disable delivery of SIGIO and thus prevent the callback
+  * from being executed in order to protect a critical section.
+  *
+  * NOTE: Nested calls are possible, i.e., in a sequence
+  *       block(), block(), unblock(), unblock() signal delivery
+  *       is only re-enabled by the last unblock() operation.
+  *
+  * RETURNS: a 'key' which must be passed to paired 'unblock' operation.
+  */
+ int
+ hwAsyncIoBlock();
+ 
+ /*
+  * Unnest and possibly re-enable delivery of SIGIO.
+  *
+  * Argument:
+  *   'key':  value returned by paired 'block' operation.
+  */
+ void
+ hwAsyncIoUnblock(int level);
+ 
+ int
+ hwAsyncIoRead(int desc, void *buf, size_t cnt);
+ 
+ int
+ hwAsyncIoRead(int desc, void *buf, size_t cnt);
+ 
+ #endif /* _ASYNC_IO_H_ */
diff -crN gdb-6.8.orig/sim/ppc/config.in gdb-6.8/sim/ppc/config.in
*** gdb-6.8.orig/sim/ppc/config.in	2006-12-20 20:42:10.000000000 -0800
--- gdb-6.8/sim/ppc/config.in	2009-02-05 16:56:20.000000000 -0800
***************
*** 32,37 ****
--- 32,41 ----
  /* Define to 1 if you have the `chown' function. */
  #undef HAVE_CHOWN
  
+ /* Define to 1 if you have the declaration of `tzname', and to 0 if you don't.
+    */
+ #undef HAVE_DECL_TZNAME
+ 
  /* Define to 1 if you have the <dirent.h> header file, and it defines `DIR'.
     */
  #undef HAVE_DIRENT_H
***************
*** 42,47 ****
--- 46,54 ----
  /* Define to 1 if you have the `dup2' function. */
  #undef HAVE_DUP2
  
+ /* Define if ethtap device is built (linux host only) */
+ #undef HAVE_ETHTAP
+ 
  /* Define to 1 if you have the `fchmod' function. */
  #undef HAVE_FCHMOD
  
***************
*** 300,308 ****
     when building for Cygwin. */
  #undef USE_WIN32API
  
! /* Define to 1 if your processor stores words with the most significant byte
!    first (like Motorola and SPARC, unlike Intel and VAX). */
! #undef WORDS_BIGENDIAN
  
  /* Define to `int' if <sys/types.h> doesn't define. */
  #undef gid_t
--- 307,319 ----
     when building for Cygwin. */
  #undef USE_WIN32API
  
! /* Define WORDS_BIGENDIAN to 1 if your processor stores words with the most
!    significant byte first (like Motorola and SPARC, unlike Intel and VAX). */
! #if defined __BIG_ENDIAN__
! # define WORDS_BIGENDIAN 1
! #elif ! defined __LITTLE_ENDIAN__
! # undef WORDS_BIGENDIAN
! #endif
  
  /* Define to `int' if <sys/types.h> doesn't define. */
  #undef gid_t
***************
*** 310,322 ****
  /* Define to `int' if <sys/types.h> does not define. */
  #undef mode_t
  
! /* Define to `long' if <sys/types.h> does not define. */
  #undef off_t
  
  /* Define to `int' if <sys/types.h> does not define. */
  #undef pid_t
  
! /* Define to `unsigned' if <sys/types.h> does not define. */
  #undef size_t
  
  /* Define to `int' if <sys/types.h> doesn't define. */
--- 321,333 ----
  /* Define to `int' if <sys/types.h> does not define. */
  #undef mode_t
  
! /* Define to `long int' if <sys/types.h> does not define. */
  #undef off_t
  
  /* Define to `int' if <sys/types.h> does not define. */
  #undef pid_t
  
! /* Define to `unsigned int' if <sys/types.h> does not define. */
  #undef size_t
  
  /* Define to `int' if <sys/types.h> doesn't define. */
diff -crN gdb-6.8.orig/sim/ppc/configure gdb-6.8/sim/ppc/configure
*** gdb-6.8.orig/sim/ppc/configure	2008-03-14 14:35:27.000000000 -0700
--- gdb-6.8/sim/ppc/configure	2009-02-05 16:56:20.000000000 -0800
***************
*** 1,25 ****
  #! /bin/sh
  # Guess values for system-dependent variables and create Makefiles.
! # Generated by GNU Autoconf 2.59.
  #
! # Copyright (C) 2003 Free Software Foundation, Inc.
  # This configure script is free software; the Free Software Foundation
  # gives unlimited permission to copy, distribute and modify it.
  ## --------------------- ##
  ## M4sh Initialization.  ##
  ## --------------------- ##
  
! # Be Bourne compatible
  if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
    emulate sh
    NULLCMD=:
!   # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
    # is contrary to our usage.  Disable this feature.
    alias -g '${1+"$@"}'='"$@"'
! elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
!   set -o posix
  fi
- DUALCASE=1; export DUALCASE # for MKS sh
  
  # Support unset when possible.
  if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
--- 1,82 ----
  #! /bin/sh
  # Guess values for system-dependent variables and create Makefiles.
! # Generated by GNU Autoconf 2.62.
  #
! # Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
! # 2002, 2003, 2004, 2005, 2006, 2007, 2008 Free Software Foundation, Inc.
  # This configure script is free software; the Free Software Foundation
  # gives unlimited permission to copy, distribute and modify it.
  ## --------------------- ##
  ## M4sh Initialization.  ##
  ## --------------------- ##
  
! # Be more Bourne compatible
! DUALCASE=1; export DUALCASE # for MKS sh
  if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
    emulate sh
    NULLCMD=:
!   # Pre-4.2 versions of Zsh do word splitting on ${1+"$@"}, which
    # is contrary to our usage.  Disable this feature.
    alias -g '${1+"$@"}'='"$@"'
!   setopt NO_GLOB_SUBST
! else
!   case `(set -o) 2>/dev/null` in
!   *posix*) set -o posix ;;
! esac
! 
! fi
! 
! 
! 
! 
! # PATH needs CR
! # Avoid depending upon Character Ranges.
! as_cr_letters='abcdefghijklmnopqrstuvwxyz'
! as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
! as_cr_Letters=$as_cr_letters$as_cr_LETTERS
! as_cr_digits='0123456789'
! as_cr_alnum=$as_cr_Letters$as_cr_digits
! 
! as_nl='
! '
! export as_nl
! # Printing a long string crashes Solaris 7 /usr/bin/printf.
! as_echo='\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\'
! as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo
! as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo$as_echo
! if (test "X`printf %s $as_echo`" = "X$as_echo") 2>/dev/null; then
!   as_echo='printf %s\n'
!   as_echo_n='printf %s'
! else
!   if test "X`(/usr/ucb/echo -n -n $as_echo) 2>/dev/null`" = "X-n $as_echo"; then
!     as_echo_body='eval /usr/ucb/echo -n "$1$as_nl"'
!     as_echo_n='/usr/ucb/echo -n'
!   else
!     as_echo_body='eval expr "X$1" : "X\\(.*\\)"'
!     as_echo_n_body='eval
!       arg=$1;
!       case $arg in
!       *"$as_nl"*)
! 	expr "X$arg" : "X\\(.*\\)$as_nl";
! 	arg=`expr "X$arg" : ".*$as_nl\\(.*\\)"`;;
!       esac;
!       expr "X$arg" : "X\\(.*\\)" | tr -d "$as_nl"
!     '
!     export as_echo_n_body
!     as_echo_n='sh -c $as_echo_n_body as_echo'
!   fi
!   export as_echo_body
!   as_echo='sh -c $as_echo_body as_echo'
! fi
! 
! # The user is always right.
! if test "${PATH_SEPARATOR+set}" != set; then
!   PATH_SEPARATOR=:
!   (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {
!     (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||
!       PATH_SEPARATOR=';'
!   }
  fi
  
  # Support unset when possible.
  if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
***************
*** 29,61 ****
  fi
  
  
  # Work around bugs in pre-3.0 UWIN ksh.
! $as_unset ENV MAIL MAILPATH
  PS1='$ '
  PS2='> '
  PS4='+ '
  
  # NLS nuisances.
! for as_var in \
!   LANG LANGUAGE LC_ADDRESS LC_ALL LC_COLLATE LC_CTYPE LC_IDENTIFICATION \
!   LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
!   LC_TELEPHONE LC_TIME
! do
!   if (set +x; test -z "`(eval $as_var=C; export $as_var) 2>&1`"); then
!     eval $as_var=C; export $as_var
!   else
!     $as_unset $as_var
!   fi
! done
  
  # Required to use basename.
! if expr a : '\(a\)' >/dev/null 2>&1; then
    as_expr=expr
  else
    as_expr=false
  fi
  
! if (basename /) >/dev/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
    as_basename=basename
  else
    as_basename=false
--- 86,145 ----
  fi
  
  
+ # IFS
+ # We need space, tab and new line, in precisely that order.  Quoting is
+ # there to prevent editors from complaining about space-tab.
+ # (If _AS_PATH_WALK were called with IFS unset, it would disable word
+ # splitting by setting IFS to empty value.)
+ IFS=" ""	$as_nl"
+ 
+ # Find who we are.  Look in the path if we contain no directory separator.
+ case $0 in
+   *[\\/]* ) as_myself=$0 ;;
+   *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+ for as_dir in $PATH
+ do
+   IFS=$as_save_IFS
+   test -z "$as_dir" && as_dir=.
+   test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
+ done
+ IFS=$as_save_IFS
+ 
+      ;;
+ esac
+ # We did not find ourselves, most probably we were run as `sh COMMAND'
+ # in which case we are not to be found in the path.
+ if test "x$as_myself" = x; then
+   as_myself=$0
+ fi
+ if test ! -f "$as_myself"; then
+   $as_echo "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
+   { (exit 1); exit 1; }
+ fi
+ 
  # Work around bugs in pre-3.0 UWIN ksh.
! for as_var in ENV MAIL MAILPATH
! do ($as_unset $as_var) >/dev/null 2>&1 && $as_unset $as_var
! done
  PS1='$ '
  PS2='> '
  PS4='+ '
  
  # NLS nuisances.
! LC_ALL=C
! export LC_ALL
! LANGUAGE=C
! export LANGUAGE
  
  # Required to use basename.
! if expr a : '\(a\)' >/dev/null 2>&1 &&
!    test "X`expr 00001 : '.*\(...\)'`" = X001; then
    as_expr=expr
  else
    as_expr=false
  fi
  
! if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
    as_basename=basename
  else
    as_basename=false
***************
*** 63,219 ****
  
  
  # Name of the executable.
! as_me=`$as_basename "$0" ||
  $as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
  	 X"$0" : 'X\(//\)$' \| \
! 	 X"$0" : 'X\(/\)$' \| \
! 	 .     : '\(.\)' 2>/dev/null ||
! echo X/"$0" |
!     sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
!   	  /^X\/\(\/\/\)$/{ s//\1/; q; }
!   	  /^X\/\(\/\).*/{ s//\1/; q; }
!   	  s/.*/./; q'`
  
  
- # PATH needs CR, and LINENO needs CR and PATH.
- # Avoid depending upon Character Ranges.
- as_cr_letters='abcdefghijklmnopqrstuvwxyz'
- as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
- as_cr_Letters=$as_cr_letters$as_cr_LETTERS
- as_cr_digits='0123456789'
- as_cr_alnum=$as_cr_Letters$as_cr_digits
  
! # The user is always right.
! if test "${PATH_SEPARATOR+set}" != set; then
!   echo "#! /bin/sh" >conf$$.sh
!   echo  "exit 0"   >>conf$$.sh
!   chmod +x conf$$.sh
!   if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
!     PATH_SEPARATOR=';'
!   else
!     PATH_SEPARATOR=:
!   fi
!   rm -f conf$$.sh
  fi
  
  
!   as_lineno_1=$LINENO
!   as_lineno_2=$LINENO
!   as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
!   test "x$as_lineno_1" != "x$as_lineno_2" &&
!   test "x$as_lineno_3"  = "x$as_lineno_2"  || {
!   # Find who we are.  Look in the path if we contain no path at all
!   # relative or not.
!   case $0 in
!     *[\\/]* ) as_myself=$0 ;;
!     *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
! for as_dir in $PATH
! do
!   IFS=$as_save_IFS
!   test -z "$as_dir" && as_dir=.
!   test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
! done
  
!        ;;
!   esac
!   # We did not find ourselves, most probably we were run as `sh COMMAND'
!   # in which case we are not to be found in the path.
!   if test "x$as_myself" = x; then
!     as_myself=$0
!   fi
!   if test ! -f "$as_myself"; then
!     { echo "$as_me: error: cannot find myself; rerun with an absolute path" >&2
!    { (exit 1); exit 1; }; }
!   fi
!   case $CONFIG_SHELL in
!   '')
      as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
  for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
  do
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
!   for as_base in sh bash ksh sh5; do
! 	 case $as_dir in
  	 /*)
! 	   if ("$as_dir/$as_base" -c '
    as_lineno_1=$LINENO
    as_lineno_2=$LINENO
-   as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
    test "x$as_lineno_1" != "x$as_lineno_2" &&
!   test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/dev/null; then
! 	     $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
! 	     $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
! 	     CONFIG_SHELL=$as_dir/$as_base
! 	     export CONFIG_SHELL
! 	     exec "$CONFIG_SHELL" "$0" ${1+"$@"}
! 	   fi;;
! 	 esac
!        done
! done
! ;;
!   esac
  
    # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
    # uniformly replaced by the line number.  The first 'sed' inserts a
!   # line-number line before each line; the second 'sed' does the real
!   # work.  The second script uses 'N' to pair each line-number line
!   # with the numbered line, and appends trailing '-' during
!   # substitution so that $LINENO is not a special case at line end.
    # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
!   # second 'sed' script.  Blame Lee E. McMahon for sed's syntax.  :-)
!   sed '=' <$as_myself |
      sed '
        N
!       s,$,-,
!       : loop
!       s,^\(['$as_cr_digits']*\)\(.*\)[$]LINENO\([^'$as_cr_alnum'_]\),\1\2\1\3,
        t loop
!       s,-$,,
!       s,^['$as_cr_digits']*\n,,
      ' >$as_me.lineno &&
!   chmod +x $as_me.lineno ||
!     { echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2
     { (exit 1); exit 1; }; }
  
    # Don't try to exec as it changes $[0], causing all sort of problems
    # (the dirname of $[0] is not the place where we might find the
!   # original and so on.  Autoconf is especially sensible to this).
!   . ./$as_me.lineno
    # Exit status is that of the last command.
    exit
  }
  
  
! case `echo "testing\c"; echo 1,2,3`,`echo -n testing; echo 1,2,3` in
!   *c*,-n*) ECHO_N= ECHO_C='
! ' ECHO_T='	' ;;
!   *c*,*  ) ECHO_N=-n ECHO_C= ECHO_T= ;;
!   *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
! esac
  
! if expr a : '\(a\)' >/dev/null 2>&1; then
    as_expr=expr
  else
    as_expr=false
  fi
  
  rm -f conf$$ conf$$.exe conf$$.file
! echo >conf$$.file
! if ln -s conf$$.file conf$$ 2>/dev/null; then
!   # We could just check for DJGPP; but this test a) works b) is more generic
!   # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
!   if test -f conf$$.exe; then
!     # Don't use ln at all; we don't have any links
!     as_ln_s='cp -p'
!   else
      as_ln_s='ln -s'
    fi
- elif ln conf$$.file conf$$ 2>/dev/null; then
-   as_ln_s=ln
  else
    as_ln_s='cp -p'
  fi
! rm -f conf$$ conf$$.exe conf$$.file
  
  if mkdir -p . 2>/dev/null; then
    as_mkdir_p=:
--- 147,537 ----
  
  
  # Name of the executable.
! as_me=`$as_basename -- "$0" ||
  $as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
  	 X"$0" : 'X\(//\)$' \| \
! 	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
! $as_echo X/"$0" |
!     sed '/^.*\/\([^/][^/]*\)\/*$/{
! 	    s//\1/
! 	    q
! 	  }
! 	  /^X\/\(\/\/\)$/{
! 	    s//\1/
! 	    q
! 	  }
! 	  /^X\/\(\/\).*/{
! 	    s//\1/
! 	    q
! 	  }
! 	  s/.*/./; q'`
  
+ # CDPATH.
+ $as_unset CDPATH
  
  
! if test "x$CONFIG_SHELL" = x; then
!   if (eval ":") 2>/dev/null; then
!   as_have_required=yes
! else
!   as_have_required=no
  fi
  
+   if test $as_have_required = yes &&	 (eval ":
+ (as_func_return () {
+   (exit \$1)
+ }
+ as_func_success () {
+   as_func_return 0
+ }
+ as_func_failure () {
+   as_func_return 1
+ }
+ as_func_ret_success () {
+   return 0
+ }
+ as_func_ret_failure () {
+   return 1
+ }
  
! exitcode=0
! if as_func_success; then
!   :
! else
!   exitcode=1
!   echo as_func_success failed.
! fi
  
! if as_func_failure; then
!   exitcode=1
!   echo as_func_failure succeeded.
! fi
! 
! if as_func_ret_success; then
!   :
! else
!   exitcode=1
!   echo as_func_ret_success failed.
! fi
! 
! if as_func_ret_failure; then
!   exitcode=1
!   echo as_func_ret_failure succeeded.
! fi
! 
! if ( set x; as_func_ret_success y && test x = \"\$1\" ); then
!   :
! else
!   exitcode=1
!   echo positional parameters were not saved.
! fi
! 
! test \$exitcode = 0) || { (exit 1); exit 1; }
! 
! (
!   as_lineno_1=\$LINENO
!   as_lineno_2=\$LINENO
!   test \"x\$as_lineno_1\" != \"x\$as_lineno_2\" &&
!   test \"x\`expr \$as_lineno_1 + 1\`\" = \"x\$as_lineno_2\") || { (exit 1); exit 1; }
! ") 2> /dev/null; then
!   :
! else
!   as_candidate_shells=
      as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
  for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
  do
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
!   case $as_dir in
  	 /*)
! 	   for as_base in sh bash ksh sh5; do
! 	     as_candidate_shells="$as_candidate_shells $as_dir/$as_base"
! 	   done;;
!        esac
! done
! IFS=$as_save_IFS
! 
! 
!       for as_shell in $as_candidate_shells $SHELL; do
! 	 # Try only shells that exist, to save several forks.
! 	 if { test -f "$as_shell" || test -f "$as_shell.exe"; } &&
! 		{ ("$as_shell") 2> /dev/null <<\_ASEOF
! if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
!   emulate sh
!   NULLCMD=:
!   # Pre-4.2 versions of Zsh do word splitting on ${1+"$@"}, which
!   # is contrary to our usage.  Disable this feature.
!   alias -g '${1+"$@"}'='"$@"'
!   setopt NO_GLOB_SUBST
! else
!   case `(set -o) 2>/dev/null` in
!   *posix*) set -o posix ;;
! esac
! 
! fi
! 
! 
! :
! _ASEOF
! }; then
!   CONFIG_SHELL=$as_shell
! 	       as_have_required=yes
! 	       if { "$as_shell" 2> /dev/null <<\_ASEOF
! if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
!   emulate sh
!   NULLCMD=:
!   # Pre-4.2 versions of Zsh do word splitting on ${1+"$@"}, which
!   # is contrary to our usage.  Disable this feature.
!   alias -g '${1+"$@"}'='"$@"'
!   setopt NO_GLOB_SUBST
! else
!   case `(set -o) 2>/dev/null` in
!   *posix*) set -o posix ;;
! esac
! 
! fi
! 
! 
! :
! (as_func_return () {
!   (exit $1)
! }
! as_func_success () {
!   as_func_return 0
! }
! as_func_failure () {
!   as_func_return 1
! }
! as_func_ret_success () {
!   return 0
! }
! as_func_ret_failure () {
!   return 1
! }
! 
! exitcode=0
! if as_func_success; then
!   :
! else
!   exitcode=1
!   echo as_func_success failed.
! fi
! 
! if as_func_failure; then
!   exitcode=1
!   echo as_func_failure succeeded.
! fi
! 
! if as_func_ret_success; then
!   :
! else
!   exitcode=1
!   echo as_func_ret_success failed.
! fi
! 
! if as_func_ret_failure; then
!   exitcode=1
!   echo as_func_ret_failure succeeded.
! fi
! 
! if ( set x; as_func_ret_success y && test x = "$1" ); then
!   :
! else
!   exitcode=1
!   echo positional parameters were not saved.
! fi
! 
! test $exitcode = 0) || { (exit 1); exit 1; }
! 
! (
    as_lineno_1=$LINENO
    as_lineno_2=$LINENO
    test "x$as_lineno_1" != "x$as_lineno_2" &&
!   test "x`expr $as_lineno_1 + 1`" = "x$as_lineno_2") || { (exit 1); exit 1; }
! 
! _ASEOF
! }; then
!   break
! fi
! 
! fi
! 
!       done
! 
!       if test "x$CONFIG_SHELL" != x; then
!   for as_var in BASH_ENV ENV
! 	do ($as_unset $as_var) >/dev/null 2>&1 && $as_unset $as_var
! 	done
! 	export CONFIG_SHELL
! 	exec "$CONFIG_SHELL" "$as_myself" ${1+"$@"}
! fi
! 
! 
!     if test $as_have_required = no; then
!   echo This script requires a shell more modern than all the
!       echo shells that I found on your system.  Please install a
!       echo modern shell, or manually run the script under such a
!       echo shell if you do have one.
!       { (exit 1); exit 1; }
! fi
! 
! 
! fi
! 
! fi
! 
! 
! 
! (eval "as_func_return () {
!   (exit \$1)
! }
! as_func_success () {
!   as_func_return 0
! }
! as_func_failure () {
!   as_func_return 1
! }
! as_func_ret_success () {
!   return 0
! }
! as_func_ret_failure () {
!   return 1
! }
! 
! exitcode=0
! if as_func_success; then
!   :
! else
!   exitcode=1
!   echo as_func_success failed.
! fi
! 
! if as_func_failure; then
!   exitcode=1
!   echo as_func_failure succeeded.
! fi
! 
! if as_func_ret_success; then
!   :
! else
!   exitcode=1
!   echo as_func_ret_success failed.
! fi
! 
! if as_func_ret_failure; then
!   exitcode=1
!   echo as_func_ret_failure succeeded.
! fi
! 
! if ( set x; as_func_ret_success y && test x = \"\$1\" ); then
!   :
! else
!   exitcode=1
!   echo positional parameters were not saved.
! fi
! 
! test \$exitcode = 0") || {
!   echo No shell found that supports shell functions.
!   echo Please tell bug-autoconf@gnu.org about your system,
!   echo including any error possibly output before this message.
!   echo This can help us improve future autoconf versions.
!   echo Configuration will now proceed without shell functions.
! }
! 
! 
! 
!   as_lineno_1=$LINENO
!   as_lineno_2=$LINENO
!   test "x$as_lineno_1" != "x$as_lineno_2" &&
!   test "x`expr $as_lineno_1 + 1`" = "x$as_lineno_2" || {
  
    # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
    # uniformly replaced by the line number.  The first 'sed' inserts a
!   # line-number line after each line using $LINENO; the second 'sed'
!   # does the real work.  The second script uses 'N' to pair each
!   # line-number line with the line containing $LINENO, and appends
!   # trailing '-' during substitution so that $LINENO is not a special
!   # case at line end.
    # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
!   # scripts with optimization help from Paolo Bonzini.  Blame Lee
!   # E. McMahon (1931-1989) for sed's syntax.  :-)
!   sed -n '
!     p
!     /[$]LINENO/=
!   ' <$as_myself |
      sed '
+       s/[$]LINENO.*/&-/
+       t lineno
+       b
+       :lineno
        N
!       :loop
!       s/[$]LINENO\([^'$as_cr_alnum'_].*\n\)\(.*\)/\2\1\2/
        t loop
!       s/-\n.*//
      ' >$as_me.lineno &&
!   chmod +x "$as_me.lineno" ||
!     { $as_echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2
     { (exit 1); exit 1; }; }
  
    # Don't try to exec as it changes $[0], causing all sort of problems
    # (the dirname of $[0] is not the place where we might find the
!   # original and so on.  Autoconf is especially sensitive to this).
!   . "./$as_me.lineno"
    # Exit status is that of the last command.
    exit
  }
  
  
! if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
!   as_dirname=dirname
! else
!   as_dirname=false
! fi
  
! ECHO_C= ECHO_N= ECHO_T=
! case `echo -n x` in
! -n*)
!   case `echo 'x\c'` in
!   *c*) ECHO_T='	';;	# ECHO_T is single tab character.
!   *)   ECHO_C='\c';;
!   esac;;
! *)
!   ECHO_N='-n';;
! esac
! if expr a : '\(a\)' >/dev/null 2>&1 &&
!    test "X`expr 00001 : '.*\(...\)'`" = X001; then
    as_expr=expr
  else
    as_expr=false
  fi
  
  rm -f conf$$ conf$$.exe conf$$.file
! if test -d conf$$.dir; then
!   rm -f conf$$.dir/conf$$.file
! else
!   rm -f conf$$.dir
!   mkdir conf$$.dir 2>/dev/null
! fi
! if (echo >conf$$.file) 2>/dev/null; then
!   if ln -s conf$$.file conf$$ 2>/dev/null; then
      as_ln_s='ln -s'
+     # ... but there are two gotchas:
+     # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
+     # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
+     # In both cases, we have to default to `cp -p'.
+     ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
+       as_ln_s='cp -p'
+   elif ln conf$$.file conf$$ 2>/dev/null; then
+     as_ln_s=ln
+   else
+     as_ln_s='cp -p'
    fi
  else
    as_ln_s='cp -p'
  fi
! rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
! rmdir conf$$.dir 2>/dev/null
  
  if mkdir -p . 2>/dev/null; then
    as_mkdir_p=:
***************
*** 222,228 ****
    as_mkdir_p=false
  fi
  
! as_executable_p="test -f"
  
  # Sed expression to map a string onto a valid CPP name.
  as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
--- 540,567 ----
    as_mkdir_p=false
  fi
  
! if test -x / >/dev/null 2>&1; then
!   as_test_x='test -x'
! else
!   if ls -dL / >/dev/null 2>&1; then
!     as_ls_L_option=L
!   else
!     as_ls_L_option=
!   fi
!   as_test_x='
!     eval sh -c '\''
!       if test -d "$1"; then
! 	test -d "$1/.";
!       else
! 	case $1 in
! 	-*)set "./$1";;
! 	esac;
! 	case `ls -ld'$as_ls_L_option' "$1" 2>/dev/null` in
! 	???[sx]*):;;*)false;;esac;fi
!     '\'' sh
!   '
! fi
! as_executable_p=$as_test_x
  
  # Sed expression to map a string onto a valid CPP name.
  as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
***************
*** 231,269 ****
  as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
  
  
- # IFS
- # We need space, tab and new line, in precisely that order.
- as_nl='
- '
- IFS=" 	$as_nl"
- 
- # CDPATH.
- $as_unset CDPATH
  
  
  # Name of the host.
  # hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
  # so uname gets run too.
  ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`
  
- exec 6>&1
- 
  #
  # Initializations.
  #
  ac_default_prefix=/usr/local
  ac_config_libobj_dir=.
  cross_compiling=no
  subdirs=
  MFLAGS=
  MAKEFLAGS=
  SHELL=${CONFIG_SHELL-/bin/sh}
  
- # Maximum number of lines to put in a shell here document.
- # This variable seems obsolete.  It should probably be removed, and
- # only ac_max_sed_lines should be used.
- : ${ac_max_here_lines=38}
- 
  # Identity of this package.
  PACKAGE_NAME=
  PACKAGE_TARNAME=
--- 570,596 ----
  as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
  
  
  
+ exec 7<&0 </dev/null 6>&1
  
  # Name of the host.
  # hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
  # so uname gets run too.
  ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`
  
  #
  # Initializations.
  #
  ac_default_prefix=/usr/local
+ ac_clean_files=
  ac_config_libobj_dir=.
+ LIBOBJS=
  cross_compiling=no
  subdirs=
  MFLAGS=
  MAKEFLAGS=
  SHELL=${CONFIG_SHELL-/bin/sh}
  
  # Identity of this package.
  PACKAGE_NAME=
  PACKAGE_TARNAME=
***************
*** 275,320 ****
  # Factoring default headers for most tests.
  ac_includes_default="\
  #include <stdio.h>
! #if HAVE_SYS_TYPES_H
  # include <sys/types.h>
  #endif
! #if HAVE_SYS_STAT_H
  # include <sys/stat.h>
  #endif
! #if STDC_HEADERS
  # include <stdlib.h>
  # include <stddef.h>
  #else
! # if HAVE_STDLIB_H
  #  include <stdlib.h>
  # endif
  #endif
! #if HAVE_STRING_H
! # if !STDC_HEADERS && HAVE_MEMORY_H
  #  include <memory.h>
  # endif
  # include <string.h>
  #endif
! #if HAVE_STRINGS_H
  # include <strings.h>
  #endif
! #if HAVE_INTTYPES_H
  # include <inttypes.h>
- #else
- # if HAVE_STDINT_H
- #  include <stdint.h>
- # endif
  #endif
! #if HAVE_UNISTD_H
  # include <unistd.h>
  #endif"
  
! ac_subst_vars='sim_environment sim_alignment sim_assert sim_bitsize sim_endian sim_hostendian sim_float sim_scache sim_default_model sim_hw_cflags sim_hw_objs sim_hw sim_inline sim_packages sim_regparm sim_reserved_bits sim_smp sim_stdcall sim_xor_endian WARN_CFLAGS WERROR_CFLAGS SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT USE_NLS LIBINTL LIBINTL_DEP INCINTL XGETTEXT GMSGFMT POSUB CATALOGS DATADIRNAME INSTOBJEXT GENCAT CATOBJEXT build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os CPP EGREP LIBOBJS CC_FOR_BUILD CFLAGS_FOR_BUILD HDEFINES AR RANLIB ac_ct_RANLIB sim_cflags sim_warnings sim_line_nr sim_config sim_opcode sim_switch sim_dup sim_decode_mechanism sim_jump sim_filter sim_icache sim_hw_src sim_hw_obj sim_pk_src sim_pk_obj sim_bswap sim_igen_smp sim_hostbitsize sim_env sim_timebase sim_trace sim_reserved sim_monitor sim_model sim_model_issue sim_stdio sim_termio sim_devzero sim_callback sim_targ_vals sim_fpu_cflags sim_fpu LTLIBOBJS'
  ac_subst_files=''
  
  # Initialize some variables set by options.
  ac_init_help=
  ac_init_version=false
  # The variables have the same names as the options, with
  # dashes changed to underlines.
  cache_file=/dev/null
--- 602,831 ----
  # Factoring default headers for most tests.
  ac_includes_default="\
  #include <stdio.h>
! #ifdef HAVE_SYS_TYPES_H
  # include <sys/types.h>
  #endif
! #ifdef HAVE_SYS_STAT_H
  # include <sys/stat.h>
  #endif
! #ifdef STDC_HEADERS
  # include <stdlib.h>
  # include <stddef.h>
  #else
! # ifdef HAVE_STDLIB_H
  #  include <stdlib.h>
  # endif
  #endif
! #ifdef HAVE_STRING_H
! # if !defined STDC_HEADERS && defined HAVE_MEMORY_H
  #  include <memory.h>
  # endif
  # include <string.h>
  #endif
! #ifdef HAVE_STRINGS_H
  # include <strings.h>
  #endif
! #ifdef HAVE_INTTYPES_H
  # include <inttypes.h>
  #endif
! #ifdef HAVE_STDINT_H
! # include <stdint.h>
! #endif
! #ifdef HAVE_UNISTD_H
  # include <unistd.h>
  #endif"
  
! ac_subst_vars='sim_environment
! sim_alignment
! sim_assert
! sim_bitsize
! sim_endian
! sim_hostendian
! sim_float
! sim_scache
! sim_default_model
! sim_hw_cflags
! sim_hw_objs
! sim_hw
! sim_inline
! sim_packages
! sim_regparm
! sim_reserved_bits
! sim_smp
! sim_stdcall
! sim_xor_endian
! WARN_CFLAGS
! WERROR_CFLAGS
! SHELL
! PATH_SEPARATOR
! PACKAGE_NAME
! PACKAGE_TARNAME
! PACKAGE_VERSION
! PACKAGE_STRING
! PACKAGE_BUGREPORT
! exec_prefix
! prefix
! program_transform_name
! bindir
! sbindir
! libexecdir
! datarootdir
! datadir
! sysconfdir
! sharedstatedir
! localstatedir
! includedir
! oldincludedir
! docdir
! infodir
! htmldir
! dvidir
! pdfdir
! psdir
! libdir
! localedir
! mandir
! DEFS
! ECHO_C
! ECHO_N
! ECHO_T
! LIBS
! build_alias
! host_alias
! target_alias
! INSTALL_PROGRAM
! INSTALL_SCRIPT
! INSTALL_DATA
! CC
! CFLAGS
! LDFLAGS
! CPPFLAGS
! ac_ct_CC
! EXEEXT
! OBJEXT
! USE_NLS
! LIBINTL
! LIBINTL_DEP
! INCINTL
! XGETTEXT
! GMSGFMT
! POSUB
! CATALOGS
! DATADIRNAME
! INSTOBJEXT
! GENCAT
! CATOBJEXT
! CPP
! GREP
! EGREP
! build
! build_cpu
! build_vendor
! build_os
! host
! host_cpu
! host_vendor
! host_os
! target
! target_cpu
! target_vendor
! target_os
! LIBOBJS
! CC_FOR_BUILD
! CFLAGS_FOR_BUILD
! HDEFINES
! AR
! RANLIB
! sim_cflags
! sim_warnings
! sim_line_nr
! sim_config
! sim_opcode
! sim_switch
! sim_dup
! sim_decode_mechanism
! sim_jump
! sim_filter
! sim_icache
! sim_hw_src
! sim_hw_obj
! sim_pk_src
! sim_pk_obj
! sim_bswap
! sim_igen_smp
! sim_hostbitsize
! sim_env
! sim_timebase
! sim_trace
! sim_reserved
! sim_monitor
! sim_model
! sim_model_issue
! sim_stdio
! sim_termio
! sim_devzero
! sim_callback
! sim_targ_vals
! sim_fpu_cflags
! sim_fpu
! sim_async_io_src
! sim_async_io_obj
! LTLIBOBJS'
  ac_subst_files=''
+ ac_user_opts='
+ enable_option_checking
+ enable_sim_alignment
+ enable_sim_assert
+ enable_sim_bitsize
+ enable_sim_bswap
+ enable_sim_cflags
+ enable_sim_config
+ enable_sim_decode_mechanism
+ enable_sim_default_model
+ enable_sim_duplicate
+ enable_sim_endian
+ enable_sim_env
+ enable_sim_filter
+ enable_sim_float
+ enable_sim_hardware
+ enable_sim_hostbitsize
+ enable_sim_hostendian
+ enable_sim_icache
+ enable_sim_inline
+ enable_sim_jump
+ enable_sim_line_nr
+ enable_sim_model
+ enable_sim_model_issue
+ enable_sim_monitor
+ enable_sim_opcode
+ enable_sim_packages
+ enable_sim_regparm
+ enable_sim_reserved_bits
+ enable_sim_smp
+ enable_sim_stdcall
+ enable_sim_stdio
+ enable_sim_switch
+ enable_sim_timebase
+ enable_sim_trace
+ enable_sim_warnings
+ enable_sim_xor_endian
+ '
+       ac_precious_vars='build_alias
+ host_alias
+ target_alias
+ CC
+ CFLAGS
+ LDFLAGS
+ LIBS
+ CPPFLAGS
+ CPP'
+ 
  
  # Initialize some variables set by options.
  ac_init_help=
  ac_init_version=false
+ ac_unrecognized_opts=
+ ac_unrecognized_sep=
  # The variables have the same names as the options, with
  # dashes changed to underlines.
  cache_file=/dev/null
***************
*** 337,370 ****
  # and all the variables that are supposed to be based on exec_prefix
  # by default will actually change.
  # Use braces instead of parens because sh, perl, etc. also accept them.
  bindir='${exec_prefix}/bin'
  sbindir='${exec_prefix}/sbin'
  libexecdir='${exec_prefix}/libexec'
! datadir='${prefix}/share'
  sysconfdir='${prefix}/etc'
  sharedstatedir='${prefix}/com'
  localstatedir='${prefix}/var'
- libdir='${exec_prefix}/lib'
  includedir='${prefix}/include'
  oldincludedir='/usr/include'
! infodir='${prefix}/info'
! mandir='${prefix}/man'
  
  ac_prev=
  for ac_option
  do
    # If the previous option needs an argument, assign it.
    if test -n "$ac_prev"; then
!     eval "$ac_prev=\$ac_option"
      ac_prev=
      continue
    fi
  
!   ac_optarg=`expr "x$ac_option" : 'x[^=]*=\(.*\)'`
  
    # Accept the important Cygnus configure options, so we can diagnose typos.
  
!   case $ac_option in
  
    -bindir | --bindir | --bindi | --bind | --bin | --bi)
      ac_prev=bindir ;;
--- 848,895 ----
  # and all the variables that are supposed to be based on exec_prefix
  # by default will actually change.
  # Use braces instead of parens because sh, perl, etc. also accept them.
+ # (The list follows the same order as the GNU Coding Standards.)
  bindir='${exec_prefix}/bin'
  sbindir='${exec_prefix}/sbin'
  libexecdir='${exec_prefix}/libexec'
! datarootdir='${prefix}/share'
! datadir='${datarootdir}'
  sysconfdir='${prefix}/etc'
  sharedstatedir='${prefix}/com'
  localstatedir='${prefix}/var'
  includedir='${prefix}/include'
  oldincludedir='/usr/include'
! docdir='${datarootdir}/doc/${PACKAGE}'
! infodir='${datarootdir}/info'
! htmldir='${docdir}'
! dvidir='${docdir}'
! pdfdir='${docdir}'
! psdir='${docdir}'
! libdir='${exec_prefix}/lib'
! localedir='${datarootdir}/locale'
! mandir='${datarootdir}/man'
  
  ac_prev=
+ ac_dashdash=
  for ac_option
  do
    # If the previous option needs an argument, assign it.
    if test -n "$ac_prev"; then
!     eval $ac_prev=\$ac_option
      ac_prev=
      continue
    fi
  
!   case $ac_option in
!   *=*)	ac_optarg=`expr "X$ac_option" : '[^=]*=\(.*\)'` ;;
!   *)	ac_optarg=yes ;;
!   esac
  
    # Accept the important Cygnus configure options, so we can diagnose typos.
  
!   case $ac_dashdash$ac_option in
!   --)
!     ac_dashdash=yes ;;
  
    -bindir | --bindir | --bindi | --bind | --bin | --bi)
      ac_prev=bindir ;;
***************
*** 386,418 ****
    --config-cache | -C)
      cache_file=config.cache ;;
  
!   -datadir | --datadir | --datadi | --datad | --data | --dat | --da)
      ac_prev=datadir ;;
!   -datadir=* | --datadir=* | --datadi=* | --datad=* | --data=* | --dat=* \
!   | --da=*)
      datadir=$ac_optarg ;;
  
    -disable-* | --disable-*)
!     ac_feature=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
      # Reject names that are not valid shell variable names.
!     expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
!       { echo "$as_me: error: invalid feature name: $ac_feature" >&2
     { (exit 1); exit 1; }; }
!     ac_feature=`echo $ac_feature | sed 's/-/_/g'`
!     eval "enable_$ac_feature=no" ;;
  
    -enable-* | --enable-*)
!     ac_feature=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
      # Reject names that are not valid shell variable names.
!     expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
!       { echo "$as_me: error: invalid feature name: $ac_feature" >&2
     { (exit 1); exit 1; }; }
!     ac_feature=`echo $ac_feature | sed 's/-/_/g'`
!     case $ac_option in
!       *=*) ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`;;
!       *) ac_optarg=yes ;;
      esac
!     eval "enable_$ac_feature='$ac_optarg'" ;;
  
    -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
    | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
--- 911,971 ----
    --config-cache | -C)
      cache_file=config.cache ;;
  
!   -datadir | --datadir | --datadi | --datad)
      ac_prev=datadir ;;
!   -datadir=* | --datadir=* | --datadi=* | --datad=*)
      datadir=$ac_optarg ;;
  
+   -datarootdir | --datarootdir | --datarootdi | --datarootd | --dataroot \
+   | --dataroo | --dataro | --datar)
+     ac_prev=datarootdir ;;
+   -datarootdir=* | --datarootdir=* | --datarootdi=* | --datarootd=* \
+   | --dataroot=* | --dataroo=* | --dataro=* | --datar=*)
+     datarootdir=$ac_optarg ;;
+ 
    -disable-* | --disable-*)
!     ac_useropt=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
      # Reject names that are not valid shell variable names.
!     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
!       { $as_echo "$as_me: error: invalid feature name: $ac_useropt" >&2
     { (exit 1); exit 1; }; }
!     ac_useropt_orig=$ac_useropt
!     ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
!     case $ac_user_opts in
!       *"
! "enable_$ac_useropt"
! "*) ;;
!       *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--disable-$ac_useropt_orig"
! 	 ac_unrecognized_sep=', ';;
!     esac
!     eval enable_$ac_useropt=no ;;
! 
!   -docdir | --docdir | --docdi | --doc | --do)
!     ac_prev=docdir ;;
!   -docdir=* | --docdir=* | --docdi=* | --doc=* | --do=*)
!     docdir=$ac_optarg ;;
! 
!   -dvidir | --dvidir | --dvidi | --dvid | --dvi | --dv)
!     ac_prev=dvidir ;;
!   -dvidir=* | --dvidir=* | --dvidi=* | --dvid=* | --dvi=* | --dv=*)
!     dvidir=$ac_optarg ;;
  
    -enable-* | --enable-*)
!     ac_useropt=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
      # Reject names that are not valid shell variable names.
!     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
!       { $as_echo "$as_me: error: invalid feature name: $ac_useropt" >&2
     { (exit 1); exit 1; }; }
!     ac_useropt_orig=$ac_useropt
!     ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
!     case $ac_user_opts in
!       *"
! "enable_$ac_useropt"
! "*) ;;
!       *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--enable-$ac_useropt_orig"
! 	 ac_unrecognized_sep=', ';;
      esac
!     eval enable_$ac_useropt=\$ac_optarg ;;
  
    -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
    | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
***************
*** 439,444 ****
--- 992,1003 ----
    -host=* | --host=* | --hos=* | --ho=*)
      host_alias=$ac_optarg ;;
  
+   -htmldir | --htmldir | --htmldi | --htmld | --html | --htm | --ht)
+     ac_prev=htmldir ;;
+   -htmldir=* | --htmldir=* | --htmldi=* | --htmld=* | --html=* | --htm=* \
+   | --ht=*)
+     htmldir=$ac_optarg ;;
+ 
    -includedir | --includedir | --includedi | --included | --include \
    | --includ | --inclu | --incl | --inc)
      ac_prev=includedir ;;
***************
*** 463,475 ****
    | --libexe=* | --libex=* | --libe=*)
      libexecdir=$ac_optarg ;;
  
    -localstatedir | --localstatedir | --localstatedi | --localstated \
!   | --localstate | --localstat | --localsta | --localst \
!   | --locals | --local | --loca | --loc | --lo)
      ac_prev=localstatedir ;;
    -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
!   | --localstate=* | --localstat=* | --localsta=* | --localst=* \
!   | --locals=* | --local=* | --loca=* | --loc=* | --lo=*)
      localstatedir=$ac_optarg ;;
  
    -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
--- 1022,1037 ----
    | --libexe=* | --libex=* | --libe=*)
      libexecdir=$ac_optarg ;;
  
+   -localedir | --localedir | --localedi | --localed | --locale)
+     ac_prev=localedir ;;
+   -localedir=* | --localedir=* | --localedi=* | --localed=* | --locale=*)
+     localedir=$ac_optarg ;;
+ 
    -localstatedir | --localstatedir | --localstatedi | --localstated \
!   | --localstate | --localstat | --localsta | --localst | --locals)
      ac_prev=localstatedir ;;
    -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
!   | --localstate=* | --localstat=* | --localsta=* | --localst=* | --locals=*)
      localstatedir=$ac_optarg ;;
  
    -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
***************
*** 534,539 ****
--- 1096,1111 ----
    | --progr-tra=* | --program-tr=* | --program-t=*)
      program_transform_name=$ac_optarg ;;
  
+   -pdfdir | --pdfdir | --pdfdi | --pdfd | --pdf | --pd)
+     ac_prev=pdfdir ;;
+   -pdfdir=* | --pdfdir=* | --pdfdi=* | --pdfd=* | --pdf=* | --pd=*)
+     pdfdir=$ac_optarg ;;
+ 
+   -psdir | --psdir | --psdi | --psd | --ps)
+     ac_prev=psdir ;;
+   -psdir=* | --psdir=* | --psdi=* | --psd=* | --ps=*)
+     psdir=$ac_optarg ;;
+ 
    -q | -quiet | --quiet | --quie | --qui | --qu | --q \
    | -silent | --silent | --silen | --sile | --sil)
      silent=yes ;;
***************
*** 584,609 ****
      ac_init_version=: ;;
  
    -with-* | --with-*)
!     ac_package=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
      # Reject names that are not valid shell variable names.
!     expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
!       { echo "$as_me: error: invalid package name: $ac_package" >&2
     { (exit 1); exit 1; }; }
!     ac_package=`echo $ac_package| sed 's/-/_/g'`
!     case $ac_option in
!       *=*) ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`;;
!       *) ac_optarg=yes ;;
      esac
!     eval "with_$ac_package='$ac_optarg'" ;;
  
    -without-* | --without-*)
!     ac_package=`expr "x$ac_option" : 'x-*without-\(.*\)'`
      # Reject names that are not valid shell variable names.
!     expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
!       { echo "$as_me: error: invalid package name: $ac_package" >&2
     { (exit 1); exit 1; }; }
!     ac_package=`echo $ac_package | sed 's/-/_/g'`
!     eval "with_$ac_package=no" ;;
  
    --x)
      # Obsolete; use --with-x.
--- 1156,1193 ----
      ac_init_version=: ;;
  
    -with-* | --with-*)
!     ac_useropt=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
      # Reject names that are not valid shell variable names.
!     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
!       { $as_echo "$as_me: error: invalid package name: $ac_useropt" >&2
     { (exit 1); exit 1; }; }
!     ac_useropt_orig=$ac_useropt
!     ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
!     case $ac_user_opts in
!       *"
! "with_$ac_useropt"
! "*) ;;
!       *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--with-$ac_useropt_orig"
! 	 ac_unrecognized_sep=', ';;
      esac
!     eval with_$ac_useropt=\$ac_optarg ;;
  
    -without-* | --without-*)
!     ac_useropt=`expr "x$ac_option" : 'x-*without-\(.*\)'`
      # Reject names that are not valid shell variable names.
!     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
!       { $as_echo "$as_me: error: invalid package name: $ac_useropt" >&2
     { (exit 1); exit 1; }; }
!     ac_useropt_orig=$ac_useropt
!     ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
!     case $ac_user_opts in
!       *"
! "with_$ac_useropt"
! "*) ;;
!       *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--without-$ac_useropt_orig"
! 	 ac_unrecognized_sep=', ';;
!     esac
!     eval with_$ac_useropt=no ;;
  
    --x)
      # Obsolete; use --with-x.
***************
*** 623,629 ****
    | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
      x_libraries=$ac_optarg ;;
  
!   -*) { echo "$as_me: error: unrecognized option: $ac_option
  Try \`$0 --help' for more information." >&2
     { (exit 1); exit 1; }; }
      ;;
--- 1207,1213 ----
    | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
      x_libraries=$ac_optarg ;;
  
!   -*) { $as_echo "$as_me: error: unrecognized option: $ac_option
  Try \`$0 --help' for more information." >&2
     { (exit 1); exit 1; }; }
      ;;
***************
*** 632,648 ****
      ac_envvar=`expr "x$ac_option" : 'x\([^=]*\)='`
      # Reject names that are not valid shell variable names.
      expr "x$ac_envvar" : ".*[^_$as_cr_alnum]" >/dev/null &&
!       { echo "$as_me: error: invalid variable name: $ac_envvar" >&2
     { (exit 1); exit 1; }; }
!     ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`
!     eval "$ac_envvar='$ac_optarg'"
      export $ac_envvar ;;
  
    *)
      # FIXME: should be removed in autoconf 3.0.
!     echo "$as_me: WARNING: you should use --build, --host, --target" >&2
      expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/dev/null &&
!       echo "$as_me: WARNING: invalid host type: $ac_option" >&2
      : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}
      ;;
  
--- 1216,1231 ----
      ac_envvar=`expr "x$ac_option" : 'x\([^=]*\)='`
      # Reject names that are not valid shell variable names.
      expr "x$ac_envvar" : ".*[^_$as_cr_alnum]" >/dev/null &&
!       { $as_echo "$as_me: error: invalid variable name: $ac_envvar" >&2
     { (exit 1); exit 1; }; }
!     eval $ac_envvar=\$ac_optarg
      export $ac_envvar ;;
  
    *)
      # FIXME: should be removed in autoconf 3.0.
!     $as_echo "$as_me: WARNING: you should use --build, --host, --target" >&2
      expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/dev/null &&
!       $as_echo "$as_me: WARNING: invalid host type: $ac_option" >&2
      : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}
      ;;
  
***************
*** 651,681 ****
  
  if test -n "$ac_prev"; then
    ac_option=--`echo $ac_prev | sed 's/_/-/g'`
!   { echo "$as_me: error: missing argument to $ac_option" >&2
     { (exit 1); exit 1; }; }
  fi
  
! # Be sure to have absolute paths.
! for ac_var in exec_prefix prefix
! do
!   eval ac_val=$`echo $ac_var`
!   case $ac_val in
!     [\\/$]* | ?:[\\/]* | NONE | '' ) ;;
!     *)  { echo "$as_me: error: expected an absolute directory name for --$ac_var: $ac_val" >&2
!    { (exit 1); exit 1; }; };;
    esac
! done
  
! # Be sure to have absolute paths.
! for ac_var in bindir sbindir libexecdir datadir sysconfdir sharedstatedir \
! 	      localstatedir libdir includedir oldincludedir infodir mandir
  do
!   eval ac_val=$`echo $ac_var`
    case $ac_val in
!     [\\/$]* | ?:[\\/]* ) ;;
!     *)  { echo "$as_me: error: expected an absolute directory name for --$ac_var: $ac_val" >&2
!    { (exit 1); exit 1; }; };;
    esac
  done
  
  # There might be people who depend on the old broken behavior: `$host'
--- 1234,1272 ----
  
  if test -n "$ac_prev"; then
    ac_option=--`echo $ac_prev | sed 's/_/-/g'`
!   { $as_echo "$as_me: error: missing argument to $ac_option" >&2
     { (exit 1); exit 1; }; }
  fi
  
! if test -n "$ac_unrecognized_opts"; then
!   case $enable_option_checking in
!     no) ;;
!     fatal) { $as_echo "$as_me: error: Unrecognized options: $ac_unrecognized_opts" >&2
!    { (exit 1); exit 1; }; } ;;
!     *)     $as_echo "$as_me: WARNING: Unrecognized options: $ac_unrecognized_opts" >&2 ;;
    esac
! fi
  
! # Check all directory arguments for consistency.
! for ac_var in	exec_prefix prefix bindir sbindir libexecdir datarootdir \
! 		datadir sysconfdir sharedstatedir localstatedir includedir \
! 		oldincludedir docdir infodir htmldir dvidir pdfdir psdir \
! 		libdir localedir mandir
  do
!   eval ac_val=\$$ac_var
!   # Remove trailing slashes.
    case $ac_val in
!     */ )
!       ac_val=`expr "X$ac_val" : 'X\(.*[^/]\)' \| "X$ac_val" : 'X\(.*\)'`
!       eval $ac_var=\$ac_val;;
!   esac
!   # Be sure to have absolute directory names.
!   case $ac_val in
!     [\\/$]* | ?:[\\/]* )  continue;;
!     NONE | '' ) case $ac_var in *prefix ) continue;; esac;;
    esac
+   { $as_echo "$as_me: error: expected an absolute directory name for --$ac_var: $ac_val" >&2
+    { (exit 1); exit 1; }; }
  done
  
  # There might be people who depend on the old broken behavior: `$host'
***************
*** 689,695 ****
  if test "x$host_alias" != x; then
    if test "x$build_alias" = x; then
      cross_compiling=maybe
!     echo "$as_me: WARNING: If you wanted to set the --build type, don't use --host.
      If a cross compiler is detected then cross compile mode will be used." >&2
    elif test "x$build_alias" != "x$host_alias"; then
      cross_compiling=yes
--- 1280,1286 ----
  if test "x$host_alias" != x; then
    if test "x$build_alias" = x; then
      cross_compiling=maybe
!     $as_echo "$as_me: WARNING: If you wanted to set the --build type, don't use --host.
      If a cross compiler is detected then cross compile mode will be used." >&2
    elif test "x$build_alias" != "x$host_alias"; then
      cross_compiling=yes
***************
*** 702,775 ****
  test "$silent" = yes && exec 6>/dev/null
  
  
  # Find the source files, if location was not specified.
  if test -z "$srcdir"; then
    ac_srcdir_defaulted=yes
!   # Try the directory containing this script, then its parent.
!   ac_confdir=`(dirname "$0") 2>/dev/null ||
! $as_expr X"$0" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
! 	 X"$0" : 'X\(//\)[^/]' \| \
! 	 X"$0" : 'X\(//\)$' \| \
! 	 X"$0" : 'X\(/\)' \| \
! 	 .     : '\(.\)' 2>/dev/null ||
! echo X"$0" |
!     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
!   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
!   	  /^X\(\/\/\)$/{ s//\1/; q; }
!   	  /^X\(\/\).*/{ s//\1/; q; }
!   	  s/.*/./; q'`
    srcdir=$ac_confdir
!   if test ! -r $srcdir/$ac_unique_file; then
      srcdir=..
    fi
  else
    ac_srcdir_defaulted=no
  fi
! if test ! -r $srcdir/$ac_unique_file; then
!   if test "$ac_srcdir_defaulted" = yes; then
!     { echo "$as_me: error: cannot find sources ($ac_unique_file) in $ac_confdir or .." >&2
!    { (exit 1); exit 1; }; }
!   else
!     { echo "$as_me: error: cannot find sources ($ac_unique_file) in $srcdir" >&2
     { (exit 1); exit 1; }; }
-   fi
  fi
! (cd $srcdir && test -r ./$ac_unique_file) 2>/dev/null ||
!   { echo "$as_me: error: sources are in $srcdir, but \`cd $srcdir' does not work" >&2
     { (exit 1); exit 1; }; }
! srcdir=`echo "$srcdir" | sed 's%\([^\\/]\)[\\/]*$%\1%'`
! ac_env_build_alias_set=${build_alias+set}
! ac_env_build_alias_value=$build_alias
! ac_cv_env_build_alias_set=${build_alias+set}
! ac_cv_env_build_alias_value=$build_alias
! ac_env_host_alias_set=${host_alias+set}
! ac_env_host_alias_value=$host_alias
! ac_cv_env_host_alias_set=${host_alias+set}
! ac_cv_env_host_alias_value=$host_alias
! ac_env_target_alias_set=${target_alias+set}
! ac_env_target_alias_value=$target_alias
! ac_cv_env_target_alias_set=${target_alias+set}
! ac_cv_env_target_alias_value=$target_alias
! ac_env_CC_set=${CC+set}
! ac_env_CC_value=$CC
! ac_cv_env_CC_set=${CC+set}
! ac_cv_env_CC_value=$CC
! ac_env_CFLAGS_set=${CFLAGS+set}
! ac_env_CFLAGS_value=$CFLAGS
! ac_cv_env_CFLAGS_set=${CFLAGS+set}
! ac_cv_env_CFLAGS_value=$CFLAGS
! ac_env_LDFLAGS_set=${LDFLAGS+set}
! ac_env_LDFLAGS_value=$LDFLAGS
! ac_cv_env_LDFLAGS_set=${LDFLAGS+set}
! ac_cv_env_LDFLAGS_value=$LDFLAGS
! ac_env_CPPFLAGS_set=${CPPFLAGS+set}
! ac_env_CPPFLAGS_value=$CPPFLAGS
! ac_cv_env_CPPFLAGS_set=${CPPFLAGS+set}
! ac_cv_env_CPPFLAGS_value=$CPPFLAGS
! ac_env_CPP_set=${CPP+set}
! ac_env_CPP_value=$CPP
! ac_cv_env_CPP_set=${CPP+set}
! ac_cv_env_CPP_value=$CPP
  
  #
  # Report the --help message.
--- 1293,1368 ----
  test "$silent" = yes && exec 6>/dev/null
  
  
+ ac_pwd=`pwd` && test -n "$ac_pwd" &&
+ ac_ls_di=`ls -di .` &&
+ ac_pwd_ls_di=`cd "$ac_pwd" && ls -di .` ||
+   { $as_echo "$as_me: error: Working directory cannot be determined" >&2
+    { (exit 1); exit 1; }; }
+ test "X$ac_ls_di" = "X$ac_pwd_ls_di" ||
+   { $as_echo "$as_me: error: pwd does not report name of working directory" >&2
+    { (exit 1); exit 1; }; }
+ 
+ 
  # Find the source files, if location was not specified.
  if test -z "$srcdir"; then
    ac_srcdir_defaulted=yes
!   # Try the directory containing this script, then the parent directory.
!   ac_confdir=`$as_dirname -- "$as_myself" ||
! $as_expr X"$as_myself" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
! 	 X"$as_myself" : 'X\(//\)[^/]' \| \
! 	 X"$as_myself" : 'X\(//\)$' \| \
! 	 X"$as_myself" : 'X\(/\)' \| . 2>/dev/null ||
! $as_echo X"$as_myself" |
!     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
! 	    s//\1/
! 	    q
! 	  }
! 	  /^X\(\/\/\)[^/].*/{
! 	    s//\1/
! 	    q
! 	  }
! 	  /^X\(\/\/\)$/{
! 	    s//\1/
! 	    q
! 	  }
! 	  /^X\(\/\).*/{
! 	    s//\1/
! 	    q
! 	  }
! 	  s/.*/./; q'`
    srcdir=$ac_confdir
!   if test ! -r "$srcdir/$ac_unique_file"; then
      srcdir=..
    fi
  else
    ac_srcdir_defaulted=no
  fi
! if test ! -r "$srcdir/$ac_unique_file"; then
!   test "$ac_srcdir_defaulted" = yes && srcdir="$ac_confdir or .."
!   { $as_echo "$as_me: error: cannot find sources ($ac_unique_file) in $srcdir" >&2
     { (exit 1); exit 1; }; }
  fi
! ac_msg="sources are in $srcdir, but \`cd $srcdir' does not work"
! ac_abs_confdir=`(
! 	cd "$srcdir" && test -r "./$ac_unique_file" || { $as_echo "$as_me: error: $ac_msg" >&2
     { (exit 1); exit 1; }; }
! 	pwd)`
! # When building in place, set srcdir=.
! if test "$ac_abs_confdir" = "$ac_pwd"; then
!   srcdir=.
! fi
! # Remove unnecessary trailing slashes from srcdir.
! # Double slashes in file names in object file debugging info
! # mess up M-x gdb in Emacs.
! case $srcdir in
! */) srcdir=`expr "X$srcdir" : 'X\(.*[^/]\)' \| "X$srcdir" : 'X\(.*\)'`;;
! esac
! for ac_var in $ac_precious_vars; do
!   eval ac_env_${ac_var}_set=\${${ac_var}+set}
!   eval ac_env_${ac_var}_value=\$${ac_var}
!   eval ac_cv_env_${ac_var}_set=\${${ac_var}+set}
!   eval ac_cv_env_${ac_var}_value=\$${ac_var}
! done
  
  #
  # Report the --help message.
***************
*** 798,811 ****
    -n, --no-create         do not create output files
        --srcdir=DIR        find the sources in DIR [configure dir or \`..']
  
- _ACEOF
- 
-   cat <<_ACEOF
  Installation directories:
    --prefix=PREFIX         install architecture-independent files in PREFIX
! 			  [$ac_default_prefix]
    --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
! 			  [PREFIX]
  
  By default, \`make install' will install all the files in
  \`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
--- 1391,1401 ----
    -n, --no-create         do not create output files
        --srcdir=DIR        find the sources in DIR [configure dir or \`..']
  
  Installation directories:
    --prefix=PREFIX         install architecture-independent files in PREFIX
!                           [$ac_default_prefix]
    --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
!                           [PREFIX]
  
  By default, \`make install' will install all the files in
  \`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
***************
*** 815,832 ****
  For better control, use the options below.
  
  Fine tuning of the installation directories:
!   --bindir=DIR           user executables [EPREFIX/bin]
!   --sbindir=DIR          system admin executables [EPREFIX/sbin]
!   --libexecdir=DIR       program executables [EPREFIX/libexec]
!   --datadir=DIR          read-only architecture-independent data [PREFIX/share]
!   --sysconfdir=DIR       read-only single-machine data [PREFIX/etc]
!   --sharedstatedir=DIR   modifiable architecture-independent data [PREFIX/com]
!   --localstatedir=DIR    modifiable single-machine data [PREFIX/var]
!   --libdir=DIR           object code libraries [EPREFIX/lib]
!   --includedir=DIR       C header files [PREFIX/include]
!   --oldincludedir=DIR    C header files for non-gcc [/usr/include]
!   --infodir=DIR          info documentation [PREFIX/info]
!   --mandir=DIR           man documentation [PREFIX/man]
  _ACEOF
  
    cat <<\_ACEOF
--- 1405,1429 ----
  For better control, use the options below.
  
  Fine tuning of the installation directories:
!   --bindir=DIR            user executables [EPREFIX/bin]
!   --sbindir=DIR           system admin executables [EPREFIX/sbin]
!   --libexecdir=DIR        program executables [EPREFIX/libexec]
!   --sysconfdir=DIR        read-only single-machine data [PREFIX/etc]
!   --sharedstatedir=DIR    modifiable architecture-independent data [PREFIX/com]
!   --localstatedir=DIR     modifiable single-machine data [PREFIX/var]
!   --libdir=DIR            object code libraries [EPREFIX/lib]
!   --includedir=DIR        C header files [PREFIX/include]
!   --oldincludedir=DIR     C header files for non-gcc [/usr/include]
!   --datarootdir=DIR       read-only arch.-independent data root [PREFIX/share]
!   --datadir=DIR           read-only architecture-independent data [DATAROOTDIR]
!   --infodir=DIR           info documentation [DATAROOTDIR/info]
!   --localedir=DIR         locale-dependent data [DATAROOTDIR/locale]
!   --mandir=DIR            man documentation [DATAROOTDIR/man]
!   --docdir=DIR            documentation root [DATAROOTDIR/doc/PACKAGE]
!   --htmldir=DIR           html documentation [DOCDIR]
!   --dvidir=DIR            dvi documentation [DOCDIR]
!   --pdfdir=DIR            pdf documentation [DOCDIR]
!   --psdir=DIR             ps documentation [DOCDIR]
  _ACEOF
  
    cat <<\_ACEOF
***************
*** 848,853 ****
--- 1445,1451 ----
    cat <<\_ACEOF
  
  Optional Features:
+   --disable-option-checking  ignore unrecognized --enable/--with options
    --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
    --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
    --enable-sim-alignment=align		Specify strict or nonstrict alignment.
***************
*** 891,1016 ****
    CFLAGS      C compiler flags
    LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a
                nonstandard directory <lib dir>
!   CPPFLAGS    C/C++ preprocessor flags, e.g. -I<include dir> if you have
!               headers in a nonstandard directory <include dir>
    CPP         C preprocessor
  
  Use these variables to override the choices made by `configure' or to help
  it to find libraries and programs with nonstandard names/locations.
  
  _ACEOF
  fi
  
  if test "$ac_init_help" = "recursive"; then
    # If there are subdirs, report their specific --help.
-   ac_popdir=`pwd`
    for ac_dir in : $ac_subdirs_all; do test "x$ac_dir" = x: && continue
!     test -d $ac_dir || continue
      ac_builddir=.
  
! if test "$ac_dir" != .; then
!   ac_dir_suffix=/`echo "$ac_dir" | sed 's,^\.[\\/],,'`
!   # A "../" for each directory in $ac_dir_suffix.
!   ac_top_builddir=`echo "$ac_dir_suffix" | sed 's,/[^\\/]*,../,g'`
! else
!   ac_dir_suffix= ac_top_builddir=
! fi
  
  case $srcdir in
!   .)  # No --srcdir option.  We are building in place.
      ac_srcdir=.
!     if test -z "$ac_top_builddir"; then
!        ac_top_srcdir=.
!     else
!        ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
!     fi ;;
!   [\\/]* | ?:[\\/]* )  # Absolute path.
      ac_srcdir=$srcdir$ac_dir_suffix;
!     ac_top_srcdir=$srcdir ;;
!   *) # Relative path.
!     ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
!     ac_top_srcdir=$ac_top_builddir$srcdir ;;
! esac
! 
! # Do not use `cd foo && pwd` to compute absolute paths, because
! # the directories may not exist.
! case `pwd` in
! .) ac_abs_builddir="$ac_dir";;
! *)
!   case "$ac_dir" in
!   .) ac_abs_builddir=`pwd`;;
!   [\\/]* | ?:[\\/]* ) ac_abs_builddir="$ac_dir";;
!   *) ac_abs_builddir=`pwd`/"$ac_dir";;
!   esac;;
! esac
! case $ac_abs_builddir in
! .) ac_abs_top_builddir=${ac_top_builddir}.;;
! *)
!   case ${ac_top_builddir}. in
!   .) ac_abs_top_builddir=$ac_abs_builddir;;
!   [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
!   *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
!   esac;;
! esac
! case $ac_abs_builddir in
! .) ac_abs_srcdir=$ac_srcdir;;
! *)
!   case $ac_srcdir in
!   .) ac_abs_srcdir=$ac_abs_builddir;;
!   [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
!   *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
!   esac;;
! esac
! case $ac_abs_builddir in
! .) ac_abs_top_srcdir=$ac_top_srcdir;;
! *)
!   case $ac_top_srcdir in
!   .) ac_abs_top_srcdir=$ac_abs_builddir;;
!   [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
!   *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
!   esac;;
! esac
! 
!     cd $ac_dir
!     # Check for guested configure; otherwise get Cygnus style configure.
!     if test -f $ac_srcdir/configure.gnu; then
!       echo
!       $SHELL $ac_srcdir/configure.gnu  --help=recursive
!     elif test -f $ac_srcdir/configure; then
!       echo
!       $SHELL $ac_srcdir/configure  --help=recursive
!     elif test -f $ac_srcdir/configure.ac ||
! 	   test -f $ac_srcdir/configure.in; then
!       echo
!       $ac_configure --help
      else
!       echo "$as_me: WARNING: no configuration information is in $ac_dir" >&2
!     fi
!     cd $ac_popdir
    done
  fi
  
! test -n "$ac_init_help" && exit 0
  if $ac_init_version; then
    cat <<\_ACEOF
  
! Copyright (C) 2003 Free Software Foundation, Inc.
  This configure script is free software; the Free Software Foundation
  gives unlimited permission to copy, distribute and modify it.
  _ACEOF
!   exit 0
  fi
! exec 5>config.log
! cat >&5 <<_ACEOF
  This file contains any messages produced by compilers while
  running configure, to aid debugging if configure makes a mistake.
  
  It was created by $as_me, which was
! generated by GNU Autoconf 2.59.  Invocation command line was
  
    $ $0 $@
  
  _ACEOF
  {
  cat <<_ASUNAME
  ## --------- ##
--- 1489,1585 ----
    CFLAGS      C compiler flags
    LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a
                nonstandard directory <lib dir>
!   LIBS        libraries to pass to the linker, e.g. -l<library>
!   CPPFLAGS    C/C++/Objective C preprocessor flags, e.g. -I<include dir> if
!               you have headers in a nonstandard directory <include dir>
    CPP         C preprocessor
  
  Use these variables to override the choices made by `configure' or to help
  it to find libraries and programs with nonstandard names/locations.
  
  _ACEOF
+ ac_status=$?
  fi
  
  if test "$ac_init_help" = "recursive"; then
    # If there are subdirs, report their specific --help.
    for ac_dir in : $ac_subdirs_all; do test "x$ac_dir" = x: && continue
!     test -d "$ac_dir" ||
!       { cd "$srcdir" && ac_pwd=`pwd` && srcdir=. && test -d "$ac_dir"; } ||
!       continue
      ac_builddir=.
  
! case "$ac_dir" in
! .) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
! *)
!   ac_dir_suffix=/`$as_echo "$ac_dir" | sed 's|^\.[\\/]||'`
!   # A ".." for each directory in $ac_dir_suffix.
!   ac_top_builddir_sub=`$as_echo "$ac_dir_suffix" | sed 's|/[^\\/]*|/..|g;s|/||'`
!   case $ac_top_builddir_sub in
!   "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
!   *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
!   esac ;;
! esac
! ac_abs_top_builddir=$ac_pwd
! ac_abs_builddir=$ac_pwd$ac_dir_suffix
! # for backward compatibility:
! ac_top_builddir=$ac_top_build_prefix
  
  case $srcdir in
!   .)  # We are building in place.
      ac_srcdir=.
!     ac_top_srcdir=$ac_top_builddir_sub
!     ac_abs_top_srcdir=$ac_pwd ;;
!   [\\/]* | ?:[\\/]* )  # Absolute name.
      ac_srcdir=$srcdir$ac_dir_suffix;
!     ac_top_srcdir=$srcdir
!     ac_abs_top_srcdir=$srcdir ;;
!   *) # Relative name.
!     ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
!     ac_top_srcdir=$ac_top_build_prefix$srcdir
!     ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
! esac
! ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix
! 
!     cd "$ac_dir" || { ac_status=$?; continue; }
!     # Check for guested configure.
!     if test -f "$ac_srcdir/configure.gnu"; then
!       echo &&
!       $SHELL "$ac_srcdir/configure.gnu" --help=recursive
!     elif test -f "$ac_srcdir/configure"; then
!       echo &&
!       $SHELL "$ac_srcdir/configure" --help=recursive
      else
!       $as_echo "$as_me: WARNING: no configuration information is in $ac_dir" >&2
!     fi || ac_status=$?
!     cd "$ac_pwd" || { ac_status=$?; break; }
    done
  fi
  
! test -n "$ac_init_help" && exit $ac_status
  if $ac_init_version; then
    cat <<\_ACEOF
+ configure
+ generated by GNU Autoconf 2.62
  
! Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
! 2002, 2003, 2004, 2005, 2006, 2007, 2008 Free Software Foundation, Inc.
  This configure script is free software; the Free Software Foundation
  gives unlimited permission to copy, distribute and modify it.
  _ACEOF
!   exit
  fi
! cat >config.log <<_ACEOF
  This file contains any messages produced by compilers while
  running configure, to aid debugging if configure makes a mistake.
  
  It was created by $as_me, which was
! generated by GNU Autoconf 2.62.  Invocation command line was
  
    $ $0 $@
  
  _ACEOF
+ exec 5>>config.log
  {
  cat <<_ASUNAME
  ## --------- ##
***************
*** 1029,1035 ****
  /bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
  /usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
  /usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
! hostinfo               = `(hostinfo) 2>/dev/null               || echo unknown`
  /bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`
  /usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`
  /bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`
--- 1598,1604 ----
  /bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
  /usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
  /usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
! /usr/bin/hostinfo      = `(/usr/bin/hostinfo) 2>/dev/null      || echo unknown`
  /bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`
  /usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`
  /bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`
***************
*** 1041,1048 ****
  do
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
!   echo "PATH: $as_dir"
  done
  
  } >&5
  
--- 1610,1618 ----
  do
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
!   $as_echo "PATH: $as_dir"
  done
+ IFS=$as_save_IFS
  
  } >&5
  
***************
*** 1064,1070 ****
  ac_configure_args=
  ac_configure_args0=
  ac_configure_args1=
- ac_sep=
  ac_must_keep_next=false
  for ac_pass in 1 2
  do
--- 1634,1639 ----
***************
*** 1075,1082 ****
      -q | -quiet | --quiet | --quie | --qui | --qu | --q \
      | -silent | --silent | --silen | --sile | --sil)
        continue ;;
!     *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?\"\']*)
!       ac_arg=`echo "$ac_arg" | sed "s/'/'\\\\\\\\''/g"` ;;
      esac
      case $ac_pass in
      1) ac_configure_args0="$ac_configure_args0 '$ac_arg'" ;;
--- 1644,1651 ----
      -q | -quiet | --quiet | --quie | --qui | --qu | --q \
      | -silent | --silent | --silen | --sile | --sil)
        continue ;;
!     *\'*)
!       ac_arg=`$as_echo "$ac_arg" | sed "s/'/'\\\\\\\\''/g"` ;;
      esac
      case $ac_pass in
      1) ac_configure_args0="$ac_configure_args0 '$ac_arg'" ;;
***************
*** 1097,1105 ****
  	  -* ) ac_must_keep_next=true ;;
  	esac
        fi
!       ac_configure_args="$ac_configure_args$ac_sep'$ac_arg'"
!       # Get rid of the leading space.
!       ac_sep=" "
        ;;
      esac
    done
--- 1666,1672 ----
  	  -* ) ac_must_keep_next=true ;;
  	esac
        fi
!       ac_configure_args="$ac_configure_args '$ac_arg'"
        ;;
      esac
    done
***************
*** 1110,1117 ****
  # When interrupted or exit'd, cleanup temporary files, and complete
  # config.log.  We remove comments because anyway the quotes in there
  # would cause problems or look ugly.
! # WARNING: Be sure not to use single quotes in there, as some shells,
! # such as our DU 5.0 friend, will then `close' the trap.
  trap 'exit_status=$?
    # Save into config.log some information that might help in debugging.
    {
--- 1677,1684 ----
  # When interrupted or exit'd, cleanup temporary files, and complete
  # config.log.  We remove comments because anyway the quotes in there
  # would cause problems or look ugly.
! # WARNING: Use '\'' to represent an apostrophe within the trap.
! # WARNING: Do not start the trap code with a newline, due to a FreeBSD 4.0 bug.
  trap 'exit_status=$?
    # Save into config.log some information that might help in debugging.
    {
***************
*** 1124,1143 ****
  _ASBOX
      echo
      # The following way of writing the cache mishandles newlines in values,
! {
    (set) 2>&1 |
!     case `(ac_space='"'"' '"'"'; set | grep ac_space) 2>&1` in
!     *ac_space=\ *)
        sed -n \
! 	"s/'"'"'/'"'"'\\\\'"'"''"'"'/g;
! 	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='"'"'\\2'"'"'/p"
!       ;;
      *)
!       sed -n \
! 	"s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
        ;;
!     esac;
! }
      echo
  
      cat <<\_ASBOX
--- 1691,1725 ----
  _ASBOX
      echo
      # The following way of writing the cache mishandles newlines in values,
! (
!   for ac_var in `(set) 2>&1 | sed -n '\''s/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'\''`; do
!     eval ac_val=\$$ac_var
!     case $ac_val in #(
!     *${as_nl}*)
!       case $ac_var in #(
!       *_cv_*) { $as_echo "$as_me:$LINENO: WARNING: Cache variable $ac_var contains a newline." >&5
! $as_echo "$as_me: WARNING: Cache variable $ac_var contains a newline." >&2;} ;;
!       esac
!       case $ac_var in #(
!       _ | IFS | as_nl) ;; #(
!       BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(
!       *) $as_unset $ac_var ;;
!       esac ;;
!     esac
!   done
    (set) 2>&1 |
!     case $as_nl`(ac_space='\'' '\''; set) 2>&1` in #(
!     *${as_nl}ac_space=\ *)
        sed -n \
! 	"s/'\''/'\''\\\\'\'''\''/g;
! 	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\''\\2'\''/p"
!       ;; #(
      *)
!       sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
        ;;
!     esac |
!     sort
! )
      echo
  
      cat <<\_ASBOX
***************
*** 1148,1169 ****
      echo
      for ac_var in $ac_subst_vars
      do
!       eval ac_val=$`echo $ac_var`
!       echo "$ac_var='"'"'$ac_val'"'"'"
      done | sort
      echo
  
      if test -n "$ac_subst_files"; then
        cat <<\_ASBOX
! ## ------------- ##
! ## Output files. ##
! ## ------------- ##
  _ASBOX
        echo
        for ac_var in $ac_subst_files
        do
! 	eval ac_val=$`echo $ac_var`
! 	echo "$ac_var='"'"'$ac_val'"'"'"
        done | sort
        echo
      fi
--- 1730,1757 ----
      echo
      for ac_var in $ac_subst_vars
      do
!       eval ac_val=\$$ac_var
!       case $ac_val in
!       *\'\''*) ac_val=`$as_echo "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
!       esac
!       $as_echo "$ac_var='\''$ac_val'\''"
      done | sort
      echo
  
      if test -n "$ac_subst_files"; then
        cat <<\_ASBOX
! ## ------------------- ##
! ## File substitutions. ##
! ## ------------------- ##
  _ASBOX
        echo
        for ac_var in $ac_subst_files
        do
! 	eval ac_val=\$$ac_var
! 	case $ac_val in
! 	*\'\''*) ac_val=`$as_echo "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
! 	esac
! 	$as_echo "$ac_var='\''$ac_val'\''"
        done | sort
        echo
      fi
***************
*** 1175,1200 ****
  ## ----------- ##
  _ASBOX
        echo
!       sed "/^$/d" confdefs.h | sort
        echo
      fi
      test "$ac_signal" != 0 &&
!       echo "$as_me: caught signal $ac_signal"
!     echo "$as_me: exit $exit_status"
    } >&5
!   rm -f core *.core &&
!   rm -rf conftest* confdefs* conf$$* $ac_clean_files &&
      exit $exit_status
!      ' 0
  for ac_signal in 1 2 13 15; do
    trap 'ac_signal='$ac_signal'; { (exit 1); exit 1; }' $ac_signal
  done
  ac_signal=0
  
  # confdefs.h avoids OS command line length limits that DEFS can exceed.
! rm -rf conftest* confdefs.h
! # AIX cpp loses on an empty file, so make sure it contains at least a newline.
! echo >confdefs.h
  
  # Predefined preprocessor variables.
  
--- 1763,1786 ----
  ## ----------- ##
  _ASBOX
        echo
!       cat confdefs.h
        echo
      fi
      test "$ac_signal" != 0 &&
!       $as_echo "$as_me: caught signal $ac_signal"
!     $as_echo "$as_me: exit $exit_status"
    } >&5
!   rm -f core *.core core.conftest.* &&
!     rm -f -r conftest* confdefs* conf$$* $ac_clean_files &&
      exit $exit_status
! ' 0
  for ac_signal in 1 2 13 15; do
    trap 'ac_signal='$ac_signal'; { (exit 1); exit 1; }' $ac_signal
  done
  ac_signal=0
  
  # confdefs.h avoids OS command line length limits that DEFS can exceed.
! rm -f -r conftest* confdefs.h
  
  # Predefined preprocessor variables.
  
***************
*** 1224,1241 ****
  
  
  # Let the site file select an alternate cache file if it wants to.
! # Prefer explicitly selected file to automatically selected ones.
! if test -z "$CONFIG_SITE"; then
!   if test "x$prefix" != xNONE; then
!     CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
!   else
!     CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
!   fi
  fi
! for ac_site_file in $CONFIG_SITE; do
    if test -r "$ac_site_file"; then
!     { echo "$as_me:$LINENO: loading site script $ac_site_file" >&5
! echo "$as_me: loading site script $ac_site_file" >&6;}
      sed 's/^/| /' "$ac_site_file" >&5
      . "$ac_site_file"
    fi
--- 1810,1833 ----
  
  
  # Let the site file select an alternate cache file if it wants to.
! # Prefer an explicitly selected file to automatically selected ones.
! ac_site_file1=NONE
! ac_site_file2=NONE
! if test -n "$CONFIG_SITE"; then
!   ac_site_file1=$CONFIG_SITE
! elif test "x$prefix" != xNONE; then
!   ac_site_file1=$prefix/share/config.site
!   ac_site_file2=$prefix/etc/config.site
! else
!   ac_site_file1=$ac_default_prefix/share/config.site
!   ac_site_file2=$ac_default_prefix/etc/config.site
  fi
! for ac_site_file in "$ac_site_file1" "$ac_site_file2"
! do
!   test "x$ac_site_file" = xNONE && continue
    if test -r "$ac_site_file"; then
!     { $as_echo "$as_me:$LINENO: loading site script $ac_site_file" >&5
! $as_echo "$as_me: loading site script $ac_site_file" >&6;}
      sed 's/^/| /' "$ac_site_file" >&5
      . "$ac_site_file"
    fi
***************
*** 1245,1298 ****
    # Some versions of bash will fail to source /dev/null (special
    # files actually), so we avoid doing that.
    if test -f "$cache_file"; then
!     { echo "$as_me:$LINENO: loading cache $cache_file" >&5
! echo "$as_me: loading cache $cache_file" >&6;}
      case $cache_file in
!       [\\/]* | ?:[\\/]* ) . $cache_file;;
!       *)                      . ./$cache_file;;
      esac
    fi
  else
!   { echo "$as_me:$LINENO: creating cache $cache_file" >&5
! echo "$as_me: creating cache $cache_file" >&6;}
    >$cache_file
  fi
  
  # Check that the precious variables saved in the cache have kept the same
  # value.
  ac_cache_corrupted=false
! for ac_var in `(set) 2>&1 |
! 	       sed -n 's/^ac_env_\([a-zA-Z_0-9]*\)_set=.*/\1/p'`; do
    eval ac_old_set=\$ac_cv_env_${ac_var}_set
    eval ac_new_set=\$ac_env_${ac_var}_set
!   eval ac_old_val="\$ac_cv_env_${ac_var}_value"
!   eval ac_new_val="\$ac_env_${ac_var}_value"
    case $ac_old_set,$ac_new_set in
      set,)
!       { echo "$as_me:$LINENO: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&5
! echo "$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&2;}
        ac_cache_corrupted=: ;;
      ,set)
!       { echo "$as_me:$LINENO: error: \`$ac_var' was not set in the previous run" >&5
! echo "$as_me: error: \`$ac_var' was not set in the previous run" >&2;}
        ac_cache_corrupted=: ;;
      ,);;
      *)
        if test "x$ac_old_val" != "x$ac_new_val"; then
! 	{ echo "$as_me:$LINENO: error: \`$ac_var' has changed since the previous run:" >&5
! echo "$as_me: error: \`$ac_var' has changed since the previous run:" >&2;}
! 	{ echo "$as_me:$LINENO:   former value:  $ac_old_val" >&5
! echo "$as_me:   former value:  $ac_old_val" >&2;}
! 	{ echo "$as_me:$LINENO:   current value: $ac_new_val" >&5
! echo "$as_me:   current value: $ac_new_val" >&2;}
! 	ac_cache_corrupted=:
        fi;;
    esac
    # Pass precious variables to config.status.
    if test "$ac_new_set" = set; then
      case $ac_new_val in
!     *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?\"\']*)
!       ac_arg=$ac_var=`echo "$ac_new_val" | sed "s/'/'\\\\\\\\''/g"` ;;
      *) ac_arg=$ac_var=$ac_new_val ;;
      esac
      case " $ac_configure_args " in
--- 1837,1897 ----
    # Some versions of bash will fail to source /dev/null (special
    # files actually), so we avoid doing that.
    if test -f "$cache_file"; then
!     { $as_echo "$as_me:$LINENO: loading cache $cache_file" >&5
! $as_echo "$as_me: loading cache $cache_file" >&6;}
      case $cache_file in
!       [\\/]* | ?:[\\/]* ) . "$cache_file";;
!       *)                      . "./$cache_file";;
      esac
    fi
  else
!   { $as_echo "$as_me:$LINENO: creating cache $cache_file" >&5
! $as_echo "$as_me: creating cache $cache_file" >&6;}
    >$cache_file
  fi
  
  # Check that the precious variables saved in the cache have kept the same
  # value.
  ac_cache_corrupted=false
! for ac_var in $ac_precious_vars; do
    eval ac_old_set=\$ac_cv_env_${ac_var}_set
    eval ac_new_set=\$ac_env_${ac_var}_set
!   eval ac_old_val=\$ac_cv_env_${ac_var}_value
!   eval ac_new_val=\$ac_env_${ac_var}_value
    case $ac_old_set,$ac_new_set in
      set,)
!       { $as_echo "$as_me:$LINENO: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&5
! $as_echo "$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&2;}
        ac_cache_corrupted=: ;;
      ,set)
!       { $as_echo "$as_me:$LINENO: error: \`$ac_var' was not set in the previous run" >&5
! $as_echo "$as_me: error: \`$ac_var' was not set in the previous run" >&2;}
        ac_cache_corrupted=: ;;
      ,);;
      *)
        if test "x$ac_old_val" != "x$ac_new_val"; then
! 	# differences in whitespace do not lead to failure.
! 	ac_old_val_w=`echo x $ac_old_val`
! 	ac_new_val_w=`echo x $ac_new_val`
! 	if test "$ac_old_val_w" != "$ac_new_val_w"; then
! 	  { $as_echo "$as_me:$LINENO: error: \`$ac_var' has changed since the previous run:" >&5
! $as_echo "$as_me: error: \`$ac_var' has changed since the previous run:" >&2;}
! 	  ac_cache_corrupted=:
! 	else
! 	  { $as_echo "$as_me:$LINENO: warning: ignoring whitespace changes in \`$ac_var' since the previous run:" >&5
! $as_echo "$as_me: warning: ignoring whitespace changes in \`$ac_var' since the previous run:" >&2;}
! 	  eval $ac_var=\$ac_old_val
! 	fi
! 	{ $as_echo "$as_me:$LINENO:   former value:  \`$ac_old_val'" >&5
! $as_echo "$as_me:   former value:  \`$ac_old_val'" >&2;}
! 	{ $as_echo "$as_me:$LINENO:   current value: \`$ac_new_val'" >&5
! $as_echo "$as_me:   current value: \`$ac_new_val'" >&2;}
        fi;;
    esac
    # Pass precious variables to config.status.
    if test "$ac_new_set" = set; then
      case $ac_new_val in
!     *\'*) ac_arg=$ac_var=`$as_echo "$ac_new_val" | sed "s/'/'\\\\\\\\''/g"` ;;
      *) ac_arg=$ac_var=$ac_new_val ;;
      esac
      case " $ac_configure_args " in
***************
*** 1302,1320 ****
    fi
  done
  if $ac_cache_corrupted; then
!   { echo "$as_me:$LINENO: error: changes in the environment can compromise the build" >&5
! echo "$as_me: error: changes in the environment can compromise the build" >&2;}
!   { { echo "$as_me:$LINENO: error: run \`make distclean' and/or \`rm $cache_file' and start over" >&5
! echo "$as_me: error: run \`make distclean' and/or \`rm $cache_file' and start over" >&2;}
     { (exit 1); exit 1; }; }
  fi
  
- ac_ext=c
- ac_cpp='$CPP $CPPFLAGS'
- ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
- ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
- ac_compiler_gnu=$ac_cv_c_compiler_gnu
- 
  
  
  
--- 1901,1913 ----
    fi
  done
  if $ac_cache_corrupted; then
!   { $as_echo "$as_me:$LINENO: error: changes in the environment can compromise the build" >&5
! $as_echo "$as_me: error: changes in the environment can compromise the build" >&2;}
!   { { $as_echo "$as_me:$LINENO: error: run \`make distclean' and/or \`rm $cache_file' and start over" >&5
! $as_echo "$as_me: error: run \`make distclean' and/or \`rm $cache_file' and start over" >&2;}
     { (exit 1); exit 1; }; }
  fi
  
  
  
  
***************
*** 1331,1363 ****
  
  
  
  
  
  
  ac_aux_dir=
! for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do
!   if test -f $ac_dir/install-sh; then
      ac_aux_dir=$ac_dir
      ac_install_sh="$ac_aux_dir/install-sh -c"
      break
!   elif test -f $ac_dir/install.sh; then
      ac_aux_dir=$ac_dir
      ac_install_sh="$ac_aux_dir/install.sh -c"
      break
!   elif test -f $ac_dir/shtool; then
      ac_aux_dir=$ac_dir
      ac_install_sh="$ac_aux_dir/shtool install -c"
      break
    fi
  done
  if test -z "$ac_aux_dir"; then
!   { { echo "$as_me:$LINENO: error: cannot find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../.." >&5
! echo "$as_me: error: cannot find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../.." >&2;}
     { (exit 1); exit 1; }; }
  fi
! ac_config_guess="$SHELL $ac_aux_dir/config.guess"
! ac_config_sub="$SHELL $ac_aux_dir/config.sub"
! ac_configure="$SHELL $ac_aux_dir/configure" # This should be Cygnus configure.
  
  # Find a good install program.  We prefer a C program (faster),
  # so one script is as good as another.  But avoid the broken or
--- 1924,1967 ----
  
  
  
+ ac_ext=c
+ ac_cpp='$CPP $CPPFLAGS'
+ ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ ac_compiler_gnu=$ac_cv_c_compiler_gnu
  
  
  
  ac_aux_dir=
! for ac_dir in "$srcdir" "$srcdir/.." "$srcdir/../.."; do
!   if test -f "$ac_dir/install-sh"; then
      ac_aux_dir=$ac_dir
      ac_install_sh="$ac_aux_dir/install-sh -c"
      break
!   elif test -f "$ac_dir/install.sh"; then
      ac_aux_dir=$ac_dir
      ac_install_sh="$ac_aux_dir/install.sh -c"
      break
!   elif test -f "$ac_dir/shtool"; then
      ac_aux_dir=$ac_dir
      ac_install_sh="$ac_aux_dir/shtool install -c"
      break
    fi
  done
  if test -z "$ac_aux_dir"; then
!   { { $as_echo "$as_me:$LINENO: error: cannot find install-sh or install.sh in \"$srcdir\" \"$srcdir/..\" \"$srcdir/../..\"" >&5
! $as_echo "$as_me: error: cannot find install-sh or install.sh in \"$srcdir\" \"$srcdir/..\" \"$srcdir/../..\"" >&2;}
     { (exit 1); exit 1; }; }
  fi
! 
! # These three variables are undocumented and unsupported,
! # and are intended to be withdrawn in a future Autoconf release.
! # They can cause serious problems if a builder's source tree is in a directory
! # whose full name contains unusual characters.
! ac_config_guess="$SHELL $ac_aux_dir/config.guess"  # Please don't use this var.
! ac_config_sub="$SHELL $ac_aux_dir/config.sub"  # Please don't use this var.
! ac_configure="$SHELL $ac_aux_dir/configure"  # Please don't use this var.
! 
  
  # Find a good install program.  We prefer a C program (faster),
  # so one script is as good as another.  But avoid the broken or
***************
*** 1372,1382 ****
  # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
  # OS/2's system install, which has a completely different semantic
  # ./install, which can be erroneously created by make from ./install.sh.
! echo "$as_me:$LINENO: checking for a BSD-compatible install" >&5
! echo $ECHO_N "checking for a BSD-compatible install... $ECHO_C" >&6
  if test -z "$INSTALL"; then
  if test "${ac_cv_path_install+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
  for as_dir in $PATH
--- 1976,1987 ----
  # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
  # OS/2's system install, which has a completely different semantic
  # ./install, which can be erroneously created by make from ./install.sh.
! # Reject install programs that cannot install multiple files.
! { $as_echo "$as_me:$LINENO: checking for a BSD-compatible install" >&5
! $as_echo_n "checking for a BSD-compatible install... " >&6; }
  if test -z "$INSTALL"; then
  if test "${ac_cv_path_install+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
  for as_dir in $PATH
***************
*** 1395,1401 ****
      # by default.
      for ac_prog in ginstall scoinst install; do
        for ac_exec_ext in '' $ac_executable_extensions; do
! 	if $as_executable_p "$as_dir/$ac_prog$ac_exec_ext"; then
  	  if test $ac_prog = install &&
  	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
  	    # AIX install.  It has an incompatible calling convention.
--- 2000,2006 ----
      # by default.
      for ac_prog in ginstall scoinst install; do
        for ac_exec_ext in '' $ac_executable_extensions; do
! 	if { test -f "$as_dir/$ac_prog$ac_exec_ext" && $as_test_x "$as_dir/$ac_prog$ac_exec_ext"; }; then
  	  if test $ac_prog = install &&
  	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
  	    # AIX install.  It has an incompatible calling convention.
***************
*** 1405,1434 ****
  	    # program-specific install script used by HP pwplus--don't use.
  	    :
  	  else
! 	    ac_cv_path_install="$as_dir/$ac_prog$ac_exec_ext -c"
! 	    break 3
  	  fi
  	fi
        done
      done
      ;;
  esac
  done
  
  
  fi
    if test "${ac_cv_path_install+set}" = set; then
      INSTALL=$ac_cv_path_install
    else
!     # As a last resort, use the slow shell script.  We don't cache a
!     # path for INSTALL within a source directory, because that will
      # break other packages using the cache if that directory is
!     # removed, or if the path is relative.
      INSTALL=$ac_install_sh
    fi
  fi
! echo "$as_me:$LINENO: result: $INSTALL" >&5
! echo "${ECHO_T}$INSTALL" >&6
  
  # Use test -z because SunOS4 sh mishandles braces in ${var-val}.
  # It thinks the first close brace ends the variable substitution.
--- 2010,2052 ----
  	    # program-specific install script used by HP pwplus--don't use.
  	    :
  	  else
! 	    rm -rf conftest.one conftest.two conftest.dir
! 	    echo one > conftest.one
! 	    echo two > conftest.two
! 	    mkdir conftest.dir
! 	    if "$as_dir/$ac_prog$ac_exec_ext" -c conftest.one conftest.two "`pwd`/conftest.dir" &&
! 	      test -s conftest.one && test -s conftest.two &&
! 	      test -s conftest.dir/conftest.one &&
! 	      test -s conftest.dir/conftest.two
! 	    then
! 	      ac_cv_path_install="$as_dir/$ac_prog$ac_exec_ext -c"
! 	      break 3
! 	    fi
  	  fi
  	fi
        done
      done
      ;;
  esac
+ 
  done
+ IFS=$as_save_IFS
  
+ rm -rf conftest.one conftest.two conftest.dir
  
  fi
    if test "${ac_cv_path_install+set}" = set; then
      INSTALL=$ac_cv_path_install
    else
!     # As a last resort, use the slow shell script.  Don't cache a
!     # value for INSTALL within a source directory, because that will
      # break other packages using the cache if that directory is
!     # removed, or if the value is a relative name.
      INSTALL=$ac_install_sh
    fi
  fi
! { $as_echo "$as_me:$LINENO: result: $INSTALL" >&5
! $as_echo "$INSTALL" >&6; }
  
  # Use test -z because SunOS4 sh mishandles braces in ${var-val}.
  # It thinks the first close brace ends the variable substitution.
***************
*** 1446,1455 ****
  if test -n "$ac_tool_prefix"; then
    # Extract the first word of "${ac_tool_prefix}gcc", so it can be a program name with args.
  set dummy ${ac_tool_prefix}gcc; ac_word=$2
! echo "$as_me:$LINENO: checking for $ac_word" >&5
! echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
  if test "${ac_cv_prog_CC+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    if test -n "$CC"; then
    ac_cv_prog_CC="$CC" # Let the user override the test.
--- 2064,2073 ----
  if test -n "$ac_tool_prefix"; then
    # Extract the first word of "${ac_tool_prefix}gcc", so it can be a program name with args.
  set dummy ${ac_tool_prefix}gcc; ac_word=$2
! { $as_echo "$as_me:$LINENO: checking for $ac_word" >&5
! $as_echo_n "checking for $ac_word... " >&6; }
  if test "${ac_cv_prog_CC+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    if test -n "$CC"; then
    ac_cv_prog_CC="$CC" # Let the user override the test.
***************
*** 1460,1493 ****
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
!   if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
      ac_cv_prog_CC="${ac_tool_prefix}gcc"
!     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
      break 2
    fi
  done
  done
  
  fi
  fi
  CC=$ac_cv_prog_CC
  if test -n "$CC"; then
!   echo "$as_me:$LINENO: result: $CC" >&5
! echo "${ECHO_T}$CC" >&6
  else
!   echo "$as_me:$LINENO: result: no" >&5
! echo "${ECHO_T}no" >&6
  fi
  
  fi
  if test -z "$ac_cv_prog_CC"; then
    ac_ct_CC=$CC
    # Extract the first word of "gcc", so it can be a program name with args.
  set dummy gcc; ac_word=$2
! echo "$as_me:$LINENO: checking for $ac_word" >&5
! echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
  if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    if test -n "$ac_ct_CC"; then
    ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
--- 2078,2113 ----
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
!   if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
      ac_cv_prog_CC="${ac_tool_prefix}gcc"
!     $as_echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
      break 2
    fi
  done
  done
+ IFS=$as_save_IFS
  
  fi
  fi
  CC=$ac_cv_prog_CC
  if test -n "$CC"; then
!   { $as_echo "$as_me:$LINENO: result: $CC" >&5
! $as_echo "$CC" >&6; }
  else
!   { $as_echo "$as_me:$LINENO: result: no" >&5
! $as_echo "no" >&6; }
  fi
  
+ 
  fi
  if test -z "$ac_cv_prog_CC"; then
    ac_ct_CC=$CC
    # Extract the first word of "gcc", so it can be a program name with args.
  set dummy gcc; ac_word=$2
! { $as_echo "$as_me:$LINENO: checking for $ac_word" >&5
! $as_echo_n "checking for $ac_word... " >&6; }
  if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    if test -n "$ac_ct_CC"; then
    ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
***************
*** 1498,1535 ****
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
!   if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
      ac_cv_prog_ac_ct_CC="gcc"
!     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
      break 2
    fi
  done
  done
  
  fi
  fi
  ac_ct_CC=$ac_cv_prog_ac_ct_CC
  if test -n "$ac_ct_CC"; then
!   echo "$as_me:$LINENO: result: $ac_ct_CC" >&5
! echo "${ECHO_T}$ac_ct_CC" >&6
  else
!   echo "$as_me:$LINENO: result: no" >&5
! echo "${ECHO_T}no" >&6
  fi
  
!   CC=$ac_ct_CC
  else
    CC="$ac_cv_prog_CC"
  fi
  
  if test -z "$CC"; then
!   if test -n "$ac_tool_prefix"; then
!   # Extract the first word of "${ac_tool_prefix}cc", so it can be a program name with args.
  set dummy ${ac_tool_prefix}cc; ac_word=$2
! echo "$as_me:$LINENO: checking for $ac_word" >&5
! echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
  if test "${ac_cv_prog_CC+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    if test -n "$CC"; then
    ac_cv_prog_CC="$CC" # Let the user override the test.
--- 2118,2170 ----
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
!   if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
      ac_cv_prog_ac_ct_CC="gcc"
!     $as_echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
      break 2
    fi
  done
  done
+ IFS=$as_save_IFS
  
  fi
  fi
  ac_ct_CC=$ac_cv_prog_ac_ct_CC
  if test -n "$ac_ct_CC"; then
!   { $as_echo "$as_me:$LINENO: result: $ac_ct_CC" >&5
! $as_echo "$ac_ct_CC" >&6; }
  else
!   { $as_echo "$as_me:$LINENO: result: no" >&5
! $as_echo "no" >&6; }
  fi
  
!   if test "x$ac_ct_CC" = x; then
!     CC=""
!   else
!     case $cross_compiling:$ac_tool_warned in
! yes:)
! { $as_echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
! whose name does not start with the host triplet.  If you think this
! configuration is useful to you, please write to autoconf@gnu.org." >&5
! $as_echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
! whose name does not start with the host triplet.  If you think this
! configuration is useful to you, please write to autoconf@gnu.org." >&2;}
! ac_tool_warned=yes ;;
! esac
!     CC=$ac_ct_CC
!   fi
  else
    CC="$ac_cv_prog_CC"
  fi
  
  if test -z "$CC"; then
!           if test -n "$ac_tool_prefix"; then
!     # Extract the first word of "${ac_tool_prefix}cc", so it can be a program name with args.
  set dummy ${ac_tool_prefix}cc; ac_word=$2
! { $as_echo "$as_me:$LINENO: checking for $ac_word" >&5
! $as_echo_n "checking for $ac_word... " >&6; }
  if test "${ac_cv_prog_CC+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    if test -n "$CC"; then
    ac_cv_prog_CC="$CC" # Let the user override the test.
***************
*** 1540,1615 ****
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
!   if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
      ac_cv_prog_CC="${ac_tool_prefix}cc"
!     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
      break 2
    fi
  done
  done
  
  fi
  fi
  CC=$ac_cv_prog_CC
  if test -n "$CC"; then
!   echo "$as_me:$LINENO: result: $CC" >&5
! echo "${ECHO_T}$CC" >&6
! else
!   echo "$as_me:$LINENO: result: no" >&5
! echo "${ECHO_T}no" >&6
! fi
! 
! fi
! if test -z "$ac_cv_prog_CC"; then
!   ac_ct_CC=$CC
!   # Extract the first word of "cc", so it can be a program name with args.
! set dummy cc; ac_word=$2
! echo "$as_me:$LINENO: checking for $ac_word" >&5
! echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
! if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
! else
!   if test -n "$ac_ct_CC"; then
!   ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
! else
! as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
! for as_dir in $PATH
! do
!   IFS=$as_save_IFS
!   test -z "$as_dir" && as_dir=.
!   for ac_exec_ext in '' $ac_executable_extensions; do
!   if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
!     ac_cv_prog_ac_ct_CC="cc"
!     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
!     break 2
!   fi
! done
! done
! 
! fi
! fi
! ac_ct_CC=$ac_cv_prog_ac_ct_CC
! if test -n "$ac_ct_CC"; then
!   echo "$as_me:$LINENO: result: $ac_ct_CC" >&5
! echo "${ECHO_T}$ac_ct_CC" >&6
  else
!   echo "$as_me:$LINENO: result: no" >&5
! echo "${ECHO_T}no" >&6
  fi
  
-   CC=$ac_ct_CC
- else
-   CC="$ac_cv_prog_CC"
- fi
  
  fi
  if test -z "$CC"; then
    # Extract the first word of "cc", so it can be a program name with args.
  set dummy cc; ac_word=$2
! echo "$as_me:$LINENO: checking for $ac_word" >&5
! echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
  if test "${ac_cv_prog_CC+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    if test -n "$CC"; then
    ac_cv_prog_CC="$CC" # Let the user override the test.
--- 2175,2210 ----
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
!   if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
      ac_cv_prog_CC="${ac_tool_prefix}cc"
!     $as_echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
      break 2
    fi
  done
  done
+ IFS=$as_save_IFS
  
  fi
  fi
  CC=$ac_cv_prog_CC
  if test -n "$CC"; then
!   { $as_echo "$as_me:$LINENO: result: $CC" >&5
! $as_echo "$CC" >&6; }
  else
!   { $as_echo "$as_me:$LINENO: result: no" >&5
! $as_echo "no" >&6; }
  fi
  
  
+   fi
  fi
  if test -z "$CC"; then
    # Extract the first word of "cc", so it can be a program name with args.
  set dummy cc; ac_word=$2
! { $as_echo "$as_me:$LINENO: checking for $ac_word" >&5
! $as_echo_n "checking for $ac_word... " >&6; }
  if test "${ac_cv_prog_CC+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    if test -n "$CC"; then
    ac_cv_prog_CC="$CC" # Let the user override the test.
***************
*** 1621,1637 ****
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
!   if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
      if test "$as_dir/$ac_word$ac_exec_ext" = "/usr/ucb/cc"; then
         ac_prog_rejected=yes
         continue
       fi
      ac_cv_prog_CC="cc"
!     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
      break 2
    fi
  done
  done
  
  if test $ac_prog_rejected = yes; then
    # We found a bogon in the path, so make sure we never use it.
--- 2216,2233 ----
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
!   if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
      if test "$as_dir/$ac_word$ac_exec_ext" = "/usr/ucb/cc"; then
         ac_prog_rejected=yes
         continue
       fi
      ac_cv_prog_CC="cc"
!     $as_echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
      break 2
    fi
  done
  done
+ IFS=$as_save_IFS
  
  if test $ac_prog_rejected = yes; then
    # We found a bogon in the path, so make sure we never use it.
***************
*** 1649,1672 ****
  fi
  CC=$ac_cv_prog_CC
  if test -n "$CC"; then
!   echo "$as_me:$LINENO: result: $CC" >&5
! echo "${ECHO_T}$CC" >&6
  else
!   echo "$as_me:$LINENO: result: no" >&5
! echo "${ECHO_T}no" >&6
  fi
  
  fi
  if test -z "$CC"; then
    if test -n "$ac_tool_prefix"; then
!   for ac_prog in cl
    do
      # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
  set dummy $ac_tool_prefix$ac_prog; ac_word=$2
! echo "$as_me:$LINENO: checking for $ac_word" >&5
! echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
  if test "${ac_cv_prog_CC+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    if test -n "$CC"; then
    ac_cv_prog_CC="$CC" # Let the user override the test.
--- 2245,2269 ----
  fi
  CC=$ac_cv_prog_CC
  if test -n "$CC"; then
!   { $as_echo "$as_me:$LINENO: result: $CC" >&5
! $as_echo "$CC" >&6; }
  else
!   { $as_echo "$as_me:$LINENO: result: no" >&5
! $as_echo "no" >&6; }
  fi
  
+ 
  fi
  if test -z "$CC"; then
    if test -n "$ac_tool_prefix"; then
!   for ac_prog in cl.exe
    do
      # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
  set dummy $ac_tool_prefix$ac_prog; ac_word=$2
! { $as_echo "$as_me:$LINENO: checking for $ac_word" >&5
! $as_echo_n "checking for $ac_word... " >&6; }
  if test "${ac_cv_prog_CC+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    if test -n "$CC"; then
    ac_cv_prog_CC="$CC" # Let the user override the test.
***************
*** 1677,1714 ****
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
!   if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
      ac_cv_prog_CC="$ac_tool_prefix$ac_prog"
!     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
      break 2
    fi
  done
  done
  
  fi
  fi
  CC=$ac_cv_prog_CC
  if test -n "$CC"; then
!   echo "$as_me:$LINENO: result: $CC" >&5
! echo "${ECHO_T}$CC" >&6
  else
!   echo "$as_me:$LINENO: result: no" >&5
! echo "${ECHO_T}no" >&6
  fi
  
      test -n "$CC" && break
    done
  fi
  if test -z "$CC"; then
    ac_ct_CC=$CC
!   for ac_prog in cl
  do
    # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
! echo "$as_me:$LINENO: checking for $ac_word" >&5
! echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
  if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    if test -n "$ac_ct_CC"; then
    ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
--- 2274,2313 ----
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
!   if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
      ac_cv_prog_CC="$ac_tool_prefix$ac_prog"
!     $as_echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
      break 2
    fi
  done
  done
+ IFS=$as_save_IFS
  
  fi
  fi
  CC=$ac_cv_prog_CC
  if test -n "$CC"; then
!   { $as_echo "$as_me:$LINENO: result: $CC" >&5
! $as_echo "$CC" >&6; }
  else
!   { $as_echo "$as_me:$LINENO: result: no" >&5
! $as_echo "no" >&6; }
  fi
  
+ 
      test -n "$CC" && break
    done
  fi
  if test -z "$CC"; then
    ac_ct_CC=$CC
!   for ac_prog in cl.exe
  do
    # Extract the first word of "$ac_prog", so it can be a program name with args.
  set dummy $ac_prog; ac_word=$2
! { $as_echo "$as_me:$LINENO: checking for $ac_word" >&5
! $as_echo_n "checking for $ac_word... " >&6; }
  if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    if test -n "$ac_ct_CC"; then
    ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
***************
*** 1719,1776 ****
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
!   if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
      ac_cv_prog_ac_ct_CC="$ac_prog"
!     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
      break 2
    fi
  done
  done
  
  fi
  fi
  ac_ct_CC=$ac_cv_prog_ac_ct_CC
  if test -n "$ac_ct_CC"; then
!   echo "$as_me:$LINENO: result: $ac_ct_CC" >&5
! echo "${ECHO_T}$ac_ct_CC" >&6
  else
!   echo "$as_me:$LINENO: result: no" >&5
! echo "${ECHO_T}no" >&6
  fi
  
    test -n "$ac_ct_CC" && break
  done
  
!   CC=$ac_ct_CC
  fi
  
  fi
  
  
! test -z "$CC" && { { echo "$as_me:$LINENO: error: no acceptable C compiler found in \$PATH
  See \`config.log' for more details." >&5
! echo "$as_me: error: no acceptable C compiler found in \$PATH
  See \`config.log' for more details." >&2;}
     { (exit 1); exit 1; }; }
  
  # Provide some information about the compiler.
! echo "$as_me:$LINENO:" \
!      "checking for C compiler version" >&5
! ac_compiler=`set X $ac_compile; echo $2`
! { (eval echo "$as_me:$LINENO: \"$ac_compiler --version </dev/null >&5\"") >&5
!   (eval $ac_compiler --version </dev/null >&5) 2>&5
    ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }
! { (eval echo "$as_me:$LINENO: \"$ac_compiler -v </dev/null >&5\"") >&5
!   (eval $ac_compiler -v </dev/null >&5) 2>&5
    ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }
! { (eval echo "$as_me:$LINENO: \"$ac_compiler -V </dev/null >&5\"") >&5
!   (eval $ac_compiler -V </dev/null >&5) 2>&5
    ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }
  
  cat >conftest.$ac_ext <<_ACEOF
--- 2318,2409 ----
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
!   if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
      ac_cv_prog_ac_ct_CC="$ac_prog"
!     $as_echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
      break 2
    fi
  done
  done
+ IFS=$as_save_IFS
  
  fi
  fi
  ac_ct_CC=$ac_cv_prog_ac_ct_CC
  if test -n "$ac_ct_CC"; then
!   { $as_echo "$as_me:$LINENO: result: $ac_ct_CC" >&5
! $as_echo "$ac_ct_CC" >&6; }
  else
!   { $as_echo "$as_me:$LINENO: result: no" >&5
! $as_echo "no" >&6; }
  fi
  
+ 
    test -n "$ac_ct_CC" && break
  done
  
!   if test "x$ac_ct_CC" = x; then
!     CC=""
!   else
!     case $cross_compiling:$ac_tool_warned in
! yes:)
! { $as_echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
! whose name does not start with the host triplet.  If you think this
! configuration is useful to you, please write to autoconf@gnu.org." >&5
! $as_echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
! whose name does not start with the host triplet.  If you think this
! configuration is useful to you, please write to autoconf@gnu.org." >&2;}
! ac_tool_warned=yes ;;
! esac
!     CC=$ac_ct_CC
!   fi
  fi
  
  fi
  
  
! test -z "$CC" && { { $as_echo "$as_me:$LINENO: error: no acceptable C compiler found in \$PATH
  See \`config.log' for more details." >&5
! $as_echo "$as_me: error: no acceptable C compiler found in \$PATH
  See \`config.log' for more details." >&2;}
     { (exit 1); exit 1; }; }
  
  # Provide some information about the compiler.
! $as_echo "$as_me:$LINENO: checking for C compiler version" >&5
! set X $ac_compile
! ac_compiler=$2
! { (ac_try="$ac_compiler --version >&5"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compiler --version >&5") 2>&5
    ac_status=$?
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }
! { (ac_try="$ac_compiler -v >&5"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compiler -v >&5") 2>&5
    ac_status=$?
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }
! { (ac_try="$ac_compiler -V >&5"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compiler -V >&5") 2>&5
    ac_status=$?
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }
  
  cat >conftest.$ac_ext <<_ACEOF
***************
*** 1789,1899 ****
  }
  _ACEOF
  ac_clean_files_save=$ac_clean_files
! ac_clean_files="$ac_clean_files a.out a.exe b.out"
  # Try to create an executable without -o first, disregard a.out.
  # It will help us diagnose broken compilers, and finding out an intuition
  # of exeext.
! echo "$as_me:$LINENO: checking for C compiler default output file name" >&5
! echo $ECHO_N "checking for C compiler default output file name... $ECHO_C" >&6
! ac_link_default=`echo "$ac_link" | sed 's/ -o *conftest[^ ]*//'`
! if { (eval echo "$as_me:$LINENO: \"$ac_link_default\"") >&5
!   (eval $ac_link_default) 2>&5
    ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }; then
!   # Find the output, starting from the most likely.  This scheme is
! # not robust to junk in `.', hence go to wildcards (a.*) only as a last
! # resort.
! 
! # Be careful to initialize this variable, since it used to be cached.
! # Otherwise an old cache value of `no' led to `EXEEXT = no' in a Makefile.
! ac_cv_exeext=
! # b.out is created by i960 compilers.
! for ac_file in a_out.exe a.exe conftest.exe a.out conftest a.* conftest.* b.out
  do
    test -f "$ac_file" || continue
    case $ac_file in
!     *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.o | *.obj )
! 	;;
!     conftest.$ac_ext )
! 	# This is the source file.
  	;;
      [ab].out )
  	# We found the default executable, but exeext='' is most
  	# certainly right.
  	break;;
      *.* )
! 	ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
! 	# FIXME: I believe we export ac_cv_exeext for Libtool,
! 	# but it would be cool to find out if it's true.  Does anybody
! 	# maintain Libtool? --akim.
! 	export ac_cv_exeext
  	break;;
      * )
  	break;;
    esac
  done
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! { { echo "$as_me:$LINENO: error: C compiler cannot create executables
  See \`config.log' for more details." >&5
! echo "$as_me: error: C compiler cannot create executables
  See \`config.log' for more details." >&2;}
     { (exit 77); exit 77; }; }
  fi
  
  ac_exeext=$ac_cv_exeext
- echo "$as_me:$LINENO: result: $ac_file" >&5
- echo "${ECHO_T}$ac_file" >&6
  
! # Check the compiler produces executables we can run.  If not, either
  # the compiler is broken, or we cross compile.
! echo "$as_me:$LINENO: checking whether the C compiler works" >&5
! echo $ECHO_N "checking whether the C compiler works... $ECHO_C" >&6
  # FIXME: These cross compiler hacks should be removed for Autoconf 3.0
  # If not cross compiling, check that we can run a simple program.
  if test "$cross_compiling" != yes; then
    if { ac_try='./$ac_file'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
    ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }; }; then
      cross_compiling=no
    else
      if test "$cross_compiling" = maybe; then
  	cross_compiling=yes
      else
! 	{ { echo "$as_me:$LINENO: error: cannot run C compiled programs.
  If you meant to cross compile, use \`--host'.
  See \`config.log' for more details." >&5
! echo "$as_me: error: cannot run C compiled programs.
  If you meant to cross compile, use \`--host'.
  See \`config.log' for more details." >&2;}
     { (exit 1); exit 1; }; }
      fi
    fi
  fi
! echo "$as_me:$LINENO: result: yes" >&5
! echo "${ECHO_T}yes" >&6
  
! rm -f a.out a.exe conftest$ac_cv_exeext b.out
  ac_clean_files=$ac_clean_files_save
! # Check the compiler produces executables we can run.  If not, either
  # the compiler is broken, or we cross compile.
! echo "$as_me:$LINENO: checking whether we are cross compiling" >&5
! echo $ECHO_N "checking whether we are cross compiling... $ECHO_C" >&6
! echo "$as_me:$LINENO: result: $cross_compiling" >&5
! echo "${ECHO_T}$cross_compiling" >&6
! 
! echo "$as_me:$LINENO: checking for suffix of executables" >&5
! echo $ECHO_N "checking for suffix of executables... $ECHO_C" >&6
! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }; then
    # If both `conftest.exe' and `conftest' are `present' (well, observable)
  # catch `conftest.exe'.  For instance with Cygwin, `ls conftest' will
--- 2422,2567 ----
  }
  _ACEOF
  ac_clean_files_save=$ac_clean_files
! ac_clean_files="$ac_clean_files a.out a.out.dSYM a.exe b.out"
  # Try to create an executable without -o first, disregard a.out.
  # It will help us diagnose broken compilers, and finding out an intuition
  # of exeext.
! { $as_echo "$as_me:$LINENO: checking for C compiler default output file name" >&5
! $as_echo_n "checking for C compiler default output file name... " >&6; }
! ac_link_default=`$as_echo "$ac_link" | sed 's/ -o *conftest[^ ]*//'`
! 
! # The possible output files:
! ac_files="a.out conftest.exe conftest a.exe a_out.exe b.out conftest.*"
! 
! ac_rmfiles=
! for ac_file in $ac_files
! do
!   case $ac_file in
!     *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;
!     * ) ac_rmfiles="$ac_rmfiles $ac_file";;
!   esac
! done
! rm -f $ac_rmfiles
! 
! if { (ac_try="$ac_link_default"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_link_default") 2>&5
    ac_status=$?
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }; then
!   # Autoconf-2.13 could set the ac_cv_exeext variable to `no'.
! # So ignore a value of `no', otherwise this would lead to `EXEEXT = no'
! # in a Makefile.  We should not override ac_cv_exeext if it was cached,
! # so that the user can short-circuit this test for compilers unknown to
! # Autoconf.
! for ac_file in $ac_files ''
  do
    test -f "$ac_file" || continue
    case $ac_file in
!     *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj )
  	;;
      [ab].out )
  	# We found the default executable, but exeext='' is most
  	# certainly right.
  	break;;
      *.* )
!         if test "${ac_cv_exeext+set}" = set && test "$ac_cv_exeext" != no;
! 	then :; else
! 	   ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
! 	fi
! 	# We set ac_cv_exeext here because the later test for it is not
! 	# safe: cross compilers may not add the suffix if given an `-o'
! 	# argument, so we may need to know it at that point already.
! 	# Even if this section looks crufty: it has the advantage of
! 	# actually working.
  	break;;
      * )
  	break;;
    esac
  done
+ test "$ac_cv_exeext" = no && ac_cv_exeext=
+ 
  else
!   ac_file=''
! fi
! 
! { $as_echo "$as_me:$LINENO: result: $ac_file" >&5
! $as_echo "$ac_file" >&6; }
! if test -z "$ac_file"; then
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! { { $as_echo "$as_me:$LINENO: error: C compiler cannot create executables
  See \`config.log' for more details." >&5
! $as_echo "$as_me: error: C compiler cannot create executables
  See \`config.log' for more details." >&2;}
     { (exit 77); exit 77; }; }
  fi
  
  ac_exeext=$ac_cv_exeext
  
! # Check that the compiler produces executables we can run.  If not, either
  # the compiler is broken, or we cross compile.
! { $as_echo "$as_me:$LINENO: checking whether the C compiler works" >&5
! $as_echo_n "checking whether the C compiler works... " >&6; }
  # FIXME: These cross compiler hacks should be removed for Autoconf 3.0
  # If not cross compiling, check that we can run a simple program.
  if test "$cross_compiling" != yes; then
    if { ac_try='./$ac_file'
!   { (case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_try") 2>&5
    ac_status=$?
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }; }; then
      cross_compiling=no
    else
      if test "$cross_compiling" = maybe; then
  	cross_compiling=yes
      else
! 	{ { $as_echo "$as_me:$LINENO: error: cannot run C compiled programs.
  If you meant to cross compile, use \`--host'.
  See \`config.log' for more details." >&5
! $as_echo "$as_me: error: cannot run C compiled programs.
  If you meant to cross compile, use \`--host'.
  See \`config.log' for more details." >&2;}
     { (exit 1); exit 1; }; }
      fi
    fi
  fi
! { $as_echo "$as_me:$LINENO: result: yes" >&5
! $as_echo "yes" >&6; }
  
! rm -f -r a.out a.out.dSYM a.exe conftest$ac_cv_exeext b.out
  ac_clean_files=$ac_clean_files_save
! # Check that the compiler produces executables we can run.  If not, either
  # the compiler is broken, or we cross compile.
! { $as_echo "$as_me:$LINENO: checking whether we are cross compiling" >&5
! $as_echo_n "checking whether we are cross compiling... " >&6; }
! { $as_echo "$as_me:$LINENO: result: $cross_compiling" >&5
! $as_echo "$cross_compiling" >&6; }
! 
! { $as_echo "$as_me:$LINENO: checking for suffix of executables" >&5
! $as_echo_n "checking for suffix of executables... " >&6; }
! if { (ac_try="$ac_link"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_link") 2>&5
    ac_status=$?
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }; then
    # If both `conftest.exe' and `conftest' are `present' (well, observable)
  # catch `conftest.exe'.  For instance with Cygwin, `ls conftest' will
***************
*** 1902,1933 ****
  for ac_file in conftest.exe conftest conftest.*; do
    test -f "$ac_file" || continue
    case $ac_file in
!     *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.o | *.obj ) ;;
      *.* ) ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
- 	  export ac_cv_exeext
  	  break;;
      * ) break;;
    esac
  done
  else
!   { { echo "$as_me:$LINENO: error: cannot compute suffix of executables: cannot compile and link
  See \`config.log' for more details." >&5
! echo "$as_me: error: cannot compute suffix of executables: cannot compile and link
  See \`config.log' for more details." >&2;}
     { (exit 1); exit 1; }; }
  fi
  
  rm -f conftest$ac_cv_exeext
! echo "$as_me:$LINENO: result: $ac_cv_exeext" >&5
! echo "${ECHO_T}$ac_cv_exeext" >&6
  
  rm -f conftest.$ac_ext
  EXEEXT=$ac_cv_exeext
  ac_exeext=$EXEEXT
! echo "$as_me:$LINENO: checking for suffix of object files" >&5
! echo $ECHO_N "checking for suffix of object files... $ECHO_C" >&6
  if test "${ac_cv_objext+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
--- 2570,2600 ----
  for ac_file in conftest.exe conftest conftest.*; do
    test -f "$ac_file" || continue
    case $ac_file in
!     *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;
      *.* ) ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
  	  break;;
      * ) break;;
    esac
  done
  else
!   { { $as_echo "$as_me:$LINENO: error: cannot compute suffix of executables: cannot compile and link
  See \`config.log' for more details." >&5
! $as_echo "$as_me: error: cannot compute suffix of executables: cannot compile and link
  See \`config.log' for more details." >&2;}
     { (exit 1); exit 1; }; }
  fi
  
  rm -f conftest$ac_cv_exeext
! { $as_echo "$as_me:$LINENO: result: $ac_cv_exeext" >&5
! $as_echo "$ac_cv_exeext" >&6; }
  
  rm -f conftest.$ac_ext
  EXEEXT=$ac_cv_exeext
  ac_exeext=$EXEEXT
! { $as_echo "$as_me:$LINENO: checking for suffix of object files" >&5
! $as_echo_n "checking for suffix of object files... " >&6; }
  if test "${ac_cv_objext+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
***************
*** 1945,1983 ****
  }
  _ACEOF
  rm -f conftest.o conftest.obj
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>&5
    ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }; then
!   for ac_file in `(ls conftest.o conftest.obj; ls conftest.*) 2>/dev/null`; do
    case $ac_file in
!     *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg ) ;;
      *) ac_cv_objext=`expr "$ac_file" : '.*\.\(.*\)'`
         break;;
    esac
  done
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! { { echo "$as_me:$LINENO: error: cannot compute suffix of object files: cannot compile
  See \`config.log' for more details." >&5
! echo "$as_me: error: cannot compute suffix of object files: cannot compile
  See \`config.log' for more details." >&2;}
     { (exit 1); exit 1; }; }
  fi
  
  rm -f conftest.$ac_cv_objext conftest.$ac_ext
  fi
! echo "$as_me:$LINENO: result: $ac_cv_objext" >&5
! echo "${ECHO_T}$ac_cv_objext" >&6
  OBJEXT=$ac_cv_objext
  ac_objext=$OBJEXT
! echo "$as_me:$LINENO: checking whether we are using the GNU C compiler" >&5
! echo $ECHO_N "checking whether we are using the GNU C compiler... $ECHO_C" >&6
  if test "${ac_cv_c_compiler_gnu+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
--- 2612,2657 ----
  }
  _ACEOF
  rm -f conftest.o conftest.obj
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>&5
    ac_status=$?
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }; then
!   for ac_file in conftest.o conftest.obj conftest.*; do
!   test -f "$ac_file" || continue;
    case $ac_file in
!     *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM ) ;;
      *) ac_cv_objext=`expr "$ac_file" : '.*\.\(.*\)'`
         break;;
    esac
  done
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! { { $as_echo "$as_me:$LINENO: error: cannot compute suffix of object files: cannot compile
  See \`config.log' for more details." >&5
! $as_echo "$as_me: error: cannot compute suffix of object files: cannot compile
  See \`config.log' for more details." >&2;}
     { (exit 1); exit 1; }; }
  fi
  
  rm -f conftest.$ac_cv_objext conftest.$ac_ext
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_objext" >&5
! $as_echo "$ac_cv_objext" >&6; }
  OBJEXT=$ac_cv_objext
  ac_objext=$OBJEXT
! { $as_echo "$as_me:$LINENO: checking whether we are using the GNU C compiler" >&5
! $as_echo_n "checking whether we are using the GNU C compiler... " >&6; }
  if test "${ac_cv_c_compiler_gnu+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
***************
*** 1998,2047 ****
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
    ac_compiler_gnu=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_compiler_gnu=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  ac_cv_c_compiler_gnu=$ac_compiler_gnu
  
  fi
! echo "$as_me:$LINENO: result: $ac_cv_c_compiler_gnu" >&5
! echo "${ECHO_T}$ac_cv_c_compiler_gnu" >&6
! GCC=`test $ac_compiler_gnu = yes && echo yes`
  ac_test_CFLAGS=${CFLAGS+set}
  ac_save_CFLAGS=$CFLAGS
! CFLAGS="-g"
! echo "$as_me:$LINENO: checking whether $CC accepts -g" >&5
! echo $ECHO_N "checking whether $CC accepts -g... $ECHO_C" >&6
  if test "${ac_cv_prog_cc_g+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
!   cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 2672,2725 ----
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
    ac_compiler_gnu=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	ac_compiler_gnu=no
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  ac_cv_c_compiler_gnu=$ac_compiler_gnu
  
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_c_compiler_gnu" >&5
! $as_echo "$ac_cv_c_compiler_gnu" >&6; }
! if test $ac_compiler_gnu = yes; then
!   GCC=yes
! else
!   GCC=
! fi
  ac_test_CFLAGS=${CFLAGS+set}
  ac_save_CFLAGS=$CFLAGS
! { $as_echo "$as_me:$LINENO: checking whether $CC accepts -g" >&5
! $as_echo_n "checking whether $CC accepts -g... " >&6; }
  if test "${ac_cv_prog_cc_g+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
!   ac_save_c_werror_flag=$ac_c_werror_flag
!    ac_c_werror_flag=yes
!    ac_cv_prog_cc_g=no
!    CFLAGS="-g"
!    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
***************
*** 2057,2094 ****
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
    ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
    ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
    ac_cv_prog_cc_g=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_cv_prog_cc_g=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! echo "$as_me:$LINENO: result: $ac_cv_prog_cc_g" >&5
! echo "${ECHO_T}$ac_cv_prog_cc_g" >&6
  if test "$ac_test_CFLAGS" = set; then
    CFLAGS=$ac_save_CFLAGS
  elif test $ac_cv_prog_cc_g = yes; then
--- 2735,2855 ----
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   ac_cv_prog_cc_g=yes
! else
!   $as_echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
! 
! 	CFLAGS=""
!       cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! 
! int
! main ()
! {
! 
!   ;
!   return 0;
! }
! _ACEOF
! rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   :
! else
!   $as_echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
! 
! 	ac_c_werror_flag=$ac_save_c_werror_flag
! 	 CFLAGS="-g"
! 	 cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! 
! int
! main ()
! {
! 
!   ;
!   return 0;
! }
! _ACEOF
! rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
    ac_cv_prog_cc_g=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 
! fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
! fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
!    ac_c_werror_flag=$ac_save_c_werror_flag
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_prog_cc_g" >&5
! $as_echo "$ac_cv_prog_cc_g" >&6; }
  if test "$ac_test_CFLAGS" = set; then
    CFLAGS=$ac_save_CFLAGS
  elif test $ac_cv_prog_cc_g = yes; then
***************
*** 2104,2115 ****
      CFLAGS=
    fi
  fi
! echo "$as_me:$LINENO: checking for $CC option to accept ANSI C" >&5
! echo $ECHO_N "checking for $CC option to accept ANSI C... $ECHO_C" >&6
! if test "${ac_cv_prog_cc_stdc+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
!   ac_cv_prog_cc_stdc=no
  ac_save_CC=$CC
  cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
--- 2865,2876 ----
      CFLAGS=
    fi
  fi
! { $as_echo "$as_me:$LINENO: checking for $CC option to accept ISO C89" >&5
! $as_echo_n "checking for $CC option to accept ISO C89... " >&6; }
! if test "${ac_cv_prog_cc_c89+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
!   ac_cv_prog_cc_c89=no
  ac_save_CC=$CC
  cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
***************
*** 2143,2154 ****
  /* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has
     function prototypes and stuff, but not '\xHH' hex character constants.
     These don't provoke an error unfortunately, instead are silently treated
!    as 'x'.  The following induces an error, until -std1 is added to get
     proper ANSI mode.  Curiously '\x00'!='x' always comes out true, for an
     array size at least.  It's necessary to write '\x00'==0 to get something
!    that's true only with -std1.  */
  int osf4_cc_array ['\x00' == 0 ? 1 : -1];
  
  int test (int i, double x);
  struct s1 {int (*f) (int a);};
  struct s2 {int (*f) (double a);};
--- 2904,2920 ----
  /* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has
     function prototypes and stuff, but not '\xHH' hex character constants.
     These don't provoke an error unfortunately, instead are silently treated
!    as 'x'.  The following induces an error, until -std is added to get
     proper ANSI mode.  Curiously '\x00'!='x' always comes out true, for an
     array size at least.  It's necessary to write '\x00'==0 to get something
!    that's true only with -std.  */
  int osf4_cc_array ['\x00' == 0 ? 1 : -1];
  
+ /* IBM C 6 for AIX is almost-ANSI by default, but it replaces macro parameters
+    inside strings and character constants.  */
+ #define FOO(x) 'x'
+ int xlc6_cc_array[FOO(a) == 'x' ? 1 : -1];
+ 
  int test (int i, double x);
  struct s1 {int (*f) (int a);};
  struct s2 {int (*f) (double a);};
***************
*** 2163,2412 ****
    return 0;
  }
  _ACEOF
! # Don't try gcc -ansi; that turns off useful extensions and
! # breaks some systems' header files.
! # AIX			-qlanglvl=ansi
! # Ultrix and OSF/1	-std1
! # HP-UX 10.20 and later	-Ae
! # HP-UX older versions	-Aa -D_HPUX_SOURCE
! # SVR4			-Xc -D__EXTENSIONS__
! for ac_arg in "" -qlanglvl=ansi -std1 -Ae "-Aa -D_HPUX_SOURCE" "-Xc -D__EXTENSIONS__"
  do
    CC="$ac_save_CC $ac_arg"
    rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   ac_cv_prog_cc_stdc=$ac_arg
! break
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
  fi
! rm -f conftest.err conftest.$ac_objext
  done
! rm -f conftest.$ac_ext conftest.$ac_objext
  CC=$ac_save_CC
  
  fi
! 
! case "x$ac_cv_prog_cc_stdc" in
!   x|xno)
!     echo "$as_me:$LINENO: result: none needed" >&5
! echo "${ECHO_T}none needed" >&6 ;;
    *)
!     echo "$as_me:$LINENO: result: $ac_cv_prog_cc_stdc" >&5
! echo "${ECHO_T}$ac_cv_prog_cc_stdc" >&6
!     CC="$CC $ac_cv_prog_cc_stdc" ;;
  esac
  
! # Some people use a C++ compiler to compile C.  Since we use `exit',
! # in C++ we need to declare it.  In case someone uses the same compiler
! # for both compiling C and C++ we need to have the C++ compiler decide
! # the declaration of exit, since it's the most demanding environment.
! cat >conftest.$ac_ext <<_ACEOF
! #ifndef __cplusplus
!   choke me
! #endif
! _ACEOF
! rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
!   ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   for ac_declaration in \
!    '' \
!    'extern "C" void std::exit (int) throw (); using std::exit;' \
!    'extern "C" void std::exit (int); using std::exit;' \
!    'extern "C" void exit (int) throw ();' \
!    'extern "C" void exit (int);' \
!    'void exit (int);'
! do
!   cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! $ac_declaration
! #include <stdlib.h>
! int
! main ()
! {
! exit (42);
!   ;
!   return 0;
! }
! _ACEOF
! rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
!   ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   :
  else
!   echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
  
! continue
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
!   cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! $ac_declaration
! int
! main ()
! {
! exit (42);
!   ;
!   return 0;
! }
! _ACEOF
! rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
!   ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   break
! else
!   echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
! 
! fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
! done
! rm -f conftest*
! if test -n "$ac_declaration"; then
!   echo '#ifdef __cplusplus' >>confdefs.h
!   echo $ac_declaration      >>confdefs.h
!   echo '#endif'             >>confdefs.h
! fi
! 
! else
!   echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
! 
! fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
! ac_ext=c
! ac_cpp='$CPP $CPPFLAGS'
! ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
! ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
! ac_compiler_gnu=$ac_cv_c_compiler_gnu
! 
! 
! # Put a plausible default for CC_FOR_BUILD in Makefile.
! if test "x$cross_compiling" = "xno"; then
!   CC_FOR_BUILD='$(CC)'
! else
!   CC_FOR_BUILD=gcc
! fi
! CFLAGS_FOR_BUILD=${CFLAGS_FOR_BUILD-${CFLAGS}}
! 
! ALL_LINGUAS=
! # If we haven't got the data from the intl directory,
! # assume NLS is disabled.
! USE_NLS=no
! LIBINTL=
! LIBINTL_DEP=
! INCINTL=
! XGETTEXT=
! GMSGFMT=
! POSUB=
! 
! if test -f  ../../intl/config.intl; then
!   .  ../../intl/config.intl
! fi
! echo "$as_me:$LINENO: checking whether NLS is requested" >&5
! echo $ECHO_N "checking whether NLS is requested... $ECHO_C" >&6
! if test x"$USE_NLS" != xyes; then
!   echo "$as_me:$LINENO: result: no" >&5
! echo "${ECHO_T}no" >&6
! else
!   echo "$as_me:$LINENO: result: yes" >&5
! echo "${ECHO_T}yes" >&6
! 
! cat >>confdefs.h <<\_ACEOF
! #define ENABLE_NLS 1
  _ACEOF
  
  
!   echo "$as_me:$LINENO: checking for catalogs to be installed" >&5
! echo $ECHO_N "checking for catalogs to be installed... $ECHO_C" >&6
    # Look for .po and .gmo files in the source directory.
    CATALOGS=
    XLINGUAS=
--- 2929,3031 ----
    return 0;
  }
  _ACEOF
! for ac_arg in '' -qlanglvl=extc89 -qlanglvl=ansi -std \
! 	-Ae "-Aa -D_HPUX_SOURCE" "-Xc -D__EXTENSIONS__"
  do
    CC="$ac_save_CC $ac_arg"
    rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   ac_cv_prog_cc_c89=$ac_arg
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
+ 
  fi
! 
! rm -f core conftest.err conftest.$ac_objext
!   test "x$ac_cv_prog_cc_c89" != "xno" && break
  done
! rm -f conftest.$ac_ext
  CC=$ac_save_CC
  
  fi
! # AC_CACHE_VAL
! case "x$ac_cv_prog_cc_c89" in
!   x)
!     { $as_echo "$as_me:$LINENO: result: none needed" >&5
! $as_echo "none needed" >&6; } ;;
!   xno)
!     { $as_echo "$as_me:$LINENO: result: unsupported" >&5
! $as_echo "unsupported" >&6; } ;;
    *)
!     CC="$CC $ac_cv_prog_cc_c89"
!     { $as_echo "$as_me:$LINENO: result: $ac_cv_prog_cc_c89" >&5
! $as_echo "$ac_cv_prog_cc_c89" >&6; } ;;
  esac
  
! 
! ac_ext=c
! ac_cpp='$CPP $CPPFLAGS'
! ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
! ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
! ac_compiler_gnu=$ac_cv_c_compiler_gnu
! 
! 
! # Put a plausible default for CC_FOR_BUILD in Makefile.
! if test "x$cross_compiling" = "xno"; then
!   CC_FOR_BUILD='$(CC)'
  else
!   CC_FOR_BUILD=gcc
! fi
! CFLAGS_FOR_BUILD=${CFLAGS_FOR_BUILD-${CFLAGS}}
  
! ALL_LINGUAS=
! # If we haven't got the data from the intl directory,
! # assume NLS is disabled.
! USE_NLS=no
! LIBINTL=
! LIBINTL_DEP=
! INCINTL=
! XGETTEXT=
! GMSGFMT=
! POSUB=
! 
! if test -f  ../../intl/config.intl; then
!   .  ../../intl/config.intl
  fi
! { $as_echo "$as_me:$LINENO: checking whether NLS is requested" >&5
! $as_echo_n "checking whether NLS is requested... " >&6; }
! if test x"$USE_NLS" != xyes; then
!   { $as_echo "$as_me:$LINENO: result: no" >&5
! $as_echo "no" >&6; }
! else
!   { $as_echo "$as_me:$LINENO: result: yes" >&5
! $as_echo "yes" >&6; }
! 
! cat >>confdefs.h <<\_ACEOF
! #define ENABLE_NLS 1
  _ACEOF
  
  
!   { $as_echo "$as_me:$LINENO: checking for catalogs to be installed" >&5
! $as_echo_n "checking for catalogs to be installed... " >&6; }
    # Look for .po and .gmo files in the source directory.
    CATALOGS=
    XLINGUAS=
***************
*** 2437,2444 ****
      fi
    done
    LINGUAS="$XLINGUAS"
!   echo "$as_me:$LINENO: result: $LINGUAS" >&5
! echo "${ECHO_T}$LINGUAS" >&6
  
  
      DATADIRNAME=share
--- 3056,3063 ----
      fi
    done
    LINGUAS="$XLINGUAS"
!   { $as_echo "$as_me:$LINENO: result: $LINGUAS" >&5
! $as_echo "$LINGUAS" >&6; }
  
  
      DATADIRNAME=share
***************
*** 2452,2466 ****
  fi
  
  
! # Check whether --enable-sim-alignment or --disable-sim-alignment was given.
  if test "${enable_sim_alignment+set}" = set; then
!   enableval="$enable_sim_alignment"
!   case "${enableval}" in
    yes | strict | STRICT)	sim_alignment="-DWITH_ALIGNMENT=STRICT_ALIGNMENT";;
    no | nonstrict | NONSTRICT)	sim_alignment="-DWITH_ALIGNMENT=NONSTRICT_ALIGNMENT";;
    0 | default | DEFAULT)	sim_alignment="-DWITH_ALIGNMENT=0";;
!   *)				{ { echo "$as_me:$LINENO: error: \"Unknown value $enableval passed to --enable-sim-alignment\"" >&5
! echo "$as_me: error: \"Unknown value $enableval passed to --enable-sim-alignment\"" >&2;}
     { (exit 1); exit 1; }; }; sim_alignment="";;
  esac
  if test x"$silent" != x"yes" && test x"$sim_alignment" != x""; then
--- 3071,3084 ----
  fi
  
  
! # Check whether --enable-sim-alignment was given.
  if test "${enable_sim_alignment+set}" = set; then
!   enableval=$enable_sim_alignment; case "${enableval}" in
    yes | strict | STRICT)	sim_alignment="-DWITH_ALIGNMENT=STRICT_ALIGNMENT";;
    no | nonstrict | NONSTRICT)	sim_alignment="-DWITH_ALIGNMENT=NONSTRICT_ALIGNMENT";;
    0 | default | DEFAULT)	sim_alignment="-DWITH_ALIGNMENT=0";;
!   *)				{ { $as_echo "$as_me:$LINENO: error: \"Unknown value $enableval passed to --enable-sim-alignment\"" >&5
! $as_echo "$as_me: error: \"Unknown value $enableval passed to --enable-sim-alignment\"" >&2;}
     { (exit 1); exit 1; }; }; sim_alignment="";;
  esac
  if test x"$silent" != x"yes" && test x"$sim_alignment" != x""; then
***************
*** 2468,2483 ****
  fi
  else
    sim_alignment=""
! fi;
  
! # Check whether --enable-sim-assert or --disable-sim-assert was given.
  if test "${enable_sim_assert+set}" = set; then
!   enableval="$enable_sim_assert"
!   case "${enableval}" in
    yes)	sim_assert="-DWITH_ASSERT=1";;
    no)	sim_assert="-DWITH_ASSERT=0";;
!   *)	{ { echo "$as_me:$LINENO: error: \"--enable-sim-assert does not take a value\"" >&5
! echo "$as_me: error: \"--enable-sim-assert does not take a value\"" >&2;}
     { (exit 1); exit 1; }; }; sim_assert="";;
  esac
  if test x"$silent" != x"yes" && test x"$sim_assert" != x""; then
--- 3086,3101 ----
  fi
  else
    sim_alignment=""
! fi
  
! 
! # Check whether --enable-sim-assert was given.
  if test "${enable_sim_assert+set}" = set; then
!   enableval=$enable_sim_assert; case "${enableval}" in
    yes)	sim_assert="-DWITH_ASSERT=1";;
    no)	sim_assert="-DWITH_ASSERT=0";;
!   *)	{ { $as_echo "$as_me:$LINENO: error: \"--enable-sim-assert does not take a value\"" >&5
! $as_echo "$as_me: error: \"--enable-sim-assert does not take a value\"" >&2;}
     { (exit 1); exit 1; }; }; sim_assert="";;
  esac
  if test x"$silent" != x"yes" && test x"$sim_assert" != x""; then
***************
*** 2485,2499 ****
  fi
  else
    sim_assert=""
! fi;
  
! # Check whether --enable-sim-bitsize or --disable-sim-bitsize was given.
  if test "${enable_sim_bitsize+set}" = set; then
!   enableval="$enable_sim_bitsize"
!   case "${enableval}" in
    32|64) sim_bitsize="-DWITH_TARGET_WORD_BITSIZE=$enableval";;
!   *)	 { { echo "$as_me:$LINENO: error: \"--enable-sim-bitsize was given $enableval.  Expected 32 or 64\"" >&5
! echo "$as_me: error: \"--enable-sim-bitsize was given $enableval.  Expected 32 or 64\"" >&2;}
     { (exit 1); exit 1; }; }; sim_bitsize="";;
  esac
  if test x"$silent" != x"yes" && test x"$sim_bitsize" != x""; then
--- 3103,3117 ----
  fi
  else
    sim_assert=""
! fi
  
! 
! # Check whether --enable-sim-bitsize was given.
  if test "${enable_sim_bitsize+set}" = set; then
!   enableval=$enable_sim_bitsize; case "${enableval}" in
    32|64) sim_bitsize="-DWITH_TARGET_WORD_BITSIZE=$enableval";;
!   *)	 { { $as_echo "$as_me:$LINENO: error: \"--enable-sim-bitsize was given $enableval.  Expected 32 or 64\"" >&5
! $as_echo "$as_me: error: \"--enable-sim-bitsize was given $enableval.  Expected 32 or 64\"" >&2;}
     { (exit 1); exit 1; }; }; sim_bitsize="";;
  esac
  if test x"$silent" != x"yes" && test x"$sim_bitsize" != x""; then
***************
*** 2501,2516 ****
  fi
  else
    sim_bitsize=""
! fi;
  
! # Check whether --enable-sim-bswap or --disable-sim-bswap was given.
  if test "${enable_sim_bswap+set}" = set; then
!   enableval="$enable_sim_bswap"
!   case "${enableval}" in
    yes)	sim_bswap="-DWITH_BSWAP=1";;
    no)	sim_bswap="-DWITH_BSWAP=0";;
!   *)	{ { echo "$as_me:$LINENO: error: \"--enable-sim-bswap does not take a value\"" >&5
! echo "$as_me: error: \"--enable-sim-bswap does not take a value\"" >&2;}
     { (exit 1); exit 1; }; }; sim_bswap="";;
  esac
  if test x"$silent" != x"yes" && test x"$sim_bswap" != x""; then
--- 3119,3134 ----
  fi
  else
    sim_bitsize=""
! fi
  
! 
! # Check whether --enable-sim-bswap was given.
  if test "${enable_sim_bswap+set}" = set; then
!   enableval=$enable_sim_bswap; case "${enableval}" in
    yes)	sim_bswap="-DWITH_BSWAP=1";;
    no)	sim_bswap="-DWITH_BSWAP=0";;
!   *)	{ { $as_echo "$as_me:$LINENO: error: \"--enable-sim-bswap does not take a value\"" >&5
! $as_echo "$as_me: error: \"--enable-sim-bswap does not take a value\"" >&2;}
     { (exit 1); exit 1; }; }; sim_bswap="";;
  esac
  if test x"$silent" != x"yes" && test x"$sim_bswap" != x""; then
***************
*** 2518,2529 ****
  fi
  else
    sim_bswap=""
! fi;
  
! # Check whether --enable-sim-cflags or --disable-sim-cflags was given.
  if test "${enable_sim_cflags+set}" = set; then
!   enableval="$enable_sim_cflags"
!   case "${enableval}" in
    yes)	sim_cflags="-O2 -fomit-frame-pointer";;
    no)	sim_cflags="";;
    *)	sim_cflags=`echo "${enableval}" | sed -e "s/,/ /g"`;;
--- 3136,3147 ----
  fi
  else
    sim_bswap=""
! fi
  
! 
! # Check whether --enable-sim-cflags was given.
  if test "${enable_sim_cflags+set}" = set; then
!   enableval=$enable_sim_cflags; case "${enableval}" in
    yes)	sim_cflags="-O2 -fomit-frame-pointer";;
    no)	sim_cflags="";;
    *)	sim_cflags=`echo "${enableval}" | sed -e "s/,/ /g"`;;
***************
*** 2533,2554 ****
  fi
  else
    sim_cflags=""
! fi;
  
! # Check whether --enable-sim-config or --disable-sim-config was given.
  if test "${enable_sim_config+set}" = set; then
!   enableval="$enable_sim_config"
!   case "${enableval}" in
!   yes|no)	{ { echo "$as_me:$LINENO: error: \"No value supplied for --enable-sim-config=file\"" >&5
! echo "$as_me: error: \"No value supplied for --enable-sim-config=file\"" >&2;}
     { (exit 1); exit 1; }; };;
    *)		if test -f "${srcdir}/${enableval}"; then
  		  sim_config="${enableval}";
  		elif test -f "${srcdir}/${enableval}-config.h"; then
  		  sim_config="${enableval}-config.h"
  		else
! 		  { { echo "$as_me:$LINENO: error: \"Config file $enableval was not found\"" >&5
! echo "$as_me: error: \"Config file $enableval was not found\"" >&2;}
     { (exit 1); exit 1; }; };
  		  sim_config=std-config.h
  		fi;;
--- 3151,3172 ----
  fi
  else
    sim_cflags=""
! fi
  
! 
! # Check whether --enable-sim-config was given.
  if test "${enable_sim_config+set}" = set; then
!   enableval=$enable_sim_config; case "${enableval}" in
!   yes|no)	{ { $as_echo "$as_me:$LINENO: error: \"No value supplied for --enable-sim-config=file\"" >&5
! $as_echo "$as_me: error: \"No value supplied for --enable-sim-config=file\"" >&2;}
     { (exit 1); exit 1; }; };;
    *)		if test -f "${srcdir}/${enableval}"; then
  		  sim_config="${enableval}";
  		elif test -f "${srcdir}/${enableval}-config.h"; then
  		  sim_config="${enableval}-config.h"
  		else
! 		  { { $as_echo "$as_me:$LINENO: error: \"Config file $enableval was not found\"" >&5
! $as_echo "$as_me: error: \"Config file $enableval was not found\"" >&2;}
     { (exit 1); exit 1; }; };
  		  sim_config=std-config.h
  		fi;;
***************
*** 2561,2578 ****
  if test x"$silent" != x"yes"; then
    echo "Setting config flags = $sim_config" 6>&1
  fi
! fi;
  
! # Check whether --enable-sim-decode-mechanism or --disable-sim-decode-mechanism was given.
  if test "${enable_sim_decode_mechanism+set}" = set; then
!   enableval="$enable_sim_decode_mechanism"
!   case "${enableval}" in
!   yes|no)	{ { echo "$as_me:$LINENO: error: \"No value supplied for --enable-sim-decode-mechanism=file\"" >&5
! echo "$as_me: error: \"No value supplied for --enable-sim-decode-mechanism=file\"" >&2;}
     { (exit 1); exit 1; }; };;
    array|switch|padded-switch|goto-switch)	sim_decode_mechanism="-T ${enableval}";;
!   *)		{ { echo "$as_me:$LINENO: error: \"File $enableval is not an opcode rules file\"" >&5
! echo "$as_me: error: \"File $enableval is not an opcode rules file\"" >&2;}
     { (exit 1); exit 1; }; };
  		sim_decode_mechanism="switch";;
  esac
--- 3179,3196 ----
  if test x"$silent" != x"yes"; then
    echo "Setting config flags = $sim_config" 6>&1
  fi
! fi
  
! 
! # Check whether --enable-sim-decode-mechanism was given.
  if test "${enable_sim_decode_mechanism+set}" = set; then
!   enableval=$enable_sim_decode_mechanism; case "${enableval}" in
!   yes|no)	{ { $as_echo "$as_me:$LINENO: error: \"No value supplied for --enable-sim-decode-mechanism=file\"" >&5
! $as_echo "$as_me: error: \"No value supplied for --enable-sim-decode-mechanism=file\"" >&2;}
     { (exit 1); exit 1; }; };;
    array|switch|padded-switch|goto-switch)	sim_decode_mechanism="-T ${enableval}";;
!   *)		{ { $as_echo "$as_me:$LINENO: error: \"File $enableval is not an opcode rules file\"" >&5
! $as_echo "$as_me: error: \"File $enableval is not an opcode rules file\"" >&2;}
     { (exit 1); exit 1; }; };
  		sim_decode_mechanism="switch";;
  esac
***************
*** 2584,2597 ****
  if test x"$silent" != x"yes"; then
    echo "Setting decode mechanism flags = $sim_decode_mechanism"
  fi
! fi;
  
! # Check whether --enable-sim-default-model or --disable-sim-default-model was given.
  if test "${enable_sim_default_model+set}" = set; then
!   enableval="$enable_sim_default_model"
!   case "${enableval}" in
!   yes|no)	{ { echo "$as_me:$LINENO: error: \"No value supplied for --enable-sim-default-model=model\"" >&5
! echo "$as_me: error: \"No value supplied for --enable-sim-default-model=model\"" >&2;}
     { (exit 1); exit 1; }; };;
    *)		sim_default_model="-DWITH_DEFAULT_MODEL=${enableval}";;
  esac
--- 3202,3215 ----
  if test x"$silent" != x"yes"; then
    echo "Setting decode mechanism flags = $sim_decode_mechanism"
  fi
! fi
  
! 
! # Check whether --enable-sim-default-model was given.
  if test "${enable_sim_default_model+set}" = set; then
!   enableval=$enable_sim_default_model; case "${enableval}" in
!   yes|no)	{ { $as_echo "$as_me:$LINENO: error: \"No value supplied for --enable-sim-default-model=model\"" >&5
! $as_echo "$as_me: error: \"No value supplied for --enable-sim-default-model=model\"" >&2;}
     { (exit 1); exit 1; }; };;
    *)		sim_default_model="-DWITH_DEFAULT_MODEL=${enableval}";;
  esac
***************
*** 2600,2615 ****
  fi
  else
    sim_default_model=""
! fi;
  
! # Check whether --enable-sim-duplicate or --disable-sim-duplicate was given.
  if test "${enable_sim_duplicate+set}" = set; then
!   enableval="$enable_sim_duplicate"
!   case "${enableval}" in
    yes)	sim_dup="-E";;
    no)	sim_dup="";;
!   *)	{ { echo "$as_me:$LINENO: error: \"--enable-sim-duplicate does not take a value\"" >&5
! echo "$as_me: error: \"--enable-sim-duplicate does not take a value\"" >&2;}
     { (exit 1); exit 1; }; }; sim_dup="";;
  esac
  if test x"$silent" != x"yes" && test x"$sim_dup" != x""; then
--- 3218,3233 ----
  fi
  else
    sim_default_model=""
! fi
  
! 
! # Check whether --enable-sim-duplicate was given.
  if test "${enable_sim_duplicate+set}" = set; then
!   enableval=$enable_sim_duplicate; case "${enableval}" in
    yes)	sim_dup="-E";;
    no)	sim_dup="";;
!   *)	{ { $as_echo "$as_me:$LINENO: error: \"--enable-sim-duplicate does not take a value\"" >&5
! $as_echo "$as_me: error: \"--enable-sim-duplicate does not take a value\"" >&2;}
     { (exit 1); exit 1; }; }; sim_dup="";;
  esac
  if test x"$silent" != x"yes" && test x"$sim_dup" != x""; then
***************
*** 2620,2631 ****
  if test x"$silent" != x"yes"; then
    echo "Setting duplicate flags = $sim_dup" 6>&1
  fi
! fi;
  
! # Check whether --enable-sim-endian or --disable-sim-endian was given.
  if test "${enable_sim_endian+set}" = set; then
!   enableval="$enable_sim_endian"
!   case "${enableval}" in
    yes)	case "$target" in
  	  *powerpc-*) sim_endian="-DWITH_TARGET_BYTE_ORDER=BIG_ENDIAN";;
  	  *powerpcle-*) sim_endian="-DWITH_TARGET_BYTE_ORDER=LITTLE_ENDIAN";;
--- 3238,3249 ----
  if test x"$silent" != x"yes"; then
    echo "Setting duplicate flags = $sim_dup" 6>&1
  fi
! fi
  
! 
! # Check whether --enable-sim-endian was given.
  if test "${enable_sim_endian+set}" = set; then
!   enableval=$enable_sim_endian; case "${enableval}" in
    yes)	case "$target" in
  	  *powerpc-*) sim_endian="-DWITH_TARGET_BYTE_ORDER=BIG_ENDIAN";;
  	  *powerpcle-*) sim_endian="-DWITH_TARGET_BYTE_ORDER=LITTLE_ENDIAN";;
***************
*** 2634,2641 ****
    no)	 sim_endian="-DWITH_TARGET_BYTE_ORDER=0";;
    b*|B*) sim_endian="-DWITH_TARGET_BYTE_ORDER=BIG_ENDIAN";;
    l*|L*) sim_endian="-DWITH_TARGET_BYTE_ORDER=LITTLE_ENDIAN";;
!   *)	 { { echo "$as_me:$LINENO: error: \"Unknown value $enableval for --enable-sim-endian\"" >&5
! echo "$as_me: error: \"Unknown value $enableval for --enable-sim-endian\"" >&2;}
     { (exit 1); exit 1; }; }; sim_endian="";;
  esac
  if test x"$silent" != x"yes" && test x"$sim_endian" != x""; then
--- 3252,3259 ----
    no)	 sim_endian="-DWITH_TARGET_BYTE_ORDER=0";;
    b*|B*) sim_endian="-DWITH_TARGET_BYTE_ORDER=BIG_ENDIAN";;
    l*|L*) sim_endian="-DWITH_TARGET_BYTE_ORDER=LITTLE_ENDIAN";;
!   *)	 { { $as_echo "$as_me:$LINENO: error: \"Unknown value $enableval for --enable-sim-endian\"" >&5
! $as_echo "$as_me: error: \"Unknown value $enableval for --enable-sim-endian\"" >&2;}
     { (exit 1); exit 1; }; }; sim_endian="";;
  esac
  if test x"$silent" != x"yes" && test x"$sim_endian" != x""; then
***************
*** 2643,2660 ****
  fi
  else
    sim_endian=""
! fi;
  
! # Check whether --enable-sim-env or --disable-sim-env was given.
  if test "${enable_sim_env+set}" = set; then
!   enableval="$enable_sim_env"
!   case "${enableval}" in
    operating | os | oea)	sim_env="-DWITH_ENVIRONMENT=OPERATING_ENVIRONMENT";;
    virtual | vea)	sim_env="-DWITH_ENVIRONMENT=VIRTUAL_ENVIRONMENT";;
    user | uea)		sim_env="-DWITH_ENVIRONMENT=USER_ENVIRONMENT";;
    no)			sim_env="-DWITH_ENVIRONMENT=0";;
!   *)			{ { echo "$as_me:$LINENO: error: \"Unknown value $enableval passed to --enable-sim-env\"" >&5
! echo "$as_me: error: \"Unknown value $enableval passed to --enable-sim-env\"" >&2;}
     { (exit 1); exit 1; }; }; sim_env="";;
  esac
  if test x"$silent" != x"yes" && test x"$sim_env" != x""; then
--- 3261,3278 ----
  fi
  else
    sim_endian=""
! fi
  
! 
! # Check whether --enable-sim-env was given.
  if test "${enable_sim_env+set}" = set; then
!   enableval=$enable_sim_env; case "${enableval}" in
    operating | os | oea)	sim_env="-DWITH_ENVIRONMENT=OPERATING_ENVIRONMENT";;
    virtual | vea)	sim_env="-DWITH_ENVIRONMENT=VIRTUAL_ENVIRONMENT";;
    user | uea)		sim_env="-DWITH_ENVIRONMENT=USER_ENVIRONMENT";;
    no)			sim_env="-DWITH_ENVIRONMENT=0";;
!   *)			{ { $as_echo "$as_me:$LINENO: error: \"Unknown value $enableval passed to --enable-sim-env\"" >&5
! $as_echo "$as_me: error: \"Unknown value $enableval passed to --enable-sim-env\"" >&2;}
     { (exit 1); exit 1; }; }; sim_env="";;
  esac
  if test x"$silent" != x"yes" && test x"$sim_env" != x""; then
***************
*** 2662,2675 ****
  fi
  else
    sim_env=""
! fi;
  
! # Check whether --enable-sim-filter or --disable-sim-filter was given.
  if test "${enable_sim_filter+set}" = set; then
!   enableval="$enable_sim_filter"
!   case "${enableval}" in
!   yes)	{ { echo "$as_me:$LINENO: error: \"--enable-sim-filter must be specified with a rule to filter or no\"" >&5
! echo "$as_me: error: \"--enable-sim-filter must be specified with a rule to filter or no\"" >&2;}
     { (exit 1); exit 1; }; }; sim_filter="";;
    no)	sim_filter="";;
    *)	sim_filter="-F $enableval";;
--- 3280,3293 ----
  fi
  else
    sim_env=""
! fi
  
! 
! # Check whether --enable-sim-filter was given.
  if test "${enable_sim_filter+set}" = set; then
!   enableval=$enable_sim_filter; case "${enableval}" in
!   yes)	{ { $as_echo "$as_me:$LINENO: error: \"--enable-sim-filter must be specified with a rule to filter or no\"" >&5
! $as_echo "$as_me: error: \"--enable-sim-filter must be specified with a rule to filter or no\"" >&2;}
     { (exit 1); exit 1; }; }; sim_filter="";;
    no)	sim_filter="";;
    *)	sim_filter="-F $enableval";;
***************
*** 2682,2699 ****
  if test x"$silent" != x"yes"; then
    echo "Setting filter flags = $sim_filter" 6>&1
  fi
! fi;
  
! # Check whether --enable-sim-float or --disable-sim-float was given.
  if test "${enable_sim_float+set}" = set; then
!   enableval="$enable_sim_float"
!   case "${enableval}" in
    yes | hard)	sim_float="-DWITH_FLOATING_POINT=HARD_FLOATING_POINT";;
    no | soft)	sim_float="-DWITH_FLOATING_POINT=SOFT_FLOATING_POINT";;
    altivec)      sim_float="-DWITH_ALTIVEC" ; sim_filter="${sim_filter},av" ;;
    *spe*|*simd*) sim_float="-DWITH_E500" ; sim_filter="${sim_filter},e500" ;;
!   *)		{ { echo "$as_me:$LINENO: error: \"Unknown value $enableval passed to --enable-sim-float\"" >&5
! echo "$as_me: error: \"Unknown value $enableval passed to --enable-sim-float\"" >&2;}
     { (exit 1); exit 1; }; }; sim_float="";;
  esac
  if test x"$silent" != x"yes" && test x"$sim_float" != x""; then
--- 3300,3317 ----
  if test x"$silent" != x"yes"; then
    echo "Setting filter flags = $sim_filter" 6>&1
  fi
! fi
  
! 
! # Check whether --enable-sim-float was given.
  if test "${enable_sim_float+set}" = set; then
!   enableval=$enable_sim_float; case "${enableval}" in
    yes | hard)	sim_float="-DWITH_FLOATING_POINT=HARD_FLOATING_POINT";;
    no | soft)	sim_float="-DWITH_FLOATING_POINT=SOFT_FLOATING_POINT";;
    altivec)      sim_float="-DWITH_ALTIVEC" ; sim_filter="${sim_filter},av" ;;
    *spe*|*simd*) sim_float="-DWITH_E500" ; sim_filter="${sim_filter},e500" ;;
!   *)		{ { $as_echo "$as_me:$LINENO: error: \"Unknown value $enableval passed to --enable-sim-float\"" >&5
! $as_echo "$as_me: error: \"Unknown value $enableval passed to --enable-sim-float\"" >&2;}
     { (exit 1); exit 1; }; }; sim_float="";;
  esac
  if test x"$silent" != x"yes" && test x"$sim_float" != x""; then
***************
*** 2707,2722 ****
    *) sim_float=""
  esac
  
! fi;
  
! # Check whether --enable-sim-hardware or --disable-sim-hardware was given.
  if test "${enable_sim_hardware+set}" = set; then
!   enableval="$enable_sim_hardware"
!   hardware="cpu,memory,nvram,iobus,htab,disk,trace,register,vm,init,core,pal,com,eeprom,opic,glue,phb,ide"
  case "${enableval}" in
    yes)	;;
!   no)	{ { echo "$as_me:$LINENO: error: \"List of hardware must be specified for --enable-sim-hardware\"" >&5
! echo "$as_me: error: \"List of hardware must be specified for --enable-sim-hardware\"" >&2;}
     { (exit 1); exit 1; }; }; hardware="";;
    ,*)   hardware="${hardware}${enableval}";;
    *,)   hardware="${enableval}${hardware}";;
--- 3325,3340 ----
    *) sim_float=""
  esac
  
! fi
! 
  
! # Check whether --enable-sim-hardware was given.
  if test "${enable_sim_hardware+set}" = set; then
!   enableval=$enable_sim_hardware; hardware="cpu,memory,nvram,iobus,htab,disk,trace,register,vm,init,core,pal,com,eeprom,opic,glue,phb,ide,ethtap"
  case "${enableval}" in
    yes)	;;
!   no)	{ { $as_echo "$as_me:$LINENO: error: \"List of hardware must be specified for --enable-sim-hardware\"" >&5
! $as_echo "$as_me: error: \"List of hardware must be specified for --enable-sim-hardware\"" >&2;}
     { (exit 1); exit 1; }; }; hardware="";;
    ,*)   hardware="${hardware}${enableval}";;
    *,)   hardware="${enableval}${hardware}";;
***************
*** 2728,2748 ****
    echo "Setting hardware to $sim_hw_src, $sim_hw_obj"
  fi
  else
!   hardware="cpu,memory,nvram,iobus,htab,disk,trace,register,vm,init,core,pal,com,eeprom,opic,glue,phb,ide"
  sim_hw_src=`echo $hardware | sed -e 's/,/.c hw_/g' -e 's/^/hw_/' -e s'/$/.c/'`
  sim_hw_obj=`echo $sim_hw_src | sed -e 's/\.c/.o/g'`
  if test x"$silent" != x"yes"; then
    echo "Setting hardware to $sim_hw_src, $sim_hw_obj"
  fi
! fi;
  
! # Check whether --enable-sim-hostbitsize or --disable-sim-hostbitsize was given.
  if test "${enable_sim_hostbitsize+set}" = set; then
!   enableval="$enable_sim_hostbitsize"
!   case "${enableval}" in
    32|64) sim_hostbitsize="-DWITH_HOST_WORD_BITSIZE=$enableval";;
!   *)	 { { echo "$as_me:$LINENO: error: \"--enable-sim-hostbitsize was given $enableval.  Expected 32 or 64\"" >&5
! echo "$as_me: error: \"--enable-sim-hostbitsize was given $enableval.  Expected 32 or 64\"" >&2;}
     { (exit 1); exit 1; }; }; sim_hostbitsize="";;
  esac
  if test x"$silent" != x"yes" && test x"$sim_hostbitsize" != x""; then
--- 3346,3366 ----
    echo "Setting hardware to $sim_hw_src, $sim_hw_obj"
  fi
  else
!   hardware="cpu,memory,nvram,iobus,htab,disk,trace,register,vm,init,core,pal,com,eeprom,opic,glue,phb,ide,ethtap"
  sim_hw_src=`echo $hardware | sed -e 's/,/.c hw_/g' -e 's/^/hw_/' -e s'/$/.c/'`
  sim_hw_obj=`echo $sim_hw_src | sed -e 's/\.c/.o/g'`
  if test x"$silent" != x"yes"; then
    echo "Setting hardware to $sim_hw_src, $sim_hw_obj"
  fi
! fi
  
! 
! # Check whether --enable-sim-hostbitsize was given.
  if test "${enable_sim_hostbitsize+set}" = set; then
!   enableval=$enable_sim_hostbitsize; case "${enableval}" in
    32|64) sim_hostbitsize="-DWITH_HOST_WORD_BITSIZE=$enableval";;
!   *)	 { { $as_echo "$as_me:$LINENO: error: \"--enable-sim-hostbitsize was given $enableval.  Expected 32 or 64\"" >&5
! $as_echo "$as_me: error: \"--enable-sim-hostbitsize was given $enableval.  Expected 32 or 64\"" >&2;}
     { (exit 1); exit 1; }; }; sim_hostbitsize="";;
  esac
  if test x"$silent" != x"yes" && test x"$sim_hostbitsize" != x""; then
***************
*** 2750,4005 ****
  fi
  else
    sim_hostbitsize=""
! fi;
  
  
- # Check whether --enable-sim-hostendian or --disable-sim-hostendian was given.
- if test "${enable_sim_hostendian+set}" = set; then
-   enableval="$enable_sim_hostendian"
-   case "${enableval}" in
-   no)	 sim_hostendian="-DWITH_HOST_BYTE_ORDER=0";;
-   b*|B*) sim_hostendian="-DWITH_HOST_BYTE_ORDER=BIG_ENDIAN";;
-   l*|L*) sim_hostendian="-DWITH_HOST_BYTE_ORDER=LITTLE_ENDIAN";;
-   *)	 { { echo "$as_me:$LINENO: error: \"Unknown value $enableval for --enable-sim-hostendian\"" >&5
- echo "$as_me: error: \"Unknown value $enableval for --enable-sim-hostendian\"" >&2;}
-    { (exit 1); exit 1; }; }; sim_hostendian="";;
- esac
- if test x"$silent" != x"yes" && test x"$sim_hostendian" != x""; then
-   echo "Setting hostendian flags = $sim_hostendian" 6>&1
- fi
- else
  
! if test "x$cross_compiling" = "xno"; then
!   echo "$as_me:$LINENO: checking whether byte ordering is bigendian" >&5
! echo $ECHO_N "checking whether byte ordering is bigendian... $ECHO_C" >&6
! if test "${ac_cv_c_bigendian+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
!   # See if sys/param.h defines the BYTE_ORDER macro.
! cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
! #include <sys/types.h>
! #include <sys/param.h>
! 
! int
! main ()
! {
! #if !BYTE_ORDER || !BIG_ENDIAN || !LITTLE_ENDIAN
!  bogus endian macros
  #endif
! 
!   ;
!   return 0;
! }
  _ACEOF
! rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   # It does; now see whether it defined to BIG_ENDIAN or not.
! cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
! #include <sys/types.h>
! #include <sys/param.h>
! 
! int
! main ()
! {
! #if BYTE_ORDER != BIG_ENDIAN
!  not big endian
! #endif
! 
!   ;
!   return 0;
! }
  _ACEOF
! rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   ac_cv_c_bigendian=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_cv_c_bigendian=no
  fi
- rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
- else
-   echo "$as_me: failed program was:" >&5
- sed 's/^/| /' conftest.$ac_ext >&5
  
! # It does not; compile a test program.
! if test "$cross_compiling" = yes; then
!   # try to guess the endianness by grepping values into an object file
!   ac_cv_c_bigendian=unknown
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
! short ascii_mm[] = { 0x4249, 0x4765, 0x6E44, 0x6961, 0x6E53, 0x7953, 0 };
! short ascii_ii[] = { 0x694C, 0x5454, 0x656C, 0x6E45, 0x6944, 0x6E61, 0 };
! void _ascii () { char *s = (char *) ascii_mm; s = (char *) ascii_ii; }
! short ebcdic_ii[] = { 0x89D3, 0xE3E3, 0x8593, 0x95C5, 0x89C4, 0x9581, 0 };
! short ebcdic_mm[] = { 0xC2C9, 0xC785, 0x95C4, 0x8981, 0x95E2, 0xA8E2, 0 };
! void _ebcdic () { char *s = (char *) ebcdic_mm; s = (char *) ebcdic_ii; }
! int
! main ()
! {
!  _ascii (); _ebcdic ();
!   ;
!   return 0;
! }
  _ACEOF
! rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   if grep BIGenDianSyS conftest.$ac_objext >/dev/null ; then
!   ac_cv_c_bigendian=yes
! fi
! if grep LiTTleEnDian conftest.$ac_objext >/dev/null ; then
!   if test "$ac_cv_c_bigendian" = unknown; then
!     ac_cv_c_bigendian=no
!   else
!     # finding both strings is unlikely to happen, but who knows?
!     ac_cv_c_bigendian=unknown
!   fi
! fi
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
! else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
! int
! main ()
! {
!   /* Are we little or big endian?  From Harbison&Steele.  */
!   union
!   {
!     long l;
!     char c[sizeof (long)];
!   } u;
!   u.l = 1;
!   exit (u.c[sizeof (long) - 1] == 1);
! }
  _ACEOF
! rm -f conftest$ac_exeext
! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   ac_cv_c_bigendian=no
  else
!   echo "$as_me: program exited with status $ac_status" >&5
! echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ( exit $ac_status )
! ac_cv_c_bigendian=yes
! fi
! rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
! fi
! fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
- echo "$as_me:$LINENO: result: $ac_cv_c_bigendian" >&5
- echo "${ECHO_T}$ac_cv_c_bigendian" >&6
- case $ac_cv_c_bigendian in
-   yes)
  
! cat >>confdefs.h <<\_ACEOF
! #define WORDS_BIGENDIAN 1
! _ACEOF
!  ;;
!   no)
!      ;;
!   *)
!     { { echo "$as_me:$LINENO: error: unknown endianness
! presetting ac_cv_c_bigendian=no (or yes) will help" >&5
! echo "$as_me: error: unknown endianness
! presetting ac_cv_c_bigendian=no (or yes) will help" >&2;}
!    { (exit 1); exit 1; }; } ;;
! esac
  
!   if test $ac_cv_c_bigendian = yes; then
!     sim_hostendian="-DWITH_HOST_BYTE_ORDER=BIG_ENDIAN"
!   else
!     sim_hostendian="-DWITH_HOST_BYTE_ORDER=LITTLE_ENDIAN"
!   fi
  else
!   sim_hostendian="-DWITH_HOST_BYTE_ORDER=0"
  fi
- fi;
  
! # Check whether --enable-sim-icache or --disable-sim-icache was given.
! if test "${enable_sim_icache+set}" = set; then
!   enableval="$enable_sim_icache"
!   icache="-R"
!  case "${enableval}" in
!   yes)		icache="1024"; sim_icache="-I $icache";;
!   no)		sim_icache="-R";;
!   *) icache=1024
!      sim_icache="-"
!      for x in `echo "${enableval}" | sed -e "s/,/ /g"`; do
!        case "$x" in
!          define)	sim_icache="${sim_icache}R";;
!          semantic)	sim_icache="${sim_icache}C";;
! 	 insn)		sim_icache="${sim_icache}S";;
! 	 0*|1*|2*|3*|4*|5*|6*|7*|8*|9*)	icache=$x;;
!          *)		{ { echo "$as_me:$LINENO: error: \"Unknown value $x for --enable-sim-icache\"" >&5
! echo "$as_me: error: \"Unknown value $x for --enable-sim-icache\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_icache="";;
!        esac
!      done
!      sim_icache="${sim_icache}I $icache";;
  esac
! if test x"$silent" != x"yes" && test x"$icache" != x""; then
!   echo "Setting instruction cache size to $icache ($sim_icache)"
! fi
  else
!   sim_icache="-CSRI 1024"
! if test x"$silent" != x"yes"; then
!   echo "Setting instruction cache size to 1024 ($sim_icache)"
  fi
- fi;
  
- # Check whether --enable-sim-inline or --disable-sim-inline was given.
- if test "${enable_sim_inline+set}" = set; then
-   enableval="$enable_sim_inline"
-   sim_inline=""
- case "$enableval" in
-   no)		sim_inline="-DDEFAULT_INLINE=0";;
-   0)		sim_inline="-DDEFAULT_INLINE=0";;
-   yes | 2)	sim_inline="-DDEFAULT_INLINE=ALL_INLINE";;
-   1)		sim_inline="-DDEFAULT_INLINE=PSIM_INLINE_LOCALS";;
-   *) for x in `echo "$enableval" | sed -e "s/,/ /g"`; do
-        new_flag=""
-        case "$x" in
- 	 *_INLINE=*)	new_flag="-D$x";;
- 	 *=*)		new_flag=`echo "$x" | sed -e "s/=/_INLINE=/" -e "s/^/-D/"`;;
- 	 *_INLINE)	new_flag="-D$x=ALL_INLINE";;
- 	 *)		new_flag="-D$x""_INLINE=ALL_INLINE";;
-        esac
-        if test x"$sim_inline" = x""; then
- 	 sim_inline="$new_flag"
-        else
- 	 sim_inline="$sim_inline $new_flag"
-        fi
-      done;;
- esac
- if test x"$silent" != x"yes" && test x"$sim_inline" != x""; then
-   echo "Setting inline flags = $sim_inline" 6>&1
  fi
  else
!   if test x"$GCC" != ""; then
!   sim_inline="-DDEFAULT_INLINE=PSIM_INLINE_LOCALS"
!   if test x"$silent" != x"yes"; then
!     echo "Setting inline flags = $sim_inline" 6>&1
    fi
  else
!   sim_inline=""
  fi
- fi;
  
! # Check whether --enable-sim-jump or --disable-sim-jump was given.
! if test "${enable_sim_jump+set}" = set; then
!   enableval="$enable_sim_jump"
!   case "${enableval}" in
!   yes)	sim_jump="-J";;
!   no)	sim_jump="";;
!   *)	{ { echo "$as_me:$LINENO: error: \"--enable-sim-jump does not take a value\"" >&5
! echo "$as_me: error: \"--enable-sim-jump does not take a value\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_jump="";;
! esac
! if test x"$silent" != x"yes" && test x"$sim_jump" != x""; then
!   echo "Setting jump flag = $sim_jump" 6>&1
  fi
  else
!   sim_jump=""
! if test x"$silent" != x"yes"; then
!   echo "Setting jump flag = $sim_jump" 6>&1
! fi
! fi;
  
! # Check whether --enable-sim-line-nr or --disable-sim-line-nr was given.
! if test "${enable_sim_line_nr+set}" = set; then
!   enableval="$enable_sim_line_nr"
!   case "${enableval}" in
!   yes)	sim_line_nr="";;
!   no)	sim_line_nr="-L";;
!   *)	{ { echo "$as_me:$LINENO: error: \"--enable-sim-line-nr does not take a value\"" >&5
! echo "$as_me: error: \"--enable-sim-line-nr does not take a value\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_line_nr="";;
  esac
! if test x"$silent" != x"yes" && test x"$sim_line_nr" != x""; then
!   echo "Setting warning flags = $sim_line_nr" 6>&1
! fi
  else
!   sim_line_nr=""
! fi;
  
! # Check whether --enable-sim-model or --disable-sim-model was given.
! if test "${enable_sim_model+set}" = set; then
!   enableval="$enable_sim_model"
!   case "${enableval}" in
!   yes|no)	{ { echo "$as_me:$LINENO: error: \"No value supplied for --enable-sim-model=model\"" >&5
! echo "$as_me: error: \"No value supplied for --enable-sim-model=model\"" >&2;}
!    { (exit 1); exit 1; }; };;
!   *)		sim_model="-DWITH_MODEL=${enableval}";;
! esac
! if test x"$silent" != x"yes" && test x"$sim_model" != x""; then
!   echo "Setting model flags = $sim_model" 6>&1
  fi
  else
!   sim_model=""
! fi;
  
- # Check whether --enable-sim-model-issue or --disable-sim-model-issue was given.
- if test "${enable_sim_model_issue+set}" = set; then
-   enableval="$enable_sim_model_issue"
-   case "${enableval}" in
-   yes)	sim_model_issue="-DWITH_MODEL_ISSUE=MODEL_ISSUE_PROCESS";;
-   no)	sim_model_issue="-DWITH_MODEL_ISSUE=MODEL_ISSUE_IGNORE";;
-   *)	{ { echo "$as_me:$LINENO: error: \"--enable-sim-model-issue does not take a value\"" >&5
- echo "$as_me: error: \"--enable-sim-model-issue does not take a value\"" >&2;}
-    { (exit 1); exit 1; }; }; sim_model_issue="";;
- esac
- if test x"$silent" != x"yes"; then
-   echo "Setting model-issue flags = $sim_model_issue" 6>&1
  fi
  else
!   sim_model_issue=""
! fi;
  
- # Check whether --enable-sim-monitor or --disable-sim-monitor was given.
- if test "${enable_sim_monitor+set}" = set; then
-   enableval="$enable_sim_monitor"
-   case "${enableval}" in
-   yes)		sim_monitor="-DWITH_MON='MONITOR_INSTRUCTION_ISSUE | MONITOR_LOAD_STORE_UNIT'";;
-   no)		sim_monitor="-DWITH_MON=0";;
-   instruction)	sim_monitor="-DWITH_MON=MONITOR_INSTRUCTION_ISSUE";;
-   memory)	sim_monitor="-DWITH_MON=MONITOR_LOAD_STORE_UNIT";;
-   *)		{ { echo "$as_me:$LINENO: error: \"Unknown value $enableval passed to --enable-sim-mon\"" >&5
- echo "$as_me: error: \"Unknown value $enableval passed to --enable-sim-mon\"" >&2;}
-    { (exit 1); exit 1; }; }; sim_env="";;
- esac
- if test x"$silent" != x"yes" && test x"$sim_monitor" != x""; then
-   echo "Setting monitor flags = $sim_monitor" 6>&1
  fi
  else
!   sim_monitor=""
! fi;
  
! # Check whether --enable-sim-opcode or --disable-sim-opcode was given.
! if test "${enable_sim_opcode+set}" = set; then
!   enableval="$enable_sim_opcode"
!   case "${enableval}" in
!   yes|no)	{ { echo "$as_me:$LINENO: error: \"No value supplied for --enable-sim-opcode=file\"" >&5
! echo "$as_me: error: \"No value supplied for --enable-sim-opcode=file\"" >&2;}
!    { (exit 1); exit 1; }; };;
!   *)		if test -f "${srcdir}/${enableval}"; then
! 		  sim_opcode="${enableval}"
! 		elif test -f "${srcdir}/dc-${enableval}"; then
! 		  sim_opcode="dc-${enableval}"
! 		else
! 		  { { echo "$as_me:$LINENO: error: \"File $enableval is not an opcode rules file\"" >&5
! echo "$as_me: error: \"File $enableval is not an opcode rules file\"" >&2;}
!    { (exit 1); exit 1; }; };
! 		  sim_opcode="dc-complex"
! 		fi;;
! esac
! if test x"$silent" != x"yes" && test x"$sim_opcode" != x""; then
!   echo "Setting opcode flags = $sim_opcode" 6>&1
  fi
! else
!   sim_opcode="dc-complex"
! if test x"$silent" != x"yes"; then
!   echo "Setting opcode flags = $sim_opcode"
  fi
- fi;
  
! # Check whether --enable-sim-packages or --disable-sim-packages was given.
! if test "${enable_sim_packages+set}" = set; then
!   enableval="$enable_sim_packages"
!   packages=disklabel
! case "${enableval}" in
!   yes)	;;
!   no)	{ { echo "$as_me:$LINENO: error: \"List of packages must be specified for --enable-sim-packages\"" >&5
! echo "$as_me: error: \"List of packages must be specified for --enable-sim-packages\"" >&2;}
!    { (exit 1); exit 1; }; }; packages="";;
!   ,*)   packages="${packages}${enableval}";;
!   *,)   packages="${enableval}${packages}";;
!   *)	packages="${enableval}"'';;
! esac
! sim_pk_src=`echo $packages | sed -e 's/,/.c pk_/g' -e 's/^/pk_/' -e 's/$/.c/'`
! sim_pk_obj=`echo $sim_pk_src | sed -e 's/\.c/.o/g'`
! if test x"$silent" != x"yes" && test x"$packages" != x""; then
!   echo "Setting packages to $sim_pk_src, $sim_pk_obj"
  fi
- else
-   packages=disklabel
- sim_pk_src=`echo $packages | sed -e 's/,/.c pk_/g' -e 's/^/pk_/' -e 's/$/.c/'`
- sim_pk_obj=`echo $sim_pk_src | sed -e 's/\.c/.o/g'`
- if test x"$silent" != x"yes"; then
-   echo "Setting packages to $sim_pk_src, $sim_pk_obj"
  fi
! fi;
  
! # Check whether --enable-sim-regparm or --disable-sim-regparm was given.
! if test "${enable_sim_regparm+set}" = set; then
!   enableval="$enable_sim_regparm"
!   case "${enableval}" in
!   0*|1*|2*|3*|4*|5*|6*|7*|8*|9*) sim_regparm="-DWITH_REGPARM=${enableval}";;
!   no)                            sim_regparm="" ;;
!   yes)                           sim_regparm="-DWITH_REGPARM=3";;
!   *)   { { echo "$as_me:$LINENO: error: \"Unknown value $enableval for --enable-sim-regparm\"" >&5
! echo "$as_me: error: \"Unknown value $enableval for --enable-sim-regparm\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_regparm="";;
! esac
! if test x"$silent" != x"yes" && test x"$sim_regparm" != x""; then
!   echo "Setting regparm flags = $sim_regparm" 6>&1
! fi
! else
!   sim_regparm=""
! fi;
  
- # Check whether --enable-sim-reserved-bits or --disable-sim-reserved-bits was given.
- if test "${enable_sim_reserved_bits+set}" = set; then
-   enableval="$enable_sim_reserved_bits"
-   case "${enableval}" in
-   yes)	sim_reserved="-DWITH_RESERVED_BITS=1";;
-   no)	sim_reserved="-DWITH_RESERVED_BITS=0";;
-   *)	{ { echo "$as_me:$LINENO: error: \"--enable-sim-reserved-bits does not take a value\"" >&5
- echo "$as_me: error: \"--enable-sim-reserved-bits does not take a value\"" >&2;}
-    { (exit 1); exit 1; }; }; sim_reserved="";;
- esac
- if test x"$silent" != x"yes" && test x"$sim_reserved" != x""; then
-   echo "Setting reserved flags = $sim_reserved" 6>&1
  fi
- else
-   sim_reserved=""
- fi;
  
! # Check whether --enable-sim-smp or --disable-sim-smp was given.
! if test "${enable_sim_smp+set}" = set; then
!   enableval="$enable_sim_smp"
!   case "${enableval}" in
!   yes)	sim_smp="-DWITH_SMP=5" ; sim_igen_smp="-N 5";;
!   no)	sim_smp="-DWITH_SMP=0" ; sim_igen_smp="-N 0";;
!   *)	sim_smp="-DWITH_SMP=$enableval" ; sim_igen_smp="-N $enableval";;
! esac
! if test x"$silent" != x"yes" && test x"$sim_smp" != x""; then
!   echo "Setting smp flags = $sim_smp" 6>&1
! fi
! else
!   sim_smp="-DWITH_SMP=5" ; sim_igen_smp="-N 5"
! if test x"$silent" != x"yes"; then
!   echo "Setting smp flags = $sim_smp" 6>&1
! fi
! fi;
  
- # Check whether --enable-sim-stdcall or --disable-sim-stdcall was given.
- if test "${enable_sim_stdcall+set}" = set; then
-   enableval="$enable_sim_stdcall"
-   case "${enableval}" in
-   no)		sim_stdcall="" ;;
-   std*)		sim_stdcall="-DWITH_STDCALL=1";;
-   yes)		sim_stdcall="-DWITH_STDCALL=1";;
-   *)   { { echo "$as_me:$LINENO: error: \"Unknown value $enableval for --enable-sim-stdcall\"" >&5
- echo "$as_me: error: \"Unknown value $enableval for --enable-sim-stdcall\"" >&2;}
-    { (exit 1); exit 1; }; }; sim_stdcall="";;
- esac
- if test x"$silent" != x"yes" && test x"$sim_stdcall" != x""; then
-   echo "Setting function call flags = $sim_stdcall" 6>&1
- fi
- else
-   sim_stdcall=""
- fi;
  
! # Check whether --enable-sim-stdio or --disable-sim-stdio was given.
! if test "${enable_sim_stdio+set}" = set; then
!   enableval="$enable_sim_stdio"
!   case "${enableval}" in
!   yes)	sim_stdio="-DWITH_STDIO=DO_USE_STDIO";;
!   no)	sim_stdio="-DWITH_STDIO=DONT_USE_STDIO";;
!   *)	{ { echo "$as_me:$LINENO: error: \"Unknown value $enableval passed to --enable-sim-stdio\"" >&5
! echo "$as_me: error: \"Unknown value $enableval passed to --enable-sim-stdio\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_stdio="";;
! esac
! if test x"$silent" != x"yes" && test x"$sim_stdio" != x""; then
!   echo "Setting stdio flags = $sim_stdio" 6>&1
! fi
  else
!   sim_stdio=""
! fi;
  
! # Check whether --enable-sim-switch or --disable-sim-switch was given.
! if test "${enable_sim_switch+set}" = set; then
!   enableval="$enable_sim_switch"
!   case "${enableval}" in
!   yes)	sim_switch="-s";;
!   no)	sim_switch="";;
!   *)	{ { echo "$as_me:$LINENO: error: \"--enable-sim-switch does not take a value\"" >&5
! echo "$as_me: error: \"--enable-sim-switch does not take a value\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_switch="";;
  esac
! if test x"$silent" != x"yes" && test x"$sim_switch" != x""; then
!   echo "Setting switch flags = $sim_switch" 6>&1
! fi
  else
!   sim_switch="";
! if test x"$silent" != x"yes"; then
!   echo "Setting switch flags = $sim_switch" 6>&1
! fi
! fi;
  
! # Check whether --enable-sim-timebase or --disable-sim-timebase was given.
! if test "${enable_sim_timebase+set}" = set; then
!   enableval="$enable_sim_timebase"
!   case "${enableval}" in
!   yes)	sim_timebase="-DWITH_TIME_BASE=1";;
!   no)	sim_timebase="-DWITH_TIME_BASE=0";;
!   *)	{ { echo "$as_me:$LINENO: error: \"--enable-sim-timebase does not take a value\"" >&5
! echo "$as_me: error: \"--enable-sim-timebase does not take a value\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_timebase="";;
! esac
! if test x"$silent" != x"yes" && test x"$sim_timebase" != x""; then
!   echo "Setting timebase flags = $sim_timebase" 6>&1
  fi
- else
-   sim_timebase=""
- fi;
  
! # Check whether --enable-sim-trace or --disable-sim-trace was given.
! if test "${enable_sim_trace+set}" = set; then
!   enableval="$enable_sim_trace"
!   case "${enableval}" in
!   yes)	sim_trace="-DWITH_TRACE=1";;
!   no)	sim_trace="-DWITH_TRACE=0";;
!   *)	{ { echo "$as_me:$LINENO: error: \"--enable-sim-trace does not take a value\"" >&5
! echo "$as_me: error: \"--enable-sim-trace does not take a value\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_trace="";;
! esac
! if test x"$silent" != x"yes" && test x"$sim_trace" != x""; then
!   echo "Setting trace flags = $sim_trace" 6>&1
  fi
! else
!   sim_trace=""
! fi;
  
- # Check whether --enable-sim-warnings or --disable-sim-warnings was given.
- if test "${enable_sim_warnings+set}" = set; then
-   enableval="$enable_sim_warnings"
-   case "${enableval}" in
-   yes)	sim_warnings="-Werror -Wall -Wpointer-arith -Wmissing-prototypes -Wmissing-declarations ";;
-   no)	sim_warnings="-w";;
-   *)	sim_warnings=`echo "${enableval}" | sed -e "s/,/ /g"`;;
- esac
- if test x"$silent" != x"yes" && test x"$sim_warnings" != x""; then
-   echo "Setting warning flags = $sim_warnings" 6>&1
  fi
- else
-   sim_warnings=""
- fi;
  
! # Check whether --enable-sim-xor-endian or --disable-sim-xor-endian was given.
! if test "${enable_sim_xor_endian+set}" = set; then
!   enableval="$enable_sim_xor_endian"
!   case "${enableval}" in
!   yes)	sim_xor_endian="-DWITH_XOR_ENDIAN=8";;
!   no)	sim_xor_endian="-DWITH_XOR_ENDIAN=0";;
!   *)	sim_xor_endian="-DWITH_XOR_ENDIAN=$enableval";;
  esac
! if test x"$silent" != x"yes" && test x"$sim_xor_endian" != x""; then
!   echo "Setting xor-endian flag = $sim_xor_endian" 6>&1
  fi
  else
-   sim_xor_endian=""
- fi;
  
! # Make sure we can run config.sub.
! $ac_config_sub sun4 >/dev/null 2>&1 ||
!   { { echo "$as_me:$LINENO: error: cannot run $ac_config_sub" >&5
! echo "$as_me: error: cannot run $ac_config_sub" >&2;}
!    { (exit 1); exit 1; }; }
  
! echo "$as_me:$LINENO: checking build system type" >&5
! echo $ECHO_N "checking build system type... $ECHO_C" >&6
! if test "${ac_cv_build+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
!   ac_cv_build_alias=$build_alias
! test -z "$ac_cv_build_alias" &&
!   ac_cv_build_alias=`$ac_config_guess`
! test -z "$ac_cv_build_alias" &&
!   { { echo "$as_me:$LINENO: error: cannot guess build type; you must specify one" >&5
! echo "$as_me: error: cannot guess build type; you must specify one" >&2;}
!    { (exit 1); exit 1; }; }
! ac_cv_build=`$ac_config_sub $ac_cv_build_alias` ||
!   { { echo "$as_me:$LINENO: error: $ac_config_sub $ac_cv_build_alias failed" >&5
! echo "$as_me: error: $ac_config_sub $ac_cv_build_alias failed" >&2;}
!    { (exit 1); exit 1; }; }
  
! fi
! echo "$as_me:$LINENO: result: $ac_cv_build" >&5
! echo "${ECHO_T}$ac_cv_build" >&6
! build=$ac_cv_build
! build_cpu=`echo $ac_cv_build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
! build_vendor=`echo $ac_cv_build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
! build_os=`echo $ac_cv_build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
  
  
! echo "$as_me:$LINENO: checking host system type" >&5
! echo $ECHO_N "checking host system type... $ECHO_C" >&6
! if test "${ac_cv_host+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
!   ac_cv_host_alias=$host_alias
! test -z "$ac_cv_host_alias" &&
!   ac_cv_host_alias=$ac_cv_build_alias
! ac_cv_host=`$ac_config_sub $ac_cv_host_alias` ||
!   { { echo "$as_me:$LINENO: error: $ac_config_sub $ac_cv_host_alias failed" >&5
! echo "$as_me: error: $ac_config_sub $ac_cv_host_alias failed" >&2;}
!    { (exit 1); exit 1; }; }
  
  fi
- echo "$as_me:$LINENO: result: $ac_cv_host" >&5
- echo "${ECHO_T}$ac_cv_host" >&6
- host=$ac_cv_host
- host_cpu=`echo $ac_cv_host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
- host_vendor=`echo $ac_cv_host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
- host_os=`echo $ac_cv_host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
  
! 
! echo "$as_me:$LINENO: checking target system type" >&5
! echo $ECHO_N "checking target system type... $ECHO_C" >&6
! if test "${ac_cv_target+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
!   ac_cv_target_alias=$target_alias
! test "x$ac_cv_target_alias" = "x" &&
!   ac_cv_target_alias=$ac_cv_host_alias
! ac_cv_target=`$ac_config_sub $ac_cv_target_alias` ||
!   { { echo "$as_me:$LINENO: error: $ac_config_sub $ac_cv_target_alias failed" >&5
! echo "$as_me: error: $ac_config_sub $ac_cv_target_alias failed" >&2;}
!    { (exit 1); exit 1; }; }
  
  fi
- echo "$as_me:$LINENO: result: $ac_cv_target" >&5
- echo "${ECHO_T}$ac_cv_target" >&6
- target=$ac_cv_target
- target_cpu=`echo $ac_cv_target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
- target_vendor=`echo $ac_cv_target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
- target_os=`echo $ac_cv_target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
  
  
! # The aliases save the names the user supplied, while $host etc.
! # will get canonicalized.
! test -n "$target_alias" &&
!   test "$program_prefix$program_suffix$program_transform_name" = \
!     NONENONEs,x,x, &&
!   program_prefix=${target_alias}-
! test "$program_prefix" != NONE &&
!   program_transform_name="s,^,$program_prefix,;$program_transform_name"
! # Use a double $ so make ignores it.
! test "$program_suffix" != NONE &&
!   program_transform_name="s,\$,$program_suffix,;$program_transform_name"
! # Double any \ or $.  echo might interpret backslashes.
! # By default was `s,x,x', remove it if useless.
! cat <<\_ACEOF >conftest.sed
! s/[\\$]/&&/g;s/;s,x,x,$//
  _ACEOF
! program_transform_name=`echo $program_transform_name | sed -f conftest.sed`
! rm conftest.sed
! 
! 
! . ${srcdir}/../../bfd/configure.host
  
! case ${host} in
!   *mingw32*)
  
! cat >>confdefs.h <<\_ACEOF
! #define USE_WIN32API 1
  _ACEOF
! 
!     ;;
  esac
  
!           ac_config_headers="$ac_config_headers config.h:config.in"
  
  
- ac_ext=c
- ac_cpp='$CPP $CPPFLAGS'
- ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
- ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
- ac_compiler_gnu=$ac_cv_c_compiler_gnu
- echo "$as_me:$LINENO: checking how to run the C preprocessor" >&5
- echo $ECHO_N "checking how to run the C preprocessor... $ECHO_C" >&6
- # On Suns, sometimes $CPP names a directory.
- if test -n "$CPP" && test -d "$CPP"; then
-   CPP=
  fi
! if test -z "$CPP"; then
!   if test "${ac_cv_prog_CPP+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
! else
!       # Double quotes because CPP needs to be expanded
!     for CPP in "$CC -E" "$CC -E -traditional-cpp" "/lib/cpp"
!     do
!       ac_preproc_ok=false
! for ac_c_preproc_warn_flag in '' yes
! do
!   # Use a header file that comes with gcc, so configuring glibc
!   # with a fresh cross-compiler works.
!   # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
!   # <limits.h> exists even on freestanding compilers.
!   # On the NeXT, cc -E runs the code through the compiler's parser,
!   # not just through cpp. "Syntax error" is here to catch this case.
!   cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
! #ifdef __STDC__
! # include <limits.h>
! #else
! # include <assert.h>
! #endif
! 		     Syntax error
  _ACEOF
! if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
!   (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } >/dev/null; then
!   if test -s conftest.err; then
!     ac_cpp_err=$ac_c_preproc_warn_flag
!     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
!   else
!     ac_cpp_err=
!   fi
! else
!   ac_cpp_err=yes
! fi
! if test -z "$ac_cpp_err"; then
!   :
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
!   # Broken: fails on valid input.
! continue
  fi
- rm -f conftest.err conftest.$ac_ext
  
!   # OK, works on sane cases.  Now check whether non-existent headers
!   # can be detected and how.
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
! #include <ac_nonexistent.h>
  _ACEOF
! if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
!   (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
    ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } >/dev/null; then
!   if test -s conftest.err; then
!     ac_cpp_err=$ac_c_preproc_warn_flag
!     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
    else
!     ac_cpp_err=
    fi
  else
!   ac_cpp_err=yes
  fi
- if test -z "$ac_cpp_err"; then
-   # Broken: success on invalid input.
- continue
  else
!   echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
! 
!   # Passes both tests.
! ac_preproc_ok=:
! break
  fi
- rm -f conftest.err conftest.$ac_ext
  
! done
! # Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
! rm -f conftest.err conftest.$ac_ext
! if $ac_preproc_ok; then
!   break
  fi
  
-     done
-     ac_cv_prog_CPP=$CPP
  
  fi
-   CPP=$ac_cv_prog_CPP
  else
!   ac_cv_prog_CPP=$CPP
  fi
- echo "$as_me:$LINENO: result: $CPP" >&5
- echo "${ECHO_T}$CPP" >&6
- ac_preproc_ok=false
- for ac_c_preproc_warn_flag in '' yes
- do
-   # Use a header file that comes with gcc, so configuring glibc
-   # with a fresh cross-compiler works.
-   # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
-   # <limits.h> exists even on freestanding compilers.
-   # On the NeXT, cc -E runs the code through the compiler's parser,
-   # not just through cpp. "Syntax error" is here to catch this case.
-   cat >conftest.$ac_ext <<_ACEOF
- /* confdefs.h.  */
- _ACEOF
- cat confdefs.h >>conftest.$ac_ext
- cat >>conftest.$ac_ext <<_ACEOF
- /* end confdefs.h.  */
- #ifdef __STDC__
- # include <limits.h>
- #else
- # include <assert.h>
- #endif
- 		     Syntax error
- _ACEOF
- if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-   (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
-   ac_status=$?
-   grep -v '^ *+' conftest.er1 >conftest.err
-   rm -f conftest.er1
-   cat conftest.err >&5
-   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-   (exit $ac_status); } >/dev/null; then
-   if test -s conftest.err; then
-     ac_cpp_err=$ac_c_preproc_warn_flag
-     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
-   else
-     ac_cpp_err=
-   fi
- else
-   ac_cpp_err=yes
  fi
- if test -z "$ac_cpp_err"; then
-   :
- else
-   echo "$as_me: failed program was:" >&5
- sed 's/^/| /' conftest.$ac_ext >&5
  
-   # Broken: fails on valid input.
- continue
- fi
- rm -f conftest.err conftest.$ac_ext
  
!   # OK, works on sane cases.  Now check whether non-existent headers
!   # can be detected and how.
!   cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! #include <ac_nonexistent.h>
! _ACEOF
! if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
!   (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
!   ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } >/dev/null; then
!   if test -s conftest.err; then
!     ac_cpp_err=$ac_c_preproc_warn_flag
!     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
!   else
!     ac_cpp_err=
!   fi
! else
!   ac_cpp_err=yes
  fi
- if test -z "$ac_cpp_err"; then
-   # Broken: success on invalid input.
- continue
  else
!   echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
! 
!   # Passes both tests.
! ac_preproc_ok=:
! break
  fi
- rm -f conftest.err conftest.$ac_ext
  
! done
! # Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
! rm -f conftest.err conftest.$ac_ext
! if $ac_preproc_ok; then
!   :
  else
!   { { echo "$as_me:$LINENO: error: C preprocessor \"$CPP\" fails sanity check
! See \`config.log' for more details." >&5
! echo "$as_me: error: C preprocessor \"$CPP\" fails sanity check
! See \`config.log' for more details." >&2;}
!    { (exit 1); exit 1; }; }
  fi
  
- ac_ext=c
- ac_cpp='$CPP $CPPFLAGS'
- ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
- ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
- ac_compiler_gnu=$ac_cv_c_compiler_gnu
- 
  
! echo "$as_me:$LINENO: checking for egrep" >&5
! echo $ECHO_N "checking for egrep... $ECHO_C" >&6
! if test "${ac_cv_prog_egrep+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
! else
!   if echo a | (grep -E '(a|b)') >/dev/null 2>&1
!     then ac_cv_prog_egrep='grep -E'
!     else ac_cv_prog_egrep='egrep'
!     fi
  fi
- echo "$as_me:$LINENO: result: $ac_cv_prog_egrep" >&5
- echo "${ECHO_T}$ac_cv_prog_egrep" >&6
-  EGREP=$ac_cv_prog_egrep
  
  
! echo "$as_me:$LINENO: checking for ANSI C header files" >&5
! echo $ECHO_N "checking for ANSI C header files... $ECHO_C" >&6
! if test "${ac_cv_header_stdc+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
!   cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! #include <stdlib.h>
! #include <stdarg.h>
! #include <string.h>
! #include <float.h>
  
- int
- main ()
- {
  
!   ;
!   return 0;
! }
! _ACEOF
! rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
!   ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   ac_cv_header_stdc=yes
  else
!   echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
! 
! ac_cv_header_stdc=no
  fi
- rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  
- if test $ac_cv_header_stdc = yes; then
-   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
-   cat >conftest.$ac_ext <<_ACEOF
- /* confdefs.h.  */
- _ACEOF
- cat confdefs.h >>conftest.$ac_ext
- cat >>conftest.$ac_ext <<_ACEOF
- /* end confdefs.h.  */
- #include <string.h>
  
! _ACEOF
! if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
!   $EGREP "memchr" >/dev/null 2>&1; then
!   :
  else
!   ac_cv_header_stdc=no
  fi
- rm -f conftest*
- 
  fi
  
- if test $ac_cv_header_stdc = yes; then
-   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
-   cat >conftest.$ac_ext <<_ACEOF
- /* confdefs.h.  */
- _ACEOF
- cat confdefs.h >>conftest.$ac_ext
- cat >>conftest.$ac_ext <<_ACEOF
- /* end confdefs.h.  */
- #include <stdlib.h>
  
! _ACEOF
! if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
!   $EGREP "free" >/dev/null 2>&1; then
!   :
  else
!   ac_cv_header_stdc=no
  fi
- rm -f conftest*
  
- fi
  
! if test $ac_cv_header_stdc = yes; then
!   # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
!   if test "$cross_compiling" = yes; then
!   :
  else
!   cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! #include <ctype.h>
! #if ((' ' & 0x0FF) == 0x020)
! # define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
! # define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
! #else
! # define ISLOWER(c) \
! 		   (('a' <= (c) && (c) <= 'i') \
! 		     || ('j' <= (c) && (c) <= 'r') \
! 		     || ('s' <= (c) && (c) <= 'z'))
! # define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))
! #endif
  
- #define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
- int
- main ()
- {
-   int i;
-   for (i = 0; i < 256; i++)
-     if (XOR (islower (i), ISLOWER (i))
- 	|| toupper (i) != TOUPPER (i))
-       exit(2);
-   exit (0);
- }
- _ACEOF
- rm -f conftest$ac_exeext
- if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
-   (eval $ac_link) 2>&5
-   ac_status=$?
-   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
-   (eval $ac_try) 2>&5
-   ac_status=$?
-   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-   (exit $ac_status); }; }; then
-   :
- else
-   echo "$as_me: program exited with status $ac_status" >&5
- echo "$as_me: failed program was:" >&5
- sed 's/^/| /' conftest.$ac_ext >&5
  
! ( exit $ac_status )
! ac_cv_header_stdc=no
  fi
! rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
  fi
  fi
  fi
- echo "$as_me:$LINENO: result: $ac_cv_header_stdc" >&5
- echo "${ECHO_T}$ac_cv_header_stdc" >&6
- if test $ac_cv_header_stdc = yes; then
  
! cat >>confdefs.h <<\_ACEOF
! #define STDC_HEADERS 1
! _ACEOF
  
  fi
  
- # On IRIX 5.3, sys/types and inttypes.h are conflicting.
  
  
  
  
  
  
  
  
  
! for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \
! 		  inttypes.h stdint.h unistd.h
! do
! as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
! echo "$as_me:$LINENO: checking for $ac_header" >&5
! echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
! if eval "test \"\${$as_ac_Header+set}\" = set"; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
! else
!   cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! $ac_includes_default
  
! #include <$ac_header>
! _ACEOF
! rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
!   ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   eval "$as_ac_Header=yes"
! else
!   echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
  
! eval "$as_ac_Header=no"
! fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
! fi
! echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
! echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
! if test `eval echo '${'$as_ac_Header'}'` = yes; then
!   cat >>confdefs.h <<_ACEOF
! #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
  _ACEOF
  
! fi
! 
! done
  
  
  
! echo "$as_me:$LINENO: checking for struct stat.st_blksize" >&5
! echo $ECHO_N "checking for struct stat.st_blksize... $ECHO_C" >&6
  if test "${ac_cv_member_struct_stat_st_blksize+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
--- 3368,4921 ----
  fi
  else
    sim_hostbitsize=""
! fi
  
  
  
! ac_ext=c
! ac_cpp='$CPP $CPPFLAGS'
! ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
! ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
! ac_compiler_gnu=$ac_cv_c_compiler_gnu
! { $as_echo "$as_me:$LINENO: checking how to run the C preprocessor" >&5
! $as_echo_n "checking how to run the C preprocessor... " >&6; }
! # On Suns, sometimes $CPP names a directory.
! if test -n "$CPP" && test -d "$CPP"; then
!   CPP=
! fi
! if test -z "$CPP"; then
!   if test "${ac_cv_prog_CPP+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
!       # Double quotes because CPP needs to be expanded
!     for CPP in "$CC -E" "$CC -E -traditional-cpp" "/lib/cpp"
!     do
!       ac_preproc_ok=false
! for ac_c_preproc_warn_flag in '' yes
! do
!   # Use a header file that comes with gcc, so configuring glibc
!   # with a fresh cross-compiler works.
!   # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
!   # <limits.h> exists even on freestanding compilers.
!   # On the NeXT, cc -E runs the code through the compiler's parser,
!   # not just through cpp. "Syntax error" is here to catch this case.
!   cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
! #ifdef __STDC__
! # include <limits.h>
! #else
! # include <assert.h>
  #endif
! 		     Syntax error
  _ACEOF
! if { (ac_try="$ac_cpp conftest.$ac_ext"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } >/dev/null && {
! 	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        }; then
!   :
! else
!   $as_echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
! 
!   # Broken: fails on valid input.
! continue
! fi
! 
! rm -f conftest.err conftest.$ac_ext
! 
!   # OK, works on sane cases.  Now check whether nonexistent headers
!   # can be detected and how.
!   cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
! #include <ac_nonexistent.h>
  _ACEOF
! if { (ac_try="$ac_cpp conftest.$ac_ext"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } >/dev/null && {
! 	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        }; then
!   # Broken: success on invalid input.
! continue
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
!   # Passes both tests.
! ac_preproc_ok=:
! break
  fi
  
! rm -f conftest.err conftest.$ac_ext
! 
! done
! # Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
! rm -f conftest.err conftest.$ac_ext
! if $ac_preproc_ok; then
!   break
! fi
! 
!     done
!     ac_cv_prog_CPP=$CPP
! 
! fi
!   CPP=$ac_cv_prog_CPP
! else
!   ac_cv_prog_CPP=$CPP
! fi
! { $as_echo "$as_me:$LINENO: result: $CPP" >&5
! $as_echo "$CPP" >&6; }
! ac_preproc_ok=false
! for ac_c_preproc_warn_flag in '' yes
! do
!   # Use a header file that comes with gcc, so configuring glibc
!   # with a fresh cross-compiler works.
!   # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
!   # <limits.h> exists even on freestanding compilers.
!   # On the NeXT, cc -E runs the code through the compiler's parser,
!   # not just through cpp. "Syntax error" is here to catch this case.
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
! #ifdef __STDC__
! # include <limits.h>
! #else
! # include <assert.h>
! #endif
! 		     Syntax error
  _ACEOF
! if { (ac_try="$ac_cpp conftest.$ac_ext"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } >/dev/null && {
! 	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        }; then
!   :
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
+   # Broken: fails on valid input.
+ continue
  fi
! 
! rm -f conftest.err conftest.$ac_ext
! 
!   # OK, works on sane cases.  Now check whether nonexistent headers
!   # can be detected and how.
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
! #include <ac_nonexistent.h>
  _ACEOF
! if { (ac_try="$ac_cpp conftest.$ac_ext"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
    ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } >/dev/null && {
! 	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        }; then
!   # Broken: success on invalid input.
! continue
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
!   # Passes both tests.
! ac_preproc_ok=:
! break
  fi
  
! rm -f conftest.err conftest.$ac_ext
  
! done
! # Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
! rm -f conftest.err conftest.$ac_ext
! if $ac_preproc_ok; then
!   :
  else
!   { { $as_echo "$as_me:$LINENO: error: C preprocessor \"$CPP\" fails sanity check
! See \`config.log' for more details." >&5
! $as_echo "$as_me: error: C preprocessor \"$CPP\" fails sanity check
! See \`config.log' for more details." >&2;}
!    { (exit 1); exit 1; }; }
  fi
  
! ac_ext=c
! ac_cpp='$CPP $CPPFLAGS'
! ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
! ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
! ac_compiler_gnu=$ac_cv_c_compiler_gnu
! 
! 
! { $as_echo "$as_me:$LINENO: checking for grep that handles long lines and -e" >&5
! $as_echo_n "checking for grep that handles long lines and -e... " >&6; }
! if test "${ac_cv_path_GREP+set}" = set; then
!   $as_echo_n "(cached) " >&6
! else
!   if test -z "$GREP"; then
!   ac_path_GREP_found=false
!   # Loop through the user's path and test for each of PROGNAME-LIST
!   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
! for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
! do
!   IFS=$as_save_IFS
!   test -z "$as_dir" && as_dir=.
!   for ac_prog in grep ggrep; do
!     for ac_exec_ext in '' $ac_executable_extensions; do
!       ac_path_GREP="$as_dir/$ac_prog$ac_exec_ext"
!       { test -f "$ac_path_GREP" && $as_test_x "$ac_path_GREP"; } || continue
! # Check for GNU ac_path_GREP and select it if it is found.
!   # Check for GNU $ac_path_GREP
! case `"$ac_path_GREP" --version 2>&1` in
! *GNU*)
!   ac_cv_path_GREP="$ac_path_GREP" ac_path_GREP_found=:;;
! *)
!   ac_count=0
!   $as_echo_n 0123456789 >"conftest.in"
!   while :
!   do
!     cat "conftest.in" "conftest.in" >"conftest.tmp"
!     mv "conftest.tmp" "conftest.in"
!     cp "conftest.in" "conftest.nl"
!     $as_echo 'GREP' >> "conftest.nl"
!     "$ac_path_GREP" -e 'GREP$' -e '-(cannot match)-' < "conftest.nl" >"conftest.out" 2>/dev/null || break
!     diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
!     ac_count=`expr $ac_count + 1`
!     if test $ac_count -gt ${ac_path_GREP_max-0}; then
!       # Best one so far, save it but keep looking for a better one
!       ac_cv_path_GREP="$ac_path_GREP"
!       ac_path_GREP_max=$ac_count
!     fi
!     # 10*(2^10) chars as input seems more than enough
!     test $ac_count -gt 10 && break
!   done
!   rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
  esac
! 
!       $ac_path_GREP_found && break 3
!     done
!   done
! done
! IFS=$as_save_IFS
!   if test -z "$ac_cv_path_GREP"; then
!     { { $as_echo "$as_me:$LINENO: error: no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" >&5
! $as_echo "$as_me: error: no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" >&2;}
!    { (exit 1); exit 1; }; }
!   fi
  else
!   ac_cv_path_GREP=$GREP
  fi
  
  fi
+ { $as_echo "$as_me:$LINENO: result: $ac_cv_path_GREP" >&5
+ $as_echo "$ac_cv_path_GREP" >&6; }
+  GREP="$ac_cv_path_GREP"
+ 
+ 
+ { $as_echo "$as_me:$LINENO: checking for egrep" >&5
+ $as_echo_n "checking for egrep... " >&6; }
+ if test "${ac_cv_path_EGREP+set}" = set; then
+   $as_echo_n "(cached) " >&6
  else
!   if echo a | $GREP -E '(a|b)' >/dev/null 2>&1
!    then ac_cv_path_EGREP="$GREP -E"
!    else
!      if test -z "$EGREP"; then
!   ac_path_EGREP_found=false
!   # Loop through the user's path and test for each of PROGNAME-LIST
!   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
! for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
! do
!   IFS=$as_save_IFS
!   test -z "$as_dir" && as_dir=.
!   for ac_prog in egrep; do
!     for ac_exec_ext in '' $ac_executable_extensions; do
!       ac_path_EGREP="$as_dir/$ac_prog$ac_exec_ext"
!       { test -f "$ac_path_EGREP" && $as_test_x "$ac_path_EGREP"; } || continue
! # Check for GNU ac_path_EGREP and select it if it is found.
!   # Check for GNU $ac_path_EGREP
! case `"$ac_path_EGREP" --version 2>&1` in
! *GNU*)
!   ac_cv_path_EGREP="$ac_path_EGREP" ac_path_EGREP_found=:;;
! *)
!   ac_count=0
!   $as_echo_n 0123456789 >"conftest.in"
!   while :
!   do
!     cat "conftest.in" "conftest.in" >"conftest.tmp"
!     mv "conftest.tmp" "conftest.in"
!     cp "conftest.in" "conftest.nl"
!     $as_echo 'EGREP' >> "conftest.nl"
!     "$ac_path_EGREP" 'EGREP$' < "conftest.nl" >"conftest.out" 2>/dev/null || break
!     diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
!     ac_count=`expr $ac_count + 1`
!     if test $ac_count -gt ${ac_path_EGREP_max-0}; then
!       # Best one so far, save it but keep looking for a better one
!       ac_cv_path_EGREP="$ac_path_EGREP"
!       ac_path_EGREP_max=$ac_count
!     fi
!     # 10*(2^10) chars as input seems more than enough
!     test $ac_count -gt 10 && break
!   done
!   rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
! esac
! 
!       $ac_path_EGREP_found && break 3
!     done
!   done
! done
! IFS=$as_save_IFS
!   if test -z "$ac_cv_path_EGREP"; then
!     { { $as_echo "$as_me:$LINENO: error: no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" >&5
! $as_echo "$as_me: error: no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" >&2;}
!    { (exit 1); exit 1; }; }
    fi
  else
!   ac_cv_path_EGREP=$EGREP
  fi
  
!    fi
  fi
+ { $as_echo "$as_me:$LINENO: result: $ac_cv_path_EGREP" >&5
+ $as_echo "$ac_cv_path_EGREP" >&6; }
+  EGREP="$ac_cv_path_EGREP"
+ 
+ 
+ { $as_echo "$as_me:$LINENO: checking for ANSI C header files" >&5
+ $as_echo_n "checking for ANSI C header files... " >&6; }
+ if test "${ac_cv_header_stdc+set}" = set; then
+   $as_echo_n "(cached) " >&6
  else
!   cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! #include <stdlib.h>
! #include <stdarg.h>
! #include <string.h>
! #include <float.h>
  
! int
! main ()
! {
! 
!   ;
!   return 0;
! }
! _ACEOF
! rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
  esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
!   ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   ac_cv_header_stdc=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
  
! 	ac_cv_header_stdc=no
  fi
+ 
+ rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+ 
+ if test $ac_cv_header_stdc = yes; then
+   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
+   cat >conftest.$ac_ext <<_ACEOF
+ /* confdefs.h.  */
+ _ACEOF
+ cat confdefs.h >>conftest.$ac_ext
+ cat >>conftest.$ac_ext <<_ACEOF
+ /* end confdefs.h.  */
+ #include <string.h>
+ 
+ _ACEOF
+ if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
+   $EGREP "memchr" >/dev/null 2>&1; then
+   :
  else
!   ac_cv_header_stdc=no
! fi
! rm -f conftest*
  
  fi
+ 
+ if test $ac_cv_header_stdc = yes; then
+   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
+   cat >conftest.$ac_ext <<_ACEOF
+ /* confdefs.h.  */
+ _ACEOF
+ cat confdefs.h >>conftest.$ac_ext
+ cat >>conftest.$ac_ext <<_ACEOF
+ /* end confdefs.h.  */
+ #include <stdlib.h>
+ 
+ _ACEOF
+ if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
+   $EGREP "free" >/dev/null 2>&1; then
+   :
  else
!   ac_cv_header_stdc=no
! fi
! rm -f conftest*
  
  fi
+ 
+ if test $ac_cv_header_stdc = yes; then
+   # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
+   if test "$cross_compiling" = yes; then
+   :
  else
!   cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! #include <ctype.h>
! #include <stdlib.h>
! #if ((' ' & 0x0FF) == 0x020)
! # define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
! # define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
! #else
! # define ISLOWER(c) \
! 		   (('a' <= (c) && (c) <= 'i') \
! 		     || ('j' <= (c) && (c) <= 'r') \
! 		     || ('s' <= (c) && (c) <= 'z'))
! # define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))
! #endif
  
! #define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
! int
! main ()
! {
!   int i;
!   for (i = 0; i < 256; i++)
!     if (XOR (islower (i), ISLOWER (i))
! 	|| toupper (i) != TOUPPER (i))
!       return 2;
!   return 0;
! }
! _ACEOF
! rm -f conftest$ac_exeext
! if { (ac_try="$ac_link"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_link") 2>&5
!   ac_status=$?
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
!   { (case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_try") 2>&5
!   ac_status=$?
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   :
! else
!   $as_echo "$as_me: program exited with status $ac_status" >&5
! $as_echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
! 
! ( exit $ac_status )
! ac_cv_header_stdc=no
  fi
! rm -rf conftest.dSYM
! rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
  fi
  
! 
  fi
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_header_stdc" >&5
! $as_echo "$ac_cv_header_stdc" >&6; }
! if test $ac_cv_header_stdc = yes; then
  
! cat >>confdefs.h <<\_ACEOF
! #define STDC_HEADERS 1
! _ACEOF
  
  fi
  
! # On IRIX 5.3, sys/types and inttypes.h are conflicting.
  
  
! 
! 
! 
! 
! 
! 
! 
! for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \
! 		  inttypes.h stdint.h unistd.h
! do
! as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
! { $as_echo "$as_me:$LINENO: checking for $ac_header" >&5
! $as_echo_n "checking for $ac_header... " >&6; }
! if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
!   $as_echo_n "(cached) " >&6
  else
!   cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! $ac_includes_default
  
! #include <$ac_header>
! _ACEOF
! rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
  esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
!   ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   eval "$as_ac_Header=yes"
  else
!   $as_echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
  
! 	eval "$as_ac_Header=no"
  fi
  
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! ac_res=`eval 'as_val=${'$as_ac_Header'}
! 		 $as_echo "$as_val"'`
! 	       { $as_echo "$as_me:$LINENO: result: $ac_res" >&5
! $as_echo "$ac_res" >&6; }
! if test `eval 'as_val=${'$as_ac_Header'}
! 		 $as_echo "$as_val"'` = yes; then
!   cat >>confdefs.h <<_ACEOF
! #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
! _ACEOF
  
  fi
  
! done
! 
! 
! # Check whether --enable-sim-hostendian was given.
! if test "${enable_sim_hostendian+set}" = set; then
!   enableval=$enable_sim_hostendian; case "${enableval}" in
!   no)	 sim_hostendian="-DWITH_HOST_BYTE_ORDER=0";;
!   b*|B*) sim_hostendian="-DWITH_HOST_BYTE_ORDER=BIG_ENDIAN";;
!   l*|L*) sim_hostendian="-DWITH_HOST_BYTE_ORDER=LITTLE_ENDIAN";;
!   *)	 { { $as_echo "$as_me:$LINENO: error: \"Unknown value $enableval for --enable-sim-hostendian\"" >&5
! $as_echo "$as_me: error: \"Unknown value $enableval for --enable-sim-hostendian\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_hostendian="";;
  esac
! if test x"$silent" != x"yes" && test x"$sim_hostendian" != x""; then
!   echo "Setting hostendian flags = $sim_hostendian" 6>&1
  fi
  else
  
! if test "x$cross_compiling" = "xno"; then
  
!  { $as_echo "$as_me:$LINENO: checking whether byte ordering is bigendian" >&5
! $as_echo_n "checking whether byte ordering is bigendian... " >&6; }
! if test "${ac_cv_c_bigendian+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
!   ac_cv_c_bigendian=unknown
  
!     if test $ac_cv_c_bigendian = unknown; then
!       # See if sys/param.h defines the BYTE_ORDER macro.
!       cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! #include <sys/types.h>
! 	     #include <sys/param.h>
  
+ int
+ main ()
+ {
+ #if ! (defined BYTE_ORDER && defined BIG_ENDIAN \
+ 		     && defined LITTLE_ENDIAN && BYTE_ORDER && BIG_ENDIAN \
+ 		     && LITTLE_ENDIAN)
+ 	      bogus endian macros
+ 	     #endif
  
!   ;
!   return 0;
! }
! _ACEOF
! rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
!   ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   # It does; now see whether it defined to BIG_ENDIAN or not.
! 	 cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! #include <sys/types.h>
! 		#include <sys/param.h>
! 
! int
! main ()
! {
! #if BYTE_ORDER != BIG_ENDIAN
! 		 not big endian
! 		#endif
! 
!   ;
!   return 0;
! }
! _ACEOF
! rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
!   ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   ac_cv_c_bigendian=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
  
+ 	ac_cv_c_bigendian=no
  fi
  
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  else
!   $as_echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
! 
  
  fi
  
+ rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+     fi
+     if test $ac_cv_c_bigendian = unknown; then
+       # See if <limits.h> defines _LITTLE_ENDIAN or _BIG_ENDIAN (e.g., Solaris).
+       cat >conftest.$ac_ext <<_ACEOF
+ /* confdefs.h.  */
+ _ACEOF
+ cat confdefs.h >>conftest.$ac_ext
+ cat >>conftest.$ac_ext <<_ACEOF
+ /* end confdefs.h.  */
+ #include <limits.h>
  
! int
! main ()
! {
! #if ! (defined _LITTLE_ENDIAN || defined _BIG_ENDIAN)
! 	      bogus endian macros
! 	     #endif
! 
!   ;
!   return 0;
! }
! _ACEOF
! rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
!   ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   # It does; now see whether it defined to _BIG_ENDIAN or not.
! 	 cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
  _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! #include <limits.h>
  
! int
! main ()
! {
! #ifndef _BIG_ENDIAN
! 		 not big endian
! 		#endif
  
!   ;
!   return 0;
! }
  _ACEOF
! rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
  esac
+ eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
+ $as_echo "$ac_try_echo") >&5
+   (eval "$ac_compile") 2>conftest.er1
+   ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
+   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
+   (exit $ac_status); } && {
+ 	 test -z "$ac_c_werror_flag" ||
+ 	 test ! -s conftest.err
+        } && test -s conftest.$ac_objext; then
+   ac_cv_c_bigendian=yes
+ else
+   $as_echo "$as_me: failed program was:" >&5
+ sed 's/^/| /' conftest.$ac_ext >&5
+ 
+ 	ac_cv_c_bigendian=no
+ fi
  
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
! else
!   $as_echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
  
  
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
!     fi
!     if test $ac_cv_c_bigendian = unknown; then
!       # Compile a test program.
!       if test "$cross_compiling" = yes; then
!   # Try to guess by grepping values from an object file.
! 	 cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
! short int ascii_mm[] =
! 		  { 0x4249, 0x4765, 0x6E44, 0x6961, 0x6E53, 0x7953, 0 };
! 		short int ascii_ii[] =
! 		  { 0x694C, 0x5454, 0x656C, 0x6E45, 0x6944, 0x6E61, 0 };
! 		int use_ascii (int i) {
! 		  return ascii_mm[i] + ascii_ii[i];
! 		}
! 		short int ebcdic_ii[] =
! 		  { 0x89D3, 0xE3E3, 0x8593, 0x95C5, 0x89C4, 0x9581, 0 };
! 		short int ebcdic_mm[] =
! 		  { 0xC2C9, 0xC785, 0x95C4, 0x8981, 0x95E2, 0xA8E2, 0 };
! 		int use_ebcdic (int i) {
! 		  return ebcdic_mm[i] + ebcdic_ii[i];
! 		}
! 		extern int foo;
! 
! int
! main ()
! {
! return use_ascii (foo) == use_ebcdic (foo);
!   ;
!   return 0;
! }
  _ACEOF
! rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   if grep BIGenDianSyS conftest.$ac_objext >/dev/null; then
! 	      ac_cv_c_bigendian=yes
! 	    fi
! 	    if grep LiTTleEnDian conftest.$ac_objext >/dev/null ; then
! 	      if test "$ac_cv_c_bigendian" = unknown; then
! 		ac_cv_c_bigendian=no
! 	      else
! 		# finding both strings is unlikely to happen, but who knows?
! 		ac_cv_c_bigendian=unknown
! 	      fi
! 	    fi
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 
  fi
  
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
! else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
! $ac_includes_default
! int
! main ()
! {
! 
! 	     /* Are we little or big endian?  From Harbison&Steele.  */
! 	     union
! 	     {
! 	       long int l;
! 	       char c[sizeof (long int)];
! 	     } u;
! 	     u.l = 1;
! 	     return u.c[sizeof (long int) - 1] == 1;
! 
!   ;
!   return 0;
! }
  _ACEOF
! rm -f conftest$ac_exeext
! if { (ac_try="$ac_link"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_link") 2>&5
    ac_status=$?
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
!   { (case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_try") 2>&5
!   ac_status=$?
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   ac_cv_c_bigendian=no
! else
!   $as_echo "$as_me: program exited with status $ac_status" >&5
! $as_echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
! 
! ( exit $ac_status )
! ac_cv_c_bigendian=yes
! fi
! rm -rf conftest.dSYM
! rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
! fi
! 
! 
!     fi
! fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_c_bigendian" >&5
! $as_echo "$ac_cv_c_bigendian" >&6; }
!  case $ac_cv_c_bigendian in #(
!    yes)
!      cat >>confdefs.h <<\_ACEOF
! #define WORDS_BIGENDIAN 1
! _ACEOF
! ;; #(
!    no)
!       ;; #(
!    universal)
!       ;; #(
!    *)
!      { { $as_echo "$as_me:$LINENO: error: unknown endianness
!  presetting ac_cv_c_bigendian=no (or yes) will help" >&5
! $as_echo "$as_me: error: unknown endianness
!  presetting ac_cv_c_bigendian=no (or yes) will help" >&2;}
!    { (exit 1); exit 1; }; } ;;
!  esac
! 
!   if test $ac_cv_c_bigendian = yes; then
!     sim_hostendian="-DWITH_HOST_BYTE_ORDER=BIG_ENDIAN"
    else
!     sim_hostendian="-DWITH_HOST_BYTE_ORDER=LITTLE_ENDIAN"
    fi
  else
!   sim_hostendian="-DWITH_HOST_BYTE_ORDER=0"
! fi
! fi
! 
! 
! # Check whether --enable-sim-icache was given.
! if test "${enable_sim_icache+set}" = set; then
!   enableval=$enable_sim_icache; icache="-R"
!  case "${enableval}" in
!   yes)		icache="1024"; sim_icache="-I $icache";;
!   no)		sim_icache="-R";;
!   *) icache=1024
!      sim_icache="-"
!      for x in `echo "${enableval}" | sed -e "s/,/ /g"`; do
!        case "$x" in
!          define)	sim_icache="${sim_icache}R";;
!          semantic)	sim_icache="${sim_icache}C";;
! 	 insn)		sim_icache="${sim_icache}S";;
! 	 0*|1*|2*|3*|4*|5*|6*|7*|8*|9*)	icache=$x;;
!          *)		{ { $as_echo "$as_me:$LINENO: error: \"Unknown value $x for --enable-sim-icache\"" >&5
! $as_echo "$as_me: error: \"Unknown value $x for --enable-sim-icache\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_icache="";;
!        esac
!      done
!      sim_icache="${sim_icache}I $icache";;
! esac
! if test x"$silent" != x"yes" && test x"$icache" != x""; then
!   echo "Setting instruction cache size to $icache ($sim_icache)"
! fi
! else
!   sim_icache="-CSRI 1024"
! if test x"$silent" != x"yes"; then
!   echo "Setting instruction cache size to 1024 ($sim_icache)"
! fi
! fi
! 
! 
! # Check whether --enable-sim-inline was given.
! if test "${enable_sim_inline+set}" = set; then
!   enableval=$enable_sim_inline; sim_inline=""
! case "$enableval" in
!   no)		sim_inline="-DDEFAULT_INLINE=0";;
!   0)		sim_inline="-DDEFAULT_INLINE=0";;
!   yes | 2)	sim_inline="-DDEFAULT_INLINE=ALL_INLINE";;
!   1)		sim_inline="-DDEFAULT_INLINE=PSIM_INLINE_LOCALS";;
!   *) for x in `echo "$enableval" | sed -e "s/,/ /g"`; do
!        new_flag=""
!        case "$x" in
! 	 *_INLINE=*)	new_flag="-D$x";;
! 	 *=*)		new_flag=`echo "$x" | sed -e "s/=/_INLINE=/" -e "s/^/-D/"`;;
! 	 *_INLINE)	new_flag="-D$x=ALL_INLINE";;
! 	 *)		new_flag="-D$x""_INLINE=ALL_INLINE";;
!        esac
!        if test x"$sim_inline" = x""; then
! 	 sim_inline="$new_flag"
!        else
! 	 sim_inline="$sim_inline $new_flag"
!        fi
!      done;;
! esac
! if test x"$silent" != x"yes" && test x"$sim_inline" != x""; then
!   echo "Setting inline flags = $sim_inline" 6>&1
! fi
! else
!   if test x"$GCC" != ""; then
!   sim_inline="-DDEFAULT_INLINE=PSIM_INLINE_LOCALS"
!   if test x"$silent" != x"yes"; then
!     echo "Setting inline flags = $sim_inline" 6>&1
!   fi
! else
!   sim_inline=""
! fi
! fi
! 
! 
! # Check whether --enable-sim-jump was given.
! if test "${enable_sim_jump+set}" = set; then
!   enableval=$enable_sim_jump; case "${enableval}" in
!   yes)	sim_jump="-J";;
!   no)	sim_jump="";;
!   *)	{ { $as_echo "$as_me:$LINENO: error: \"--enable-sim-jump does not take a value\"" >&5
! $as_echo "$as_me: error: \"--enable-sim-jump does not take a value\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_jump="";;
! esac
! if test x"$silent" != x"yes" && test x"$sim_jump" != x""; then
!   echo "Setting jump flag = $sim_jump" 6>&1
! fi
! else
!   sim_jump=""
! if test x"$silent" != x"yes"; then
!   echo "Setting jump flag = $sim_jump" 6>&1
! fi
! fi
! 
! 
! # Check whether --enable-sim-line-nr was given.
! if test "${enable_sim_line_nr+set}" = set; then
!   enableval=$enable_sim_line_nr; case "${enableval}" in
!   yes)	sim_line_nr="";;
!   no)	sim_line_nr="-L";;
!   *)	{ { $as_echo "$as_me:$LINENO: error: \"--enable-sim-line-nr does not take a value\"" >&5
! $as_echo "$as_me: error: \"--enable-sim-line-nr does not take a value\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_line_nr="";;
! esac
! if test x"$silent" != x"yes" && test x"$sim_line_nr" != x""; then
!   echo "Setting warning flags = $sim_line_nr" 6>&1
! fi
! else
!   sim_line_nr=""
! fi
! 
! 
! # Check whether --enable-sim-model was given.
! if test "${enable_sim_model+set}" = set; then
!   enableval=$enable_sim_model; case "${enableval}" in
!   yes|no)	{ { $as_echo "$as_me:$LINENO: error: \"No value supplied for --enable-sim-model=model\"" >&5
! $as_echo "$as_me: error: \"No value supplied for --enable-sim-model=model\"" >&2;}
!    { (exit 1); exit 1; }; };;
!   *)		sim_model="-DWITH_MODEL=${enableval}";;
! esac
! if test x"$silent" != x"yes" && test x"$sim_model" != x""; then
!   echo "Setting model flags = $sim_model" 6>&1
! fi
! else
!   sim_model=""
! fi
! 
! 
! # Check whether --enable-sim-model-issue was given.
! if test "${enable_sim_model_issue+set}" = set; then
!   enableval=$enable_sim_model_issue; case "${enableval}" in
!   yes)	sim_model_issue="-DWITH_MODEL_ISSUE=MODEL_ISSUE_PROCESS";;
!   no)	sim_model_issue="-DWITH_MODEL_ISSUE=MODEL_ISSUE_IGNORE";;
!   *)	{ { $as_echo "$as_me:$LINENO: error: \"--enable-sim-model-issue does not take a value\"" >&5
! $as_echo "$as_me: error: \"--enable-sim-model-issue does not take a value\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_model_issue="";;
! esac
! if test x"$silent" != x"yes"; then
!   echo "Setting model-issue flags = $sim_model_issue" 6>&1
! fi
! else
!   sim_model_issue=""
! fi
! 
! 
! # Check whether --enable-sim-monitor was given.
! if test "${enable_sim_monitor+set}" = set; then
!   enableval=$enable_sim_monitor; case "${enableval}" in
!   yes)		sim_monitor="-DWITH_MON='MONITOR_INSTRUCTION_ISSUE | MONITOR_LOAD_STORE_UNIT'";;
!   no)		sim_monitor="-DWITH_MON=0";;
!   instruction)	sim_monitor="-DWITH_MON=MONITOR_INSTRUCTION_ISSUE";;
!   memory)	sim_monitor="-DWITH_MON=MONITOR_LOAD_STORE_UNIT";;
!   *)		{ { $as_echo "$as_me:$LINENO: error: \"Unknown value $enableval passed to --enable-sim-mon\"" >&5
! $as_echo "$as_me: error: \"Unknown value $enableval passed to --enable-sim-mon\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_env="";;
! esac
! if test x"$silent" != x"yes" && test x"$sim_monitor" != x""; then
!   echo "Setting monitor flags = $sim_monitor" 6>&1
  fi
  else
!   sim_monitor=""
  fi
  
! 
! # Check whether --enable-sim-opcode was given.
! if test "${enable_sim_opcode+set}" = set; then
!   enableval=$enable_sim_opcode; case "${enableval}" in
!   yes|no)	{ { $as_echo "$as_me:$LINENO: error: \"No value supplied for --enable-sim-opcode=file\"" >&5
! $as_echo "$as_me: error: \"No value supplied for --enable-sim-opcode=file\"" >&2;}
!    { (exit 1); exit 1; }; };;
!   *)		if test -f "${srcdir}/${enableval}"; then
! 		  sim_opcode="${enableval}"
! 		elif test -f "${srcdir}/dc-${enableval}"; then
! 		  sim_opcode="dc-${enableval}"
! 		else
! 		  { { $as_echo "$as_me:$LINENO: error: \"File $enableval is not an opcode rules file\"" >&5
! $as_echo "$as_me: error: \"File $enableval is not an opcode rules file\"" >&2;}
!    { (exit 1); exit 1; }; };
! 		  sim_opcode="dc-complex"
! 		fi;;
! esac
! if test x"$silent" != x"yes" && test x"$sim_opcode" != x""; then
!   echo "Setting opcode flags = $sim_opcode" 6>&1
! fi
! else
!   sim_opcode="dc-complex"
! if test x"$silent" != x"yes"; then
!   echo "Setting opcode flags = $sim_opcode"
! fi
  fi
  
  
+ # Check whether --enable-sim-packages was given.
+ if test "${enable_sim_packages+set}" = set; then
+   enableval=$enable_sim_packages; packages=disklabel
+ case "${enableval}" in
+   yes)	;;
+   no)	{ { $as_echo "$as_me:$LINENO: error: \"List of packages must be specified for --enable-sim-packages\"" >&5
+ $as_echo "$as_me: error: \"List of packages must be specified for --enable-sim-packages\"" >&2;}
+    { (exit 1); exit 1; }; }; packages="";;
+   ,*)   packages="${packages}${enableval}";;
+   *,)   packages="${enableval}${packages}";;
+   *)	packages="${enableval}"'';;
+ esac
+ sim_pk_src=`echo $packages | sed -e 's/,/.c pk_/g' -e 's/^/pk_/' -e 's/$/.c/'`
+ sim_pk_obj=`echo $sim_pk_src | sed -e 's/\.c/.o/g'`
+ if test x"$silent" != x"yes" && test x"$packages" != x""; then
+   echo "Setting packages to $sim_pk_src, $sim_pk_obj"
  fi
  else
!   packages=disklabel
! sim_pk_src=`echo $packages | sed -e 's/,/.c pk_/g' -e 's/^/pk_/' -e 's/$/.c/'`
! sim_pk_obj=`echo $sim_pk_src | sed -e 's/\.c/.o/g'`
! if test x"$silent" != x"yes"; then
!   echo "Setting packages to $sim_pk_src, $sim_pk_obj"
  fi
  fi
  
  
! # Check whether --enable-sim-regparm was given.
! if test "${enable_sim_regparm+set}" = set; then
!   enableval=$enable_sim_regparm; case "${enableval}" in
!   0*|1*|2*|3*|4*|5*|6*|7*|8*|9*) sim_regparm="-DWITH_REGPARM=${enableval}";;
!   no)                            sim_regparm="" ;;
!   yes)                           sim_regparm="-DWITH_REGPARM=3";;
!   *)   { { $as_echo "$as_me:$LINENO: error: \"Unknown value $enableval for --enable-sim-regparm\"" >&5
! $as_echo "$as_me: error: \"Unknown value $enableval for --enable-sim-regparm\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_regparm="";;
! esac
! if test x"$silent" != x"yes" && test x"$sim_regparm" != x""; then
!   echo "Setting regparm flags = $sim_regparm" 6>&1
  fi
  else
!   sim_regparm=""
  fi
  
! 
! # Check whether --enable-sim-reserved-bits was given.
! if test "${enable_sim_reserved_bits+set}" = set; then
!   enableval=$enable_sim_reserved_bits; case "${enableval}" in
!   yes)	sim_reserved="-DWITH_RESERVED_BITS=1";;
!   no)	sim_reserved="-DWITH_RESERVED_BITS=0";;
!   *)	{ { $as_echo "$as_me:$LINENO: error: \"--enable-sim-reserved-bits does not take a value\"" >&5
! $as_echo "$as_me: error: \"--enable-sim-reserved-bits does not take a value\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_reserved="";;
! esac
! if test x"$silent" != x"yes" && test x"$sim_reserved" != x""; then
!   echo "Setting reserved flags = $sim_reserved" 6>&1
! fi
  else
!   sim_reserved=""
  fi
  
  
! # Check whether --enable-sim-smp was given.
! if test "${enable_sim_smp+set}" = set; then
!   enableval=$enable_sim_smp; case "${enableval}" in
!   yes)	sim_smp="-DWITH_SMP=5" ; sim_igen_smp="-N 5";;
!   no)	sim_smp="-DWITH_SMP=0" ; sim_igen_smp="-N 0";;
!   *)	sim_smp="-DWITH_SMP=$enableval" ; sim_igen_smp="-N $enableval";;
! esac
! if test x"$silent" != x"yes" && test x"$sim_smp" != x""; then
!   echo "Setting smp flags = $sim_smp" 6>&1
! fi
! else
!   sim_smp="-DWITH_SMP=5" ; sim_igen_smp="-N 5"
! if test x"$silent" != x"yes"; then
!   echo "Setting smp flags = $sim_smp" 6>&1
! fi
  fi
  
  
! # Check whether --enable-sim-stdcall was given.
! if test "${enable_sim_stdcall+set}" = set; then
!   enableval=$enable_sim_stdcall; case "${enableval}" in
!   no)		sim_stdcall="" ;;
!   std*)		sim_stdcall="-DWITH_STDCALL=1";;
!   yes)		sim_stdcall="-DWITH_STDCALL=1";;
!   *)   { { $as_echo "$as_me:$LINENO: error: \"Unknown value $enableval for --enable-sim-stdcall\"" >&5
! $as_echo "$as_me: error: \"Unknown value $enableval for --enable-sim-stdcall\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_stdcall="";;
! esac
! if test x"$silent" != x"yes" && test x"$sim_stdcall" != x""; then
!   echo "Setting function call flags = $sim_stdcall" 6>&1
! fi
  else
!   sim_stdcall=""
! fi
  
  
! # Check whether --enable-sim-stdio was given.
! if test "${enable_sim_stdio+set}" = set; then
!   enableval=$enable_sim_stdio; case "${enableval}" in
!   yes)	sim_stdio="-DWITH_STDIO=DO_USE_STDIO";;
!   no)	sim_stdio="-DWITH_STDIO=DONT_USE_STDIO";;
!   *)	{ { $as_echo "$as_me:$LINENO: error: \"Unknown value $enableval passed to --enable-sim-stdio\"" >&5
! $as_echo "$as_me: error: \"Unknown value $enableval passed to --enable-sim-stdio\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_stdio="";;
! esac
! if test x"$silent" != x"yes" && test x"$sim_stdio" != x""; then
!   echo "Setting stdio flags = $sim_stdio" 6>&1
! fi
  else
!   sim_stdio=""
  fi
  
  
! # Check whether --enable-sim-switch was given.
! if test "${enable_sim_switch+set}" = set; then
!   enableval=$enable_sim_switch; case "${enableval}" in
!   yes)	sim_switch="-s";;
!   no)	sim_switch="";;
!   *)	{ { $as_echo "$as_me:$LINENO: error: \"--enable-sim-switch does not take a value\"" >&5
! $as_echo "$as_me: error: \"--enable-sim-switch does not take a value\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_switch="";;
! esac
! if test x"$silent" != x"yes" && test x"$sim_switch" != x""; then
!   echo "Setting switch flags = $sim_switch" 6>&1
! fi
  else
!   sim_switch="";
! if test x"$silent" != x"yes"; then
!   echo "Setting switch flags = $sim_switch" 6>&1
  fi
  fi
  
  
! # Check whether --enable-sim-timebase was given.
! if test "${enable_sim_timebase+set}" = set; then
!   enableval=$enable_sim_timebase; case "${enableval}" in
!   yes)	sim_timebase="-DWITH_TIME_BASE=1";;
!   no)	sim_timebase="-DWITH_TIME_BASE=0";;
!   *)	{ { $as_echo "$as_me:$LINENO: error: \"--enable-sim-timebase does not take a value\"" >&5
! $as_echo "$as_me: error: \"--enable-sim-timebase does not take a value\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_timebase="";;
! esac
! if test x"$silent" != x"yes" && test x"$sim_timebase" != x""; then
!   echo "Setting timebase flags = $sim_timebase" 6>&1
! fi
  else
!   sim_timebase=""
  fi
  
  
! # Check whether --enable-sim-trace was given.
! if test "${enable_sim_trace+set}" = set; then
!   enableval=$enable_sim_trace; case "${enableval}" in
!   yes)	sim_trace="-DWITH_TRACE=1";;
!   no)	sim_trace="-DWITH_TRACE=0";;
!   *)	{ { $as_echo "$as_me:$LINENO: error: \"--enable-sim-trace does not take a value\"" >&5
! $as_echo "$as_me: error: \"--enable-sim-trace does not take a value\"" >&2;}
!    { (exit 1); exit 1; }; }; sim_trace="";;
! esac
! if test x"$silent" != x"yes" && test x"$sim_trace" != x""; then
!   echo "Setting trace flags = $sim_trace" 6>&1
! fi
  else
!   sim_trace=""
! fi
  
  
! # Check whether --enable-sim-warnings was given.
! if test "${enable_sim_warnings+set}" = set; then
!   enableval=$enable_sim_warnings; case "${enableval}" in
!   yes)	sim_warnings="-Werror -Wall -Wpointer-arith -Wmissing-prototypes -Wmissing-declarations ";;
!   no)	sim_warnings="-w";;
!   *)	sim_warnings=`echo "${enableval}" | sed -e "s/,/ /g"`;;
! esac
! if test x"$silent" != x"yes" && test x"$sim_warnings" != x""; then
!   echo "Setting warning flags = $sim_warnings" 6>&1
  fi
! else
!   sim_warnings=""
  fi
+ 
+ 
+ # Check whether --enable-sim-xor-endian was given.
+ if test "${enable_sim_xor_endian+set}" = set; then
+   enableval=$enable_sim_xor_endian; case "${enableval}" in
+   yes)	sim_xor_endian="-DWITH_XOR_ENDIAN=8";;
+   no)	sim_xor_endian="-DWITH_XOR_ENDIAN=0";;
+   *)	sim_xor_endian="-DWITH_XOR_ENDIAN=$enableval";;
+ esac
+ if test x"$silent" != x"yes" && test x"$sim_xor_endian" != x""; then
+   echo "Setting xor-endian flag = $sim_xor_endian" 6>&1
  fi
+ else
+   sim_xor_endian=""
  fi
  
! 
! # Make sure we can run config.sub.
! $SHELL "$ac_aux_dir/config.sub" sun4 >/dev/null 2>&1 ||
!   { { $as_echo "$as_me:$LINENO: error: cannot run $SHELL $ac_aux_dir/config.sub" >&5
! $as_echo "$as_me: error: cannot run $SHELL $ac_aux_dir/config.sub" >&2;}
!    { (exit 1); exit 1; }; }
! 
! { $as_echo "$as_me:$LINENO: checking build system type" >&5
! $as_echo_n "checking build system type... " >&6; }
! if test "${ac_cv_build+set}" = set; then
!   $as_echo_n "(cached) " >&6
! else
!   ac_build_alias=$build_alias
! test "x$ac_build_alias" = x &&
!   ac_build_alias=`$SHELL "$ac_aux_dir/config.guess"`
! test "x$ac_build_alias" = x &&
!   { { $as_echo "$as_me:$LINENO: error: cannot guess build type; you must specify one" >&5
! $as_echo "$as_me: error: cannot guess build type; you must specify one" >&2;}
!    { (exit 1); exit 1; }; }
! ac_cv_build=`$SHELL "$ac_aux_dir/config.sub" $ac_build_alias` ||
!   { { $as_echo "$as_me:$LINENO: error: $SHELL $ac_aux_dir/config.sub $ac_build_alias failed" >&5
! $as_echo "$as_me: error: $SHELL $ac_aux_dir/config.sub $ac_build_alias failed" >&2;}
!    { (exit 1); exit 1; }; }
  
  fi
+ { $as_echo "$as_me:$LINENO: result: $ac_cv_build" >&5
+ $as_echo "$ac_cv_build" >&6; }
+ case $ac_cv_build in
+ *-*-*) ;;
+ *) { { $as_echo "$as_me:$LINENO: error: invalid value of canonical build" >&5
+ $as_echo "$as_me: error: invalid value of canonical build" >&2;}
+    { (exit 1); exit 1; }; };;
+ esac
+ build=$ac_cv_build
+ ac_save_IFS=$IFS; IFS='-'
+ set x $ac_cv_build
+ shift
+ build_cpu=$1
+ build_vendor=$2
+ shift; shift
+ # Remember, the first character of IFS is used to create $*,
+ # except with old shells:
+ build_os=$*
+ IFS=$ac_save_IFS
+ case $build_os in *\ *) build_os=`echo "$build_os" | sed 's/ /-/g'`;; esac
  
  
+ { $as_echo "$as_me:$LINENO: checking host system type" >&5
+ $as_echo_n "checking host system type... " >&6; }
+ if test "${ac_cv_host+set}" = set; then
+   $as_echo_n "(cached) " >&6
+ else
+   if test "x$host_alias" = x; then
+   ac_cv_host=$ac_cv_build
+ else
+   ac_cv_host=`$SHELL "$ac_aux_dir/config.sub" $host_alias` ||
+     { { $as_echo "$as_me:$LINENO: error: $SHELL $ac_aux_dir/config.sub $host_alias failed" >&5
+ $as_echo "$as_me: error: $SHELL $ac_aux_dir/config.sub $host_alias failed" >&2;}
+    { (exit 1); exit 1; }; }
+ fi
  
+ fi
+ { $as_echo "$as_me:$LINENO: result: $ac_cv_host" >&5
+ $as_echo "$ac_cv_host" >&6; }
+ case $ac_cv_host in
+ *-*-*) ;;
+ *) { { $as_echo "$as_me:$LINENO: error: invalid value of canonical host" >&5
+ $as_echo "$as_me: error: invalid value of canonical host" >&2;}
+    { (exit 1); exit 1; }; };;
+ esac
+ host=$ac_cv_host
+ ac_save_IFS=$IFS; IFS='-'
+ set x $ac_cv_host
+ shift
+ host_cpu=$1
+ host_vendor=$2
+ shift; shift
+ # Remember, the first character of IFS is used to create $*,
+ # except with old shells:
+ host_os=$*
+ IFS=$ac_save_IFS
+ case $host_os in *\ *) host_os=`echo "$host_os" | sed 's/ /-/g'`;; esac
  
  
+ { $as_echo "$as_me:$LINENO: checking target system type" >&5
+ $as_echo_n "checking target system type... " >&6; }
+ if test "${ac_cv_target+set}" = set; then
+   $as_echo_n "(cached) " >&6
+ else
+   if test "x$target_alias" = x; then
+   ac_cv_target=$ac_cv_host
+ else
+   ac_cv_target=`$SHELL "$ac_aux_dir/config.sub" $target_alias` ||
+     { { $as_echo "$as_me:$LINENO: error: $SHELL $ac_aux_dir/config.sub $target_alias failed" >&5
+ $as_echo "$as_me: error: $SHELL $ac_aux_dir/config.sub $target_alias failed" >&2;}
+    { (exit 1); exit 1; }; }
+ fi
  
+ fi
+ { $as_echo "$as_me:$LINENO: result: $ac_cv_target" >&5
+ $as_echo "$ac_cv_target" >&6; }
+ case $ac_cv_target in
+ *-*-*) ;;
+ *) { { $as_echo "$as_me:$LINENO: error: invalid value of canonical target" >&5
+ $as_echo "$as_me: error: invalid value of canonical target" >&2;}
+    { (exit 1); exit 1; }; };;
+ esac
+ target=$ac_cv_target
+ ac_save_IFS=$IFS; IFS='-'
+ set x $ac_cv_target
+ shift
+ target_cpu=$1
+ target_vendor=$2
+ shift; shift
+ # Remember, the first character of IFS is used to create $*,
+ # except with old shells:
+ target_os=$*
+ IFS=$ac_save_IFS
+ case $target_os in *\ *) target_os=`echo "$target_os" | sed 's/ /-/g'`;; esac
  
  
+ # The aliases save the names the user supplied, while $host etc.
+ # will get canonicalized.
+ test -n "$target_alias" &&
+   test "$program_prefix$program_suffix$program_transform_name" = \
+     NONENONEs,x,x, &&
+   program_prefix=${target_alias}-
+ test "$program_prefix" != NONE &&
+   program_transform_name="s&^&$program_prefix&;$program_transform_name"
+ # Use a double $ so make ignores it.
+ test "$program_suffix" != NONE &&
+   program_transform_name="s&\$&$program_suffix&;$program_transform_name"
+ # Double any \ or $.
+ # By default was `s,x,x', remove it if useless.
+ ac_script='s/[\\$]/&&/g;s/;s,x,x,$//'
+ program_transform_name=`$as_echo "$program_transform_name" | sed "$ac_script"`
  
  
! . ${srcdir}/../../bfd/configure.host
  
! case ${host} in
!   *mingw32*)
  
! cat >>confdefs.h <<\_ACEOF
! #define USE_WIN32API 1
  _ACEOF
  
!     ;;
! esac
  
+ ac_config_headers="$ac_config_headers config.h:config.in"
  
  
! { $as_echo "$as_me:$LINENO: checking for struct stat.st_blksize" >&5
! $as_echo_n "checking for struct stat.st_blksize... " >&6; }
  if test "${ac_cv_member_struct_stat_st_blksize+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
***************
*** 4019,4051 ****
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
    ac_cv_member_struct_stat_st_blksize=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 4935,4963 ----
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
    ac_cv_member_struct_stat_st_blksize=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
***************
*** 4063,4102 ****
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
    ac_cv_member_struct_stat_st_blksize=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_cv_member_struct_stat_st_blksize=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! echo "$as_me:$LINENO: result: $ac_cv_member_struct_stat_st_blksize" >&5
! echo "${ECHO_T}$ac_cv_member_struct_stat_st_blksize" >&6
  if test $ac_cv_member_struct_stat_st_blksize = yes; then
  
  cat >>confdefs.h <<_ACEOF
--- 4975,5012 ----
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
    ac_cv_member_struct_stat_st_blksize=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	ac_cv_member_struct_stat_st_blksize=no
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_member_struct_stat_st_blksize" >&5
! $as_echo "$ac_cv_member_struct_stat_st_blksize" >&6; }
  if test $ac_cv_member_struct_stat_st_blksize = yes; then
  
  cat >>confdefs.h <<_ACEOF
***************
*** 4111,4120 ****
  fi
  
  
! echo "$as_me:$LINENO: checking for struct stat.st_blocks" >&5
! echo $ECHO_N "checking for struct stat.st_blocks... $ECHO_C" >&6
  if test "${ac_cv_member_struct_stat_st_blocks+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
--- 5021,5030 ----
  fi
  
  
! { $as_echo "$as_me:$LINENO: checking for struct stat.st_blocks" >&5
! $as_echo_n "checking for struct stat.st_blocks... " >&6; }
  if test "${ac_cv_member_struct_stat_st_blocks+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
***************
*** 4134,4166 ****
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
    ac_cv_member_struct_stat_st_blocks=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 5044,5072 ----
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
    ac_cv_member_struct_stat_st_blocks=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
***************
*** 4178,4217 ****
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
    ac_cv_member_struct_stat_st_blocks=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_cv_member_struct_stat_st_blocks=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! echo "$as_me:$LINENO: result: $ac_cv_member_struct_stat_st_blocks" >&5
! echo "${ECHO_T}$ac_cv_member_struct_stat_st_blocks" >&6
  if test $ac_cv_member_struct_stat_st_blocks = yes; then
  
  cat >>confdefs.h <<_ACEOF
--- 5084,5121 ----
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
    ac_cv_member_struct_stat_st_blocks=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	ac_cv_member_struct_stat_st_blocks=no
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_member_struct_stat_st_blocks" >&5
! $as_echo "$ac_cv_member_struct_stat_st_blocks" >&6; }
  if test $ac_cv_member_struct_stat_st_blocks = yes; then
  
  cat >>confdefs.h <<_ACEOF
***************
*** 4224,4245 ****
  _ACEOF
  
  else
!   case $LIBOBJS in
!     "fileblocks.$ac_objext"   | \
!   *" fileblocks.$ac_objext"   | \
!     "fileblocks.$ac_objext "* | \
    *" fileblocks.$ac_objext "* ) ;;
!   *) LIBOBJS="$LIBOBJS fileblocks.$ac_objext" ;;
  esac
  
  fi
  
  
! 
! echo "$as_me:$LINENO: checking for struct stat.st_rdev" >&5
! echo $ECHO_N "checking for struct stat.st_rdev... $ECHO_C" >&6
  if test "${ac_cv_member_struct_stat_st_rdev+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
--- 5128,5146 ----
  _ACEOF
  
  else
!   case " $LIBOBJS " in
    *" fileblocks.$ac_objext "* ) ;;
!   *) LIBOBJS="$LIBOBJS fileblocks.$ac_objext"
!  ;;
  esac
  
  fi
  
  
! { $as_echo "$as_me:$LINENO: checking for struct stat.st_rdev" >&5
! $as_echo_n "checking for struct stat.st_rdev... " >&6; }
  if test "${ac_cv_member_struct_stat_st_rdev+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
***************
*** 4259,4291 ****
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
    ac_cv_member_struct_stat_st_rdev=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 5160,5188 ----
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
    ac_cv_member_struct_stat_st_rdev=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
***************
*** 4303,4342 ****
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
    ac_cv_member_struct_stat_st_rdev=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_cv_member_struct_stat_st_rdev=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! echo "$as_me:$LINENO: result: $ac_cv_member_struct_stat_st_rdev" >&5
! echo "${ECHO_T}$ac_cv_member_struct_stat_st_rdev" >&6
  if test $ac_cv_member_struct_stat_st_rdev = yes; then
  
  cat >>confdefs.h <<_ACEOF
--- 5200,5237 ----
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
    ac_cv_member_struct_stat_st_rdev=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	ac_cv_member_struct_stat_st_rdev=no
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_member_struct_stat_st_rdev" >&5
! $as_echo "$ac_cv_member_struct_stat_st_rdev" >&6; }
  if test $ac_cv_member_struct_stat_st_rdev = yes; then
  
  cat >>confdefs.h <<_ACEOF
***************
*** 4351,4360 ****
  fi
  
  
! echo "$as_me:$LINENO: checking whether struct tm is in sys/time.h or time.h" >&5
! echo $ECHO_N "checking whether struct tm is in sys/time.h or time.h... $ECHO_C" >&6
  if test "${ac_cv_struct_tm+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
--- 5246,5255 ----
  fi
  
  
! { $as_echo "$as_me:$LINENO: checking whether struct tm is in sys/time.h or time.h" >&5
! $as_echo_n "checking whether struct tm is in sys/time.h or time.h... " >&6; }
  if test "${ac_cv_struct_tm+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
***************
*** 4368,4411 ****
  int
  main ()
  {
! struct tm *tp; tp->tm_sec;
    ;
    return 0;
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
    ac_cv_struct_tm=time.h
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_cv_struct_tm=sys/time.h
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! echo "$as_me:$LINENO: result: $ac_cv_struct_tm" >&5
! echo "${ECHO_T}$ac_cv_struct_tm" >&6
  if test $ac_cv_struct_tm = sys/time.h; then
  
  cat >>confdefs.h <<\_ACEOF
--- 5263,5305 ----
  int
  main ()
  {
! struct tm tm;
! 				     int *p = &tm.tm_sec;
! 				     return !p;
    ;
    return 0;
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
    ac_cv_struct_tm=time.h
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	ac_cv_struct_tm=sys/time.h
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_struct_tm" >&5
! $as_echo "$ac_cv_struct_tm" >&6; }
  if test $ac_cv_struct_tm = sys/time.h; then
  
  cat >>confdefs.h <<\_ACEOF
***************
*** 4414,4423 ****
  
  fi
  
! echo "$as_me:$LINENO: checking for struct tm.tm_zone" >&5
! echo $ECHO_N "checking for struct tm.tm_zone... $ECHO_C" >&6
  if test "${ac_cv_member_struct_tm_tm_zone+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
--- 5308,5317 ----
  
  fi
  
! { $as_echo "$as_me:$LINENO: checking for struct tm.tm_zone" >&5
! $as_echo_n "checking for struct tm.tm_zone... " >&6; }
  if test "${ac_cv_member_struct_tm_tm_zone+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
***************
*** 4440,4472 ****
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
    ac_cv_member_struct_tm_tm_zone=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 5334,5362 ----
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
    ac_cv_member_struct_tm_tm_zone=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
***************
*** 4487,4526 ****
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
    ac_cv_member_struct_tm_tm_zone=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_cv_member_struct_tm_tm_zone=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! echo "$as_me:$LINENO: result: $ac_cv_member_struct_tm_tm_zone" >&5
! echo "${ECHO_T}$ac_cv_member_struct_tm_tm_zone" >&6
  if test $ac_cv_member_struct_tm_tm_zone = yes; then
  
  cat >>confdefs.h <<_ACEOF
--- 5377,5414 ----
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
    ac_cv_member_struct_tm_tm_zone=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	ac_cv_member_struct_tm_tm_zone=no
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_member_struct_tm_tm_zone" >&5
! $as_echo "$ac_cv_member_struct_tm_tm_zone" >&6; }
  if test $ac_cv_member_struct_tm_tm_zone = yes; then
  
  cat >>confdefs.h <<_ACEOF
***************
*** 4537,4546 ****
  _ACEOF
  
  else
!   echo "$as_me:$LINENO: checking for tzname" >&5
! echo $ECHO_N "checking for tzname... $ECHO_C" >&6
  if test "${ac_cv_var_tzname+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
--- 5425,5504 ----
  _ACEOF
  
  else
!   { $as_echo "$as_me:$LINENO: checking whether tzname is declared" >&5
! $as_echo_n "checking whether tzname is declared... " >&6; }
! if test "${ac_cv_have_decl_tzname+set}" = set; then
!   $as_echo_n "(cached) " >&6
! else
!   cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! #include <time.h>
! 
! int
! main ()
! {
! #ifndef tzname
!   (void) tzname;
! #endif
! 
!   ;
!   return 0;
! }
! _ACEOF
! rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
!   ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   ac_cv_have_decl_tzname=yes
! else
!   $as_echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
! 
! 	ac_cv_have_decl_tzname=no
! fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
! fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_have_decl_tzname" >&5
! $as_echo "$ac_cv_have_decl_tzname" >&6; }
! if test $ac_cv_have_decl_tzname = yes; then
! 
! cat >>confdefs.h <<_ACEOF
! #define HAVE_DECL_TZNAME 1
! _ACEOF
! 
! 
! else
!   cat >>confdefs.h <<_ACEOF
! #define HAVE_DECL_TZNAME 0
! _ACEOF
! 
! 
! fi
! 
! 
!   { $as_echo "$as_me:$LINENO: checking for tzname" >&5
! $as_echo_n "checking for tzname... " >&6; }
  if test "${ac_cv_var_tzname+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
***************
*** 4549,4600 ****
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
  #include <time.h>
! #ifndef tzname /* For SGI.  */
! extern char *tzname[]; /* RS6000 and others reject char **tzname.  */
  #endif
  
  int
  main ()
  {
! atoi(*tzname);
    ;
    return 0;
  }
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
    ac_cv_var_tzname=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_cv_var_tzname=no
  fi
! rm -f conftest.err conftest.$ac_objext \
        conftest$ac_exeext conftest.$ac_ext
  fi
! echo "$as_me:$LINENO: result: $ac_cv_var_tzname" >&5
! echo "${ECHO_T}$ac_cv_var_tzname" >&6
    if test $ac_cv_var_tzname = yes; then
  
  cat >>confdefs.h <<\_ACEOF
--- 5507,5559 ----
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
  #include <time.h>
! #if !HAVE_DECL_TZNAME
! extern char *tzname[];
  #endif
  
  int
  main ()
  {
! return tzname[0][0];
    ;
    return 0;
  }
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
! if { (ac_try="$ac_link"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_link") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest$ac_exeext && {
! 	 test "$cross_compiling" = yes ||
! 	 $as_test_x conftest$ac_exeext
!        }; then
    ac_cv_var_tzname=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	ac_cv_var_tzname=no
  fi
! 
! rm -rf conftest.dSYM
! rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
        conftest$ac_exeext conftest.$ac_ext
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_var_tzname" >&5
! $as_echo "$ac_cv_var_tzname" >&6; }
    if test $ac_cv_var_tzname = yes; then
  
  cat >>confdefs.h <<\_ACEOF
***************
*** 4605,4614 ****
  fi
  
  
! echo "$as_me:$LINENO: checking for uid_t in sys/types.h" >&5
! echo $ECHO_N "checking for uid_t in sys/types.h... $ECHO_C" >&6
  if test "${ac_cv_type_uid_t+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
--- 5564,5573 ----
  fi
  
  
! { $as_echo "$as_me:$LINENO: checking for uid_t in sys/types.h" >&5
! $as_echo_n "checking for uid_t in sys/types.h... " >&6; }
  if test "${ac_cv_type_uid_t+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
***************
*** 4628,4635 ****
  rm -f conftest*
  
  fi
! echo "$as_me:$LINENO: result: $ac_cv_type_uid_t" >&5
! echo "${ECHO_T}$ac_cv_type_uid_t" >&6
  if test $ac_cv_type_uid_t = no; then
  
  cat >>confdefs.h <<\_ACEOF
--- 5587,5594 ----
  rm -f conftest*
  
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_type_uid_t" >&5
! $as_echo "$ac_cv_type_uid_t" >&6; }
  if test $ac_cv_type_uid_t = no; then
  
  cat >>confdefs.h <<\_ACEOF
***************
*** 4643,4652 ****
  
  fi
  
! echo "$as_me:$LINENO: checking type of array argument to getgroups" >&5
! echo $ECHO_N "checking type of array argument to getgroups... $ECHO_C" >&6
  if test "${ac_cv_type_getgroups+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    if test "$cross_compiling" = yes; then
    ac_cv_type_getgroups=cross
--- 5602,5611 ----
  
  fi
  
! { $as_echo "$as_me:$LINENO: checking type of array argument to getgroups" >&5
! $as_echo_n "checking type of array argument to getgroups... " >&6; }
  if test "${ac_cv_type_getgroups+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    if test "$cross_compiling" = yes; then
    ac_cv_type_getgroups=cross
***************
*** 4658,4664 ****
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
  /* Thanks to Mike Rendell for this test.  */
! #include <sys/types.h>
  #define NGID 256
  #undef MAX
  #define MAX(x, y) ((x) > (y) ? (x) : (y))
--- 5617,5623 ----
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
  /* Thanks to Mike Rendell for this test.  */
! $ac_includes_default
  #define NGID 256
  #undef MAX
  #define MAX(x, y) ((x) > (y) ? (x) : (y))
***************
*** 4668,4674 ****
  {
    gid_t gidset[NGID];
    int i, n;
!   union { gid_t gval; long lval; }  val;
  
    val.lval = -1;
    for (i = 0; i < NGID; i++)
--- 5627,5633 ----
  {
    gid_t gidset[NGID];
    int i, n;
!   union { gid_t gval; long int lval; }  val;
  
    val.lval = -1;
    for (i = 0; i < NGID; i++)
***************
*** 4676,4707 ****
    n = getgroups (sizeof (gidset) / MAX (sizeof (int), sizeof (gid_t)) - 1,
  		 gidset);
    /* Exit non-zero if getgroups seems to require an array of ints.  This
!      happens when gid_t is short but getgroups modifies an array of ints.  */
!   exit ((n > 0 && gidset[n] != val.gval) ? 1 : 0);
  }
  _ACEOF
  rm -f conftest$ac_exeext
! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
    ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }; }; then
    ac_cv_type_getgroups=gid_t
  else
!   echo "$as_me: program exited with status $ac_status" >&5
! echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
  ( exit $ac_status )
  ac_cv_type_getgroups=int
  fi
! rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
  fi
  if test $ac_cv_type_getgroups = cross; then
          cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
--- 5635,5681 ----
    n = getgroups (sizeof (gidset) / MAX (sizeof (int), sizeof (gid_t)) - 1,
  		 gidset);
    /* Exit non-zero if getgroups seems to require an array of ints.  This
!      happens when gid_t is short int but getgroups modifies an array
!      of ints.  */
!   return n > 0 && gidset[n] != val.gval;
  }
  _ACEOF
  rm -f conftest$ac_exeext
! if { (ac_try="$ac_link"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_link") 2>&5
    ac_status=$?
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
!   { (case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_try") 2>&5
    ac_status=$?
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }; }; then
    ac_cv_type_getgroups=gid_t
  else
!   $as_echo "$as_me: program exited with status $ac_status" >&5
! $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
  ( exit $ac_status )
  ac_cv_type_getgroups=int
  fi
! rm -rf conftest.dSYM
! rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
  fi
+ 
+ 
  if test $ac_cv_type_getgroups = cross; then
          cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
***************
*** 4722,4741 ****
  
  fi
  fi
! echo "$as_me:$LINENO: result: $ac_cv_type_getgroups" >&5
! echo "${ECHO_T}$ac_cv_type_getgroups" >&6
  
  cat >>confdefs.h <<_ACEOF
  #define GETGROUPS_T $ac_cv_type_getgroups
  _ACEOF
  
  
! echo "$as_me:$LINENO: checking for mode_t" >&5
! echo $ECHO_N "checking for mode_t... $ECHO_C" >&6
  if test "${ac_cv_type_mode_t+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
!   cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 5696,5716 ----
  
  fi
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_type_getgroups" >&5
! $as_echo "$ac_cv_type_getgroups" >&6; }
  
  cat >>confdefs.h <<_ACEOF
  #define GETGROUPS_T $ac_cv_type_getgroups
  _ACEOF
  
  
! { $as_echo "$as_me:$LINENO: checking for mode_t" >&5
! $as_echo_n "checking for mode_t... " >&6; }
  if test "${ac_cv_type_mode_t+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
!   ac_cv_type_mode_t=no
! cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
***************
*** 4745,4791 ****
  int
  main ()
  {
- if ((mode_t *) 0)
-   return 0;
  if (sizeof (mode_t))
!   return 0;
    ;
    return 0;
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
    ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   ac_cv_type_mode_t=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_cv_type_mode_t=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! echo "$as_me:$LINENO: result: $ac_cv_type_mode_t" >&5
! echo "${ECHO_T}$ac_cv_type_mode_t" >&6
  if test $ac_cv_type_mode_t = yes; then
    :
  else
--- 5720,5803 ----
  int
  main ()
  {
  if (sizeof (mode_t))
!        return 0;
    ;
    return 0;
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! $ac_includes_default
! int
! main ()
! {
! if (sizeof ((mode_t)))
! 	  return 0;
!   ;
!   return 0;
! }
! _ACEOF
! rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   :
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	ac_cv_type_mode_t=yes
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
! else
!   $as_echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
! 
! 
! fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_type_mode_t" >&5
! $as_echo "$ac_cv_type_mode_t" >&6; }
  if test $ac_cv_type_mode_t = yes; then
    :
  else
***************
*** 4796,4807 ****
  
  fi
  
! echo "$as_me:$LINENO: checking for off_t" >&5
! echo $ECHO_N "checking for off_t... $ECHO_C" >&6
  if test "${ac_cv_type_off_t+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
!   cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 5808,5820 ----
  
  fi
  
! { $as_echo "$as_me:$LINENO: checking for off_t" >&5
! $as_echo_n "checking for off_t... " >&6; }
  if test "${ac_cv_type_off_t+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
!   ac_cv_type_off_t=no
! cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
***************
*** 4811,4873 ****
  int
  main ()
  {
- if ((off_t *) 0)
-   return 0;
  if (sizeof (off_t))
!   return 0;
    ;
    return 0;
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
    ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   ac_cv_type_off_t=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_cv_type_off_t=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! echo "$as_me:$LINENO: result: $ac_cv_type_off_t" >&5
! echo "${ECHO_T}$ac_cv_type_off_t" >&6
  if test $ac_cv_type_off_t = yes; then
    :
  else
  
  cat >>confdefs.h <<_ACEOF
! #define off_t long
  _ACEOF
  
  fi
  
! echo "$as_me:$LINENO: checking for pid_t" >&5
! echo $ECHO_N "checking for pid_t... $ECHO_C" >&6
  if test "${ac_cv_type_pid_t+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
!   cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 5824,5924 ----
  int
  main ()
  {
  if (sizeof (off_t))
!        return 0;
    ;
    return 0;
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! $ac_includes_default
! int
! main ()
! {
! if (sizeof ((off_t)))
! 	  return 0;
!   ;
!   return 0;
! }
! _ACEOF
! rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   :
! else
!   $as_echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
! 
! 	ac_cv_type_off_t=yes
! fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_type_off_t" >&5
! $as_echo "$ac_cv_type_off_t" >&6; }
  if test $ac_cv_type_off_t = yes; then
    :
  else
  
  cat >>confdefs.h <<_ACEOF
! #define off_t long int
  _ACEOF
  
  fi
  
! { $as_echo "$as_me:$LINENO: checking for pid_t" >&5
! $as_echo_n "checking for pid_t... " >&6; }
  if test "${ac_cv_type_pid_t+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
!   ac_cv_type_pid_t=no
! cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
***************
*** 4877,4923 ****
  int
  main ()
  {
- if ((pid_t *) 0)
-   return 0;
  if (sizeof (pid_t))
!   return 0;
    ;
    return 0;
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
    ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   ac_cv_type_pid_t=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_cv_type_pid_t=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! echo "$as_me:$LINENO: result: $ac_cv_type_pid_t" >&5
! echo "${ECHO_T}$ac_cv_type_pid_t" >&6
  if test $ac_cv_type_pid_t = yes; then
    :
  else
--- 5928,6011 ----
  int
  main ()
  {
  if (sizeof (pid_t))
!        return 0;
    ;
    return 0;
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! $ac_includes_default
! int
! main ()
! {
! if (sizeof ((pid_t)))
! 	  return 0;
!   ;
!   return 0;
! }
! _ACEOF
! rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   :
! else
!   $as_echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
! 
! 	ac_cv_type_pid_t=yes
! fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_type_pid_t" >&5
! $as_echo "$ac_cv_type_pid_t" >&6; }
  if test $ac_cv_type_pid_t = yes; then
    :
  else
***************
*** 4928,4937 ****
  
  fi
  
! echo "$as_me:$LINENO: checking return type of signal handlers" >&5
! echo $ECHO_N "checking return type of signal handlers... $ECHO_C" >&6
  if test "${ac_cv_type_signal+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
--- 6016,6025 ----
  
  fi
  
! { $as_echo "$as_me:$LINENO: checking return type of signal handlers" >&5
! $as_echo_n "checking return type of signal handlers... " >&6; }
  if test "${ac_cv_type_signal+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
***************
*** 4941,5008 ****
  /* end confdefs.h.  */
  #include <sys/types.h>
  #include <signal.h>
- #ifdef signal
- # undef signal
- #endif
- #ifdef __cplusplus
- extern "C" void (*signal (int, void (*)(int)))(int);
- #else
- void (*signal ()) ();
- #endif
  
  int
  main ()
  {
! int i;
    ;
    return 0;
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   ac_cv_type_signal=void
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_cv_type_signal=int
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! echo "$as_me:$LINENO: result: $ac_cv_type_signal" >&5
! echo "${ECHO_T}$ac_cv_type_signal" >&6
  
  cat >>confdefs.h <<_ACEOF
  #define RETSIGTYPE $ac_cv_type_signal
  _ACEOF
  
  
! echo "$as_me:$LINENO: checking for size_t" >&5
! echo $ECHO_N "checking for size_t... $ECHO_C" >&6
  if test "${ac_cv_type_size_t+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
!   cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 6029,6086 ----
  /* end confdefs.h.  */
  #include <sys/types.h>
  #include <signal.h>
  
  int
  main ()
  {
! return *(signal (0, 0)) (0) == 1;
    ;
    return 0;
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   ac_cv_type_signal=int
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	ac_cv_type_signal=void
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_type_signal" >&5
! $as_echo "$ac_cv_type_signal" >&6; }
  
  cat >>confdefs.h <<_ACEOF
  #define RETSIGTYPE $ac_cv_type_signal
  _ACEOF
  
  
! { $as_echo "$as_me:$LINENO: checking for size_t" >&5
! $as_echo_n "checking for size_t... " >&6; }
  if test "${ac_cv_type_size_t+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
!   ac_cv_type_size_t=no
! cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
***************
*** 5012,5072 ****
  int
  main ()
  {
- if ((size_t *) 0)
-   return 0;
  if (sizeof (size_t))
!   return 0;
    ;
    return 0;
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
    ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   ac_cv_type_size_t=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_cv_type_size_t=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! echo "$as_me:$LINENO: result: $ac_cv_type_size_t" >&5
! echo "${ECHO_T}$ac_cv_type_size_t" >&6
  if test $ac_cv_type_size_t = yes; then
    :
  else
  
  cat >>confdefs.h <<_ACEOF
! #define size_t unsigned
  _ACEOF
  
  fi
  
! echo "$as_me:$LINENO: checking for uid_t in sys/types.h" >&5
! echo $ECHO_N "checking for uid_t in sys/types.h... $ECHO_C" >&6
  if test "${ac_cv_type_uid_t+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
--- 6090,6187 ----
  int
  main ()
  {
  if (sizeof (size_t))
!        return 0;
    ;
    return 0;
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! $ac_includes_default
! int
! main ()
! {
! if (sizeof ((size_t)))
! 	  return 0;
!   ;
!   return 0;
! }
! _ACEOF
! rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   :
! else
!   $as_echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
! 
! 	ac_cv_type_size_t=yes
! fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_type_size_t" >&5
! $as_echo "$ac_cv_type_size_t" >&6; }
  if test $ac_cv_type_size_t = yes; then
    :
  else
  
  cat >>confdefs.h <<_ACEOF
! #define size_t unsigned int
  _ACEOF
  
  fi
  
! { $as_echo "$as_me:$LINENO: checking for uid_t in sys/types.h" >&5
! $as_echo_n "checking for uid_t in sys/types.h... " >&6; }
  if test "${ac_cv_type_uid_t+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
***************
*** 5086,5093 ****
  rm -f conftest*
  
  fi
! echo "$as_me:$LINENO: result: $ac_cv_type_uid_t" >&5
! echo "${ECHO_T}$ac_cv_type_uid_t" >&6
  if test $ac_cv_type_uid_t = no; then
  
  cat >>confdefs.h <<\_ACEOF
--- 6201,6208 ----
  rm -f conftest*
  
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_type_uid_t" >&5
! $as_echo "$ac_cv_type_uid_t" >&6; }
  if test $ac_cv_type_uid_t = no; then
  
  cat >>confdefs.h <<\_ACEOF
***************
*** 5154,5164 ****
  
  for ac_func in access cfgetispeed cfgetospeed cfsetispeed cfsetospeed chdir chmod chown dup dup2 fchmod fchown fcntl fstat fstatfs getdirentries getegid geteuid getgid getpid getppid getrusage gettimeofday getuid ioctl kill link lseek lstat mkdir pipe readlink rmdir setreuid setregid stat sigprocmask stat symlink tcgetattr tcsetattr tcsendbreak tcdrain tcflush tcflow tcgetpgrp tcsetpgrp time umask unlink
  do
! as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
! echo "$as_me:$LINENO: checking for $ac_func" >&5
! echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
! if eval "test \"\${$as_ac_var+set}\" = set"; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
--- 6269,6279 ----
  
  for ac_func in access cfgetispeed cfgetospeed cfsetispeed cfsetospeed chdir chmod chown dup dup2 fchmod fchown fcntl fstat fstatfs getdirentries getegid geteuid getgid getpid getppid getrusage gettimeofday getuid ioctl kill link lseek lstat mkdir pipe readlink rmdir setreuid setregid stat sigprocmask stat symlink tcgetattr tcsetattr tcsendbreak tcdrain tcflush tcflow tcgetpgrp tcsetpgrp time umask unlink
  do
! as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
! { $as_echo "$as_me:$LINENO: checking for $ac_func" >&5
! $as_echo_n "checking for $ac_func... " >&6; }
! if { as_var=$as_ac_var; eval "test \"\${$as_var+set}\" = set"; }; then
!   $as_echo_n "(cached) " >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
***************
*** 5183,5253 ****
  
  #undef $ac_func
  
! /* Override any gcc2 internal prototype to avoid an error.  */
  #ifdef __cplusplus
  extern "C"
- {
  #endif
- /* We use char because int might match the return type of a gcc2
-    builtin and then its argument prototype would still apply.  */
  char $ac_func ();
  /* The GNU C library defines this for functions which it implements
      to always fail with ENOSYS.  Some functions are actually named
      something starting with __ and the normal name is an alias.  */
! #if defined (__stub_$ac_func) || defined (__stub___$ac_func)
  choke me
- #else
- char (*f) () = $ac_func;
- #endif
- #ifdef __cplusplus
- }
  #endif
  
  int
  main ()
  {
! return f != $ac_func;
    ;
    return 0;
  }
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
    eval "$as_ac_var=yes"
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! eval "$as_ac_var=no"
  fi
! rm -f conftest.err conftest.$ac_objext \
        conftest$ac_exeext conftest.$ac_ext
  fi
! echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
! echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
! if test `eval echo '${'$as_ac_var'}'` = yes; then
    cat >>confdefs.h <<_ACEOF
! #define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
  _ACEOF
  
  fi
--- 6298,6366 ----
  
  #undef $ac_func
  
! /* Override any GCC internal prototype to avoid an error.
!    Use char because int might match the return type of a GCC
!    builtin and then its argument prototype would still apply.  */
  #ifdef __cplusplus
  extern "C"
  #endif
  char $ac_func ();
  /* The GNU C library defines this for functions which it implements
      to always fail with ENOSYS.  Some functions are actually named
      something starting with __ and the normal name is an alias.  */
! #if defined __stub_$ac_func || defined __stub___$ac_func
  choke me
  #endif
  
  int
  main ()
  {
! return $ac_func ();
    ;
    return 0;
  }
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
! if { (ac_try="$ac_link"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_link") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest$ac_exeext && {
! 	 test "$cross_compiling" = yes ||
! 	 $as_test_x conftest$ac_exeext
!        }; then
    eval "$as_ac_var=yes"
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	eval "$as_ac_var=no"
  fi
! 
! rm -rf conftest.dSYM
! rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
        conftest$ac_exeext conftest.$ac_ext
  fi
! ac_res=`eval 'as_val=${'$as_ac_var'}
! 		 $as_echo "$as_val"'`
! 	       { $as_echo "$as_me:$LINENO: result: $ac_res" >&5
! $as_echo "$ac_res" >&6; }
! if test `eval 'as_val=${'$as_ac_var'}
! 		 $as_echo "$as_val"'` = yes; then
    cat >>confdefs.h <<_ACEOF
! #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
  _ACEOF
  
  fi
***************
*** 5274,5292 ****
  
  for ac_header in fcntl.h stdlib.h string.h strings.h sys/ioctl.h sys/mount.h sys/param.h sys/resource.h sys/stat.h sys/termio.h sys/termios.h sys/time.h sys/times.h sys/types.h time.h unistd.h sys/vfs.h sys/statfs.h
  do
! as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
! if eval "test \"\${$as_ac_Header+set}\" = set"; then
!   echo "$as_me:$LINENO: checking for $ac_header" >&5
! echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
! if eval "test \"\${$as_ac_Header+set}\" = set"; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
! fi
! echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
! echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
  else
    # Is the header compilable?
! echo "$as_me:$LINENO: checking $ac_header usability" >&5
! echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6
  cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
--- 6387,6407 ----
  
  for ac_header in fcntl.h stdlib.h string.h strings.h sys/ioctl.h sys/mount.h sys/param.h sys/resource.h sys/stat.h sys/termio.h sys/termios.h sys/time.h sys/times.h sys/types.h time.h unistd.h sys/vfs.h sys/statfs.h
  do
! as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
! if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
!   { $as_echo "$as_me:$LINENO: checking for $ac_header" >&5
! $as_echo_n "checking for $ac_header... " >&6; }
! if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
!   $as_echo_n "(cached) " >&6
! fi
! ac_res=`eval 'as_val=${'$as_ac_Header'}
! 		 $as_echo "$as_val"'`
! 	       { $as_echo "$as_me:$LINENO: result: $ac_res" >&5
! $as_echo "$ac_res" >&6; }
  else
    # Is the header compilable?
! { $as_echo "$as_me:$LINENO: checking $ac_header usability" >&5
! $as_echo_n "checking $ac_header usability... " >&6; }
  cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
***************
*** 5297,5337 ****
  #include <$ac_header>
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
    ac_header_compiler=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_header_compiler=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
! echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
! echo "${ECHO_T}$ac_header_compiler" >&6
  
  # Is the header present?
! echo "$as_me:$LINENO: checking $ac_header presence" >&5
! echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6
  cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
--- 6412,6449 ----
  #include <$ac_header>
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
    ac_header_compiler=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	ac_header_compiler=no
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
! { $as_echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
! $as_echo "$ac_header_compiler" >&6; }
  
  # Is the header present?
! { $as_echo "$as_me:$LINENO: checking $ac_header presence" >&5
! $as_echo_n "checking $ac_header presence... " >&6; }
  cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
***************
*** 5340,5420 ****
  /* end confdefs.h.  */
  #include <$ac_header>
  _ACEOF
! if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
!   (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } >/dev/null; then
!   if test -s conftest.err; then
!     ac_cpp_err=$ac_c_preproc_warn_flag
!     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
!   else
!     ac_cpp_err=
!   fi
! else
!   ac_cpp_err=yes
! fi
! if test -z "$ac_cpp_err"; then
    ac_header_preproc=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
    ac_header_preproc=no
  fi
  rm -f conftest.err conftest.$ac_ext
! echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
! echo "${ECHO_T}$ac_header_preproc" >&6
  
  # So?  What about this header?
  case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
    yes:no: )
!     { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
! echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
!     { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
! echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
      ac_header_preproc=yes
      ;;
    no:yes:* )
!     { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
! echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
!     { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
! echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
!     { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
! echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
!     { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
! echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
!     { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
! echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
!     { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
! echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
!     (
!       cat <<\_ASBOX
! ## ------------------------------------------ ##
! ## Report this to the AC_PACKAGE_NAME lists.  ##
! ## ------------------------------------------ ##
! _ASBOX
!     ) |
!       sed "s/^/$as_me: WARNING:     /" >&2
      ;;
  esac
! echo "$as_me:$LINENO: checking for $ac_header" >&5
! echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
! if eval "test \"\${$as_ac_Header+set}\" = set"; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    eval "$as_ac_Header=\$ac_header_preproc"
  fi
! echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
! echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
  
  fi
! if test `eval echo '${'$as_ac_Header'}'` = yes; then
    cat >>confdefs.h <<_ACEOF
! #define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
  _ACEOF
  
  fi
--- 6452,6528 ----
  /* end confdefs.h.  */
  #include <$ac_header>
  _ACEOF
! if { (ac_try="$ac_cpp conftest.$ac_ext"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_cpp conftest.$ac_ext") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } >/dev/null && {
! 	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        }; then
    ac_header_preproc=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
    ac_header_preproc=no
  fi
+ 
  rm -f conftest.err conftest.$ac_ext
! { $as_echo "$as_me:$LINENO: result: $ac_header_preproc" >&5
! $as_echo "$ac_header_preproc" >&6; }
  
  # So?  What about this header?
  case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
    yes:no: )
!     { $as_echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
! $as_echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
!     { $as_echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
! $as_echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
      ac_header_preproc=yes
      ;;
    no:yes:* )
!     { $as_echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
! $as_echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
!     { $as_echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
! $as_echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
!     { $as_echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
! $as_echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
!     { $as_echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
! $as_echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
!     { $as_echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
! $as_echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
!     { $as_echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
! $as_echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
! 
      ;;
  esac
! { $as_echo "$as_me:$LINENO: checking for $ac_header" >&5
! $as_echo_n "checking for $ac_header... " >&6; }
! if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
!   $as_echo_n "(cached) " >&6
  else
    eval "$as_ac_Header=\$ac_header_preproc"
  fi
! ac_res=`eval 'as_val=${'$as_ac_Header'}
! 		 $as_echo "$as_val"'`
! 	       { $as_echo "$as_me:$LINENO: result: $ac_res" >&5
! $as_echo "$ac_res" >&6; }
  
  fi
! if test `eval 'as_val=${'$as_ac_Header'}
! 		 $as_echo "$as_val"'` = yes; then
    cat >>confdefs.h <<_ACEOF
! #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
  _ACEOF
  
  fi
***************
*** 5426,5635 ****
  
  
  
! ac_header_dirent=no
! for ac_hdr in dirent.h sys/ndir.h sys/dir.h ndir.h; do
!   as_ac_Header=`echo "ac_cv_header_dirent_$ac_hdr" | $as_tr_sh`
! echo "$as_me:$LINENO: checking for $ac_hdr that defines DIR" >&5
! echo $ECHO_N "checking for $ac_hdr that defines DIR... $ECHO_C" >&6
! if eval "test \"\${$as_ac_Header+set}\" = set"; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
! else
!   cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! #include <sys/types.h>
! #include <$ac_hdr>
! 
! int
! main ()
! {
! if ((DIR *) 0)
! return 0;
!   ;
!   return 0;
! }
! _ACEOF
! rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
!   ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   eval "$as_ac_Header=yes"
! else
!   echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
! 
! eval "$as_ac_Header=no"
! fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
! fi
! echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
! echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
! if test `eval echo '${'$as_ac_Header'}'` = yes; then
!   cat >>confdefs.h <<_ACEOF
! #define `echo "HAVE_$ac_hdr" | $as_tr_cpp` 1
! _ACEOF
! 
! ac_header_dirent=$ac_hdr; break
! fi
! 
! done
! # Two versions of opendir et al. are in -ldir and -lx on SCO Xenix.
! if test $ac_header_dirent = dirent.h; then
!   echo "$as_me:$LINENO: checking for library containing opendir" >&5
! echo $ECHO_N "checking for library containing opendir... $ECHO_C" >&6
! if test "${ac_cv_search_opendir+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
! else
!   ac_func_search_save_LIBS=$LIBS
! ac_cv_search_opendir=no
! cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! 
! /* Override any gcc2 internal prototype to avoid an error.  */
! #ifdef __cplusplus
! extern "C"
! #endif
! /* We use char because int might match the return type of a gcc2
!    builtin and then its argument prototype would still apply.  */
! char opendir ();
! int
! main ()
! {
! opendir ();
!   ;
!   return 0;
! }
! _ACEOF
! rm -f conftest.$ac_objext conftest$ac_exeext
! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
!   ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   ac_cv_search_opendir="none required"
! else
!   echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
! 
! fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
! if test "$ac_cv_search_opendir" = no; then
!   for ac_lib in dir; do
!     LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
!     cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
  
- /* Override any gcc2 internal prototype to avoid an error.  */
- #ifdef __cplusplus
- extern "C"
- #endif
- /* We use char because int might match the return type of a gcc2
-    builtin and then its argument prototype would still apply.  */
- char opendir ();
  int
  main ()
  {
! opendir ();
    ;
    return 0;
  }
  _ACEOF
! rm -f conftest.$ac_objext conftest$ac_exeext
! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   ac_cv_search_opendir="-l$ac_lib"
! break
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
!   done
! fi
! LIBS=$ac_func_search_save_LIBS
  fi
! echo "$as_me:$LINENO: result: $ac_cv_search_opendir" >&5
! echo "${ECHO_T}$ac_cv_search_opendir" >&6
! if test "$ac_cv_search_opendir" != no; then
!   test "$ac_cv_search_opendir" = "none required" || LIBS="$ac_cv_search_opendir $LIBS"
  
  fi
  
! else
!   echo "$as_me:$LINENO: checking for library containing opendir" >&5
! echo $ECHO_N "checking for library containing opendir... $ECHO_C" >&6
  if test "${ac_cv_search_opendir+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    ac_func_search_save_LIBS=$LIBS
- ac_cv_search_opendir=no
  cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
--- 6534,6615 ----
  
  
  
! ac_header_dirent=no
! for ac_hdr in dirent.h sys/ndir.h sys/dir.h ndir.h; do
!   as_ac_Header=`$as_echo "ac_cv_header_dirent_$ac_hdr" | $as_tr_sh`
! { $as_echo "$as_me:$LINENO: checking for $ac_hdr that defines DIR" >&5
! $as_echo_n "checking for $ac_hdr that defines DIR... " >&6; }
! if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
!   $as_echo_n "(cached) " >&6
! else
!   cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
+ #include <sys/types.h>
+ #include <$ac_hdr>
  
  int
  main ()
  {
! if ((DIR *) 0)
! return 0;
    ;
    return 0;
  }
  _ACEOF
! rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   eval "$as_ac_Header=yes"
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
+ 	eval "$as_ac_Header=no"
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! ac_res=`eval 'as_val=${'$as_ac_Header'}
! 		 $as_echo "$as_val"'`
! 	       { $as_echo "$as_me:$LINENO: result: $ac_res" >&5
! $as_echo "$ac_res" >&6; }
! if test `eval 'as_val=${'$as_ac_Header'}
! 		 $as_echo "$as_val"'` = yes; then
!   cat >>confdefs.h <<_ACEOF
! #define `$as_echo "HAVE_$ac_hdr" | $as_tr_cpp` 1
! _ACEOF
  
+ ac_header_dirent=$ac_hdr; break
  fi
  
! done
! # Two versions of opendir et al. are in -ldir and -lx on SCO Xenix.
! if test $ac_header_dirent = dirent.h; then
!   { $as_echo "$as_me:$LINENO: checking for library containing opendir" >&5
! $as_echo_n "checking for library containing opendir... " >&6; }
  if test "${ac_cv_search_opendir+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    ac_func_search_save_LIBS=$LIBS
  cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
***************
*** 5637,5751 ****
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
  
! /* Override any gcc2 internal prototype to avoid an error.  */
  #ifdef __cplusplus
  extern "C"
  #endif
- /* We use char because int might match the return type of a gcc2
-    builtin and then its argument prototype would still apply.  */
  char opendir ();
  int
  main ()
  {
! opendir ();
    ;
    return 0;
  }
  _ACEOF
! rm -f conftest.$ac_objext conftest$ac_exeext
! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   ac_cv_search_opendir="none required"
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
! if test "$ac_cv_search_opendir" = no; then
!   for ac_lib in x; do
!     LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
!     cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
  
! /* Override any gcc2 internal prototype to avoid an error.  */
  #ifdef __cplusplus
  extern "C"
  #endif
- /* We use char because int might match the return type of a gcc2
-    builtin and then its argument prototype would still apply.  */
  char opendir ();
  int
  main ()
  {
! opendir ();
    ;
    return 0;
  }
  _ACEOF
! rm -f conftest.$ac_objext conftest$ac_exeext
! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   ac_cv_search_opendir="-l$ac_lib"
! break
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
!   done
  fi
  LIBS=$ac_func_search_save_LIBS
  fi
! echo "$as_me:$LINENO: result: $ac_cv_search_opendir" >&5
! echo "${ECHO_T}$ac_cv_search_opendir" >&6
! if test "$ac_cv_search_opendir" != no; then
!   test "$ac_cv_search_opendir" = "none required" || LIBS="$ac_cv_search_opendir $LIBS"
  
  fi
  
--- 6617,6781 ----
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
  
! /* Override any GCC internal prototype to avoid an error.
!    Use char because int might match the return type of a GCC
!    builtin and then its argument prototype would still apply.  */
  #ifdef __cplusplus
  extern "C"
  #endif
  char opendir ();
  int
  main ()
  {
! return opendir ();
    ;
    return 0;
  }
  _ACEOF
! for ac_lib in '' dir; do
!   if test -z "$ac_lib"; then
!     ac_res="none required"
!   else
!     ac_res=-l$ac_lib
!     LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
!   fi
!   rm -f conftest.$ac_objext conftest$ac_exeext
! if { (ac_try="$ac_link"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_link") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest$ac_exeext && {
! 	 test "$cross_compiling" = yes ||
! 	 $as_test_x conftest$ac_exeext
!        }; then
!   ac_cv_search_opendir=$ac_res
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
+ 
  fi
! 
! rm -rf conftest.dSYM
! rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
!       conftest$ac_exeext
!   if test "${ac_cv_search_opendir+set}" = set; then
!   break
! fi
! done
! if test "${ac_cv_search_opendir+set}" = set; then
!   :
! else
!   ac_cv_search_opendir=no
! fi
! rm conftest.$ac_ext
! LIBS=$ac_func_search_save_LIBS
! fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_search_opendir" >&5
! $as_echo "$ac_cv_search_opendir" >&6; }
! ac_res=$ac_cv_search_opendir
! if test "$ac_res" != no; then
!   test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
! 
! fi
! 
! else
!   { $as_echo "$as_me:$LINENO: checking for library containing opendir" >&5
! $as_echo_n "checking for library containing opendir... " >&6; }
! if test "${ac_cv_search_opendir+set}" = set; then
!   $as_echo_n "(cached) " >&6
! else
!   ac_func_search_save_LIBS=$LIBS
! cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
  
! /* Override any GCC internal prototype to avoid an error.
!    Use char because int might match the return type of a GCC
!    builtin and then its argument prototype would still apply.  */
  #ifdef __cplusplus
  extern "C"
  #endif
  char opendir ();
  int
  main ()
  {
! return opendir ();
    ;
    return 0;
  }
  _ACEOF
! for ac_lib in '' x; do
!   if test -z "$ac_lib"; then
!     ac_res="none required"
!   else
!     ac_res=-l$ac_lib
!     LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
!   fi
!   rm -f conftest.$ac_objext conftest$ac_exeext
! if { (ac_try="$ac_link"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_link") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest$ac_exeext && {
! 	 test "$cross_compiling" = yes ||
! 	 $as_test_x conftest$ac_exeext
!        }; then
!   ac_cv_search_opendir=$ac_res
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
+ 
  fi
! 
! rm -rf conftest.dSYM
! rm -f core conftest.err conftest.$ac_objext conftest_ipa8_conftest.oo \
!       conftest$ac_exeext
!   if test "${ac_cv_search_opendir+set}" = set; then
!   break
  fi
+ done
+ if test "${ac_cv_search_opendir+set}" = set; then
+   :
+ else
+   ac_cv_search_opendir=no
+ fi
+ rm conftest.$ac_ext
  LIBS=$ac_func_search_save_LIBS
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_search_opendir" >&5
! $as_echo "$ac_cv_search_opendir" >&6; }
! ac_res=$ac_cv_search_opendir
! if test "$ac_res" != no; then
!   test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  
  fi
  
***************
*** 5753,5762 ****
  
  
  sim_termio=""
! echo "$as_me:$LINENO: checking for struct termios" >&5
! echo $ECHO_N "checking for struct termios... $ECHO_C" >&6
  if test "${ac_cv_termios_struct+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
--- 6783,6792 ----
  
  
  sim_termio=""
! { $as_echo "$as_me:$LINENO: checking for struct termios" >&5
! $as_echo_n "checking for struct termios... " >&6; }
  if test "${ac_cv_termios_struct+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
***************
*** 5780,5827 ****
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
    ac_cv_termios_struct=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_cv_termios_struct=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
  
! echo "$as_me:$LINENO: result: $ac_cv_termios_struct" >&5
! echo "${ECHO_T}$ac_cv_termios_struct" >&6
  if test $ac_cv_termios_struct = yes; then
    sim_termio="$sim_termio -DHAVE_TERMIOS_STRUCTURE"
  fi
  
  if test "$ac_cv_termios_struct" = "yes"; then
!   echo "$as_me:$LINENO: checking for c_line field in struct termios" >&5
! echo $ECHO_N "checking for c_line field in struct termios... $ECHO_C" >&6
    if test "${ac_cv_termios_cline+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
--- 6810,6854 ----
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
    ac_cv_termios_struct=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	ac_cv_termios_struct=no
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
  
! { $as_echo "$as_me:$LINENO: result: $ac_cv_termios_struct" >&5
! $as_echo "$ac_cv_termios_struct" >&6; }
  if test $ac_cv_termios_struct = yes; then
    sim_termio="$sim_termio -DHAVE_TERMIOS_STRUCTURE"
  fi
  
  if test "$ac_cv_termios_struct" = "yes"; then
!   { $as_echo "$as_me:$LINENO: checking for c_line field in struct termios" >&5
! $as_echo_n "checking for c_line field in struct termios... " >&6; }
    if test "${ac_cv_termios_cline+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
***************
*** 5840,5879 ****
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
    ac_cv_termios_cline=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_cv_termios_cline=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
  
  
!   echo "$as_me:$LINENO: result: $ac_cv_termios_cline" >&5
! echo "${ECHO_T}$ac_cv_termios_cline" >&6
    if test $ac_cv_termios_cline = yes; then
      sim_termio="$sim_termio -DHAVE_TERMIOS_CLINE"
    fi
--- 6867,6903 ----
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
    ac_cv_termios_cline=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	ac_cv_termios_cline=no
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
  
  
!   { $as_echo "$as_me:$LINENO: result: $ac_cv_termios_cline" >&5
! $as_echo "$ac_cv_termios_cline" >&6; }
    if test $ac_cv_termios_cline = yes; then
      sim_termio="$sim_termio -DHAVE_TERMIOS_CLINE"
    fi
***************
*** 5882,5891 ****
  fi
  
  if test "$ac_cv_termios_struct" != "yes"; then
!   echo "$as_me:$LINENO: checking for struct termio" >&5
! echo $ECHO_N "checking for struct termio... $ECHO_C" >&6
    if test "${ac_cv_termio_struct+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
--- 6906,6915 ----
  fi
  
  if test "$ac_cv_termios_struct" != "yes"; then
!   { $as_echo "$as_me:$LINENO: checking for struct termio" >&5
! $as_echo_n "checking for struct termio... " >&6; }
    if test "${ac_cv_termio_struct+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
***************
*** 5909,5947 ****
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
    ac_cv_termio_struct=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_cv_termio_struct=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
  
!   echo "$as_me:$LINENO: result: $ac_cv_termio_struct" >&5
! echo "${ECHO_T}$ac_cv_termio_struct" >&6
    if test $ac_cv_termio_struct = yes; then
      sim_termio="$sim_termio -DHAVE_TERMIO_STRUCTURE"
    fi
--- 6933,6968 ----
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
    ac_cv_termio_struct=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	ac_cv_termio_struct=no
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
  
!   { $as_echo "$as_me:$LINENO: result: $ac_cv_termio_struct" >&5
! $as_echo "$ac_cv_termio_struct" >&6; }
    if test $ac_cv_termio_struct = yes; then
      sim_termio="$sim_termio -DHAVE_TERMIO_STRUCTURE"
    fi
***************
*** 5950,5959 ****
  fi
  
  if test "$ac_cv_termio_struct" = "yes"; then
!   echo "$as_me:$LINENO: checking for c_line field in struct termio" >&5
! echo $ECHO_N "checking for c_line field in struct termio... $ECHO_C" >&6
    if test "${ac_cv_termio_cline+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
--- 6971,6980 ----
  fi
  
  if test "$ac_cv_termio_struct" = "yes"; then
!   { $as_echo "$as_me:$LINENO: checking for c_line field in struct termio" >&5
! $as_echo_n "checking for c_line field in struct termio... " >&6; }
    if test "${ac_cv_termio_cline+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
***************
*** 5972,6011 ****
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
    ac_cv_termio_cline=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_cv_termio_cline=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
  
  
!   echo "$as_me:$LINENO: result: $ac_cv_termio_cline" >&5
! echo "${ECHO_T}$ac_cv_termio_cline" >&6
    if test $ac_cv_termio_cline = yes; then
      sim_termio="$sim_termio -DHAVE_TERMIO_CLINE"
    fi
--- 6993,7029 ----
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
    ac_cv_termio_cline=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	ac_cv_termio_cline=no
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
  
  
!   { $as_echo "$as_me:$LINENO: result: $ac_cv_termio_cline" >&5
! $as_echo "$ac_cv_termio_cline" >&6; }
    if test $ac_cv_termio_cline = yes; then
      sim_termio="$sim_termio -DHAVE_TERMIO_CLINE"
    fi
***************
*** 6013,6022 ****
    ac_cv_termio_cline=no
  fi
  
! echo "$as_me:$LINENO: checking for struct statfs" >&5
! echo $ECHO_N "checking for struct statfs... $ECHO_C" >&6
  if test "${ac_cv_struct_statfs+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
--- 7031,7040 ----
    ac_cv_termio_cline=no
  fi
  
! { $as_echo "$as_me:$LINENO: checking for struct statfs" >&5
! $as_echo_n "checking for struct statfs... " >&6; }
  if test "${ac_cv_struct_statfs+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
***************
*** 6046,6084 ****
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
    ac_cv_struct_statfs=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_cv_struct_statfs=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
  
! echo "$as_me:$LINENO: result: $ac_cv_struct_statfs" >&5
! echo "${ECHO_T}$ac_cv_struct_statfs" >&6
  if test $ac_cv_struct_statfs = yes; then
  
  cat >>confdefs.h <<\_ACEOF
--- 7064,7099 ----
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
    ac_cv_struct_statfs=yes
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 	ac_cv_struct_statfs=no
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
  
! { $as_echo "$as_me:$LINENO: result: $ac_cv_struct_statfs" >&5
! $as_echo "$ac_cv_struct_statfs" >&6; }
  if test $ac_cv_struct_statfs = yes; then
  
  cat >>confdefs.h <<\_ACEOF
***************
*** 6087,6098 ****
  
  fi
  
! echo "$as_me:$LINENO: checking for long long" >&5
! echo $ECHO_N "checking for long long... $ECHO_C" >&6
  if test "${ac_cv_type_long_long+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
!   cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 7102,7114 ----
  
  fi
  
! { $as_echo "$as_me:$LINENO: checking for long long" >&5
! $as_echo_n "checking for long long... " >&6; }
  if test "${ac_cv_type_long_long+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
!   ac_cv_type_long_long=no
! cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
***************
*** 6102,6148 ****
  int
  main ()
  {
- if ((long long *) 0)
-   return 0;
  if (sizeof (long long))
!   return 0;
    ;
    return 0;
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
    ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; }; then
!   ac_cv_type_long_long=yes
  else
!   echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! ac_cv_type_long_long=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! echo "$as_me:$LINENO: result: $ac_cv_type_long_long" >&5
! echo "${ECHO_T}$ac_cv_type_long_long" >&6
  if test $ac_cv_type_long_long = yes; then
  
  cat >>confdefs.h <<_ACEOF
--- 7118,7201 ----
  int
  main ()
  {
  if (sizeof (long long))
!        return 0;
    ;
    return 0;
  }
  _ACEOF
  rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
    grep -v '^ *+' conftest.er1 >conftest.err
    rm -f conftest.er1
    cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   cat >conftest.$ac_ext <<_ACEOF
! /* confdefs.h.  */
! _ACEOF
! cat confdefs.h >>conftest.$ac_ext
! cat >>conftest.$ac_ext <<_ACEOF
! /* end confdefs.h.  */
! $ac_includes_default
! int
! main ()
! {
! if (sizeof ((long long)))
! 	  return 0;
!   ;
!   return 0;
! }
! _ACEOF
! rm -f conftest.$ac_objext
! if { (ac_try="$ac_compile"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_compile") 2>conftest.er1
    ac_status=$?
!   grep -v '^ *+' conftest.er1 >conftest.err
!   rm -f conftest.er1
!   cat conftest.err >&5
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && {
! 	 test -z "$ac_c_werror_flag" ||
! 	 test ! -s conftest.err
!        } && test -s conftest.$ac_objext; then
!   :
! else
!   $as_echo "$as_me: failed program was:" >&5
! sed 's/^/| /' conftest.$ac_ext >&5
! 
! 	ac_cv_type_long_long=yes
! fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  else
!   $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
! 
  fi
! 
! rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
! { $as_echo "$as_me:$LINENO: result: $ac_cv_type_long_long" >&5
! $as_echo "$ac_cv_type_long_long" >&6; }
  if test $ac_cv_type_long_long = yes; then
  
  cat >>confdefs.h <<_ACEOF
***************
*** 6154,6163 ****
  
  
  sim_devzero=""
! echo "$as_me:$LINENO: checking for /dev/zero" >&5
! echo $ECHO_N "checking for /dev/zero... $ECHO_C" >&6
  if test "${ac_cv_devzero+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    if test "$cross_compiling" = yes; then
    ac_cv_devzero=no
--- 7207,7216 ----
  
  
  sim_devzero=""
! { $as_echo "$as_me:$LINENO: checking for /dev/zero" >&5
! $as_echo_n "checking for /dev/zero... " >&6; }
  if test "${ac_cv_devzero+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    if test "$cross_compiling" = yes; then
    ac_cv_devzero=no
***************
*** 6186,6250 ****
  }
  _ACEOF
  rm -f conftest$ac_exeext
! if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
    ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }; }; then
    ac_cv_devzero=yes
  else
!   echo "$as_me: program exited with status $ac_status" >&5
! echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
  ( exit $ac_status )
  ac_cv_devzero=no
  fi
! rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
  fi
  fi
  
! echo "$as_me:$LINENO: result: $ac_cv_devzero" >&5
! echo "${ECHO_T}$ac_cv_devzero" >&6
  if test $ac_cv_devzero = yes; then
    sim_devzero="-DHAVE_DEVZERO"
  else
    sim_devzero=""
  fi
  
! echo "$as_me:$LINENO: checking for common simulator directory" >&5
! echo $ECHO_N "checking for common simulator directory... $ECHO_C" >&6
  if test -f "${srcdir}/../common/callback.c"; then
!   echo "$as_me:$LINENO: result: yes" >&5
! echo "${ECHO_T}yes" >&6
    sim_callback="callback.o targ-map.o"
    sim_targ_vals="targ-vals.h targ-map.c targ-vals.def"
  else
!   echo "$as_me:$LINENO: result: no" >&5
! echo "${ECHO_T}no" >&6
    sim_callback=""
    sim_targ_vals=""
  fi
  
! echo "$as_me:$LINENO: checking for common simulator directory fpu implementation" >&5
! echo $ECHO_N "checking for common simulator directory fpu implementation... $ECHO_C" >&6
  if test -f "${srcdir}/../common/sim-fpu.c"; then
!   echo "$as_me:$LINENO: result: yes" >&5
! echo "${ECHO_T}yes" >&6
    sim_fpu_cflags="-DHAVE_COMMON_FPU -I../common -I${srcdir}/../common"
    sim_fpu="sim-fpu.o"
  else
!   echo "$as_me:$LINENO: result: no" >&5
! echo "${ECHO_T}no" >&6
    sim_fpu_cflags=
    sim_fpu=
  fi
  
  
  
  
--- 7239,7346 ----
  }
  _ACEOF
  rm -f conftest$ac_exeext
! if { (ac_try="$ac_link"
! case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_link") 2>&5
    ac_status=$?
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
!   { (case "(($ac_try" in
!   *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
!   *) ac_try_echo=$ac_try;;
! esac
! eval ac_try_echo="\"\$as_me:$LINENO: $ac_try_echo\""
! $as_echo "$ac_try_echo") >&5
!   (eval "$ac_try") 2>&5
    ac_status=$?
!   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }; }; then
    ac_cv_devzero=yes
  else
!   $as_echo "$as_me: program exited with status $ac_status" >&5
! $as_echo "$as_me: failed program was:" >&5
  sed 's/^/| /' conftest.$ac_ext >&5
  
  ( exit $ac_status )
  ac_cv_devzero=no
  fi
! rm -rf conftest.dSYM
! rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
  fi
+ 
+ 
  fi
  
! { $as_echo "$as_me:$LINENO: result: $ac_cv_devzero" >&5
! $as_echo "$ac_cv_devzero" >&6; }
  if test $ac_cv_devzero = yes; then
    sim_devzero="-DHAVE_DEVZERO"
  else
    sim_devzero=""
  fi
  
! { $as_echo "$as_me:$LINENO: checking for common simulator directory" >&5
! $as_echo_n "checking for common simulator directory... " >&6; }
  if test -f "${srcdir}/../common/callback.c"; then
!   { $as_echo "$as_me:$LINENO: result: yes" >&5
! $as_echo "yes" >&6; }
    sim_callback="callback.o targ-map.o"
    sim_targ_vals="targ-vals.h targ-map.c targ-vals.def"
  else
!   { $as_echo "$as_me:$LINENO: result: no" >&5
! $as_echo "no" >&6; }
    sim_callback=""
    sim_targ_vals=""
  fi
  
! { $as_echo "$as_me:$LINENO: checking for common simulator directory fpu implementation" >&5
! $as_echo_n "checking for common simulator directory fpu implementation... " >&6; }
  if test -f "${srcdir}/../common/sim-fpu.c"; then
!   { $as_echo "$as_me:$LINENO: result: yes" >&5
! $as_echo "yes" >&6; }
    sim_fpu_cflags="-DHAVE_COMMON_FPU -I../common -I${srcdir}/../common"
    sim_fpu="sim-fpu.o"
  else
!   { $as_echo "$as_me:$LINENO: result: no" >&5
! $as_echo "no" >&6; }
    sim_fpu_cflags=
    sim_fpu=
  fi
  
+ case ${host_os} in
+   *linux*)
+     sim_async_io_src=async_io.c
+     sim_async_io_obj=async_io.o
+   ;;
+   *)
+     { $as_echo "$as_me:$LINENO: Removing 'ethtap' device on non-linux host" >&5
+ $as_echo "$as_me: Removing 'ethtap' device on non-linux host" >&6;}
+     sim_hw_src=`echo $sim_hw_src | sed -e 's/hw_ethtap.c//g'`
+     sim_hw_obj=`echo $sim_hw_obj | sed -e 's/hw_ethtap.o//g'`
+     if test x"$silent" != x"yes"; then
+       echo "Setting hardware to $sim_hw_src, $sim_hw_obj"
+     fi
+     sim_async_io_src=
+     sim_async_io_obj=
+   ;;
+ esac
+ case ${sim_hw_src} in
+   *hw_ethtap*)
+ 
+ cat >>confdefs.h <<\_ACEOF
+ #define HAVE_ETHTAP 1
+ _ACEOF
+ 
+   ;;
+   *)
+   ;;
+ esac
+ 
  
  
  
***************
*** 6256,6265 ****
  if test -n "$ac_tool_prefix"; then
    # Extract the first word of "${ac_tool_prefix}ranlib", so it can be a program name with args.
  set dummy ${ac_tool_prefix}ranlib; ac_word=$2
! echo "$as_me:$LINENO: checking for $ac_word" >&5
! echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
  if test "${ac_cv_prog_RANLIB+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    if test -n "$RANLIB"; then
    ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
--- 7352,7361 ----
  if test -n "$ac_tool_prefix"; then
    # Extract the first word of "${ac_tool_prefix}ranlib", so it can be a program name with args.
  set dummy ${ac_tool_prefix}ranlib; ac_word=$2
! { $as_echo "$as_me:$LINENO: checking for $ac_word" >&5
! $as_echo_n "checking for $ac_word... " >&6; }
  if test "${ac_cv_prog_RANLIB+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    if test -n "$RANLIB"; then
    ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
***************
*** 6270,6303 ****
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
!   if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
      ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
!     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
      break 2
    fi
  done
  done
  
  fi
  fi
  RANLIB=$ac_cv_prog_RANLIB
  if test -n "$RANLIB"; then
!   echo "$as_me:$LINENO: result: $RANLIB" >&5
! echo "${ECHO_T}$RANLIB" >&6
  else
!   echo "$as_me:$LINENO: result: no" >&5
! echo "${ECHO_T}no" >&6
  fi
  
  fi
  if test -z "$ac_cv_prog_RANLIB"; then
    ac_ct_RANLIB=$RANLIB
    # Extract the first word of "ranlib", so it can be a program name with args.
  set dummy ranlib; ac_word=$2
! echo "$as_me:$LINENO: checking for $ac_word" >&5
! echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
  if test "${ac_cv_prog_ac_ct_RANLIB+set}" = set; then
!   echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    if test -n "$ac_ct_RANLIB"; then
    ac_cv_prog_ac_ct_RANLIB="$ac_ct_RANLIB" # Let the user override the test.
--- 7366,7401 ----
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
!   if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
      ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
!     $as_echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
      break 2
    fi
  done
  done
+ IFS=$as_save_IFS
  
  fi
  fi
  RANLIB=$ac_cv_prog_RANLIB
  if test -n "$RANLIB"; then
!   { $as_echo "$as_me:$LINENO: result: $RANLIB" >&5
! $as_echo "$RANLIB" >&6; }
  else
!   { $as_echo "$as_me:$LINENO: result: no" >&5
! $as_echo "no" >&6; }
  fi
  
+ 
  fi
  if test -z "$ac_cv_prog_RANLIB"; then
    ac_ct_RANLIB=$RANLIB
    # Extract the first word of "ranlib", so it can be a program name with args.
  set dummy ranlib; ac_word=$2
! { $as_echo "$as_me:$LINENO: checking for $ac_word" >&5
! $as_echo_n "checking for $ac_word... " >&6; }
  if test "${ac_cv_prog_ac_ct_RANLIB+set}" = set; then
!   $as_echo_n "(cached) " >&6
  else
    if test -n "$ac_ct_RANLIB"; then
    ac_cv_prog_ac_ct_RANLIB="$ac_ct_RANLIB" # Let the user override the test.
***************
*** 6308,6334 ****
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
!   if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
      ac_cv_prog_ac_ct_RANLIB="ranlib"
!     echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
      break 2
    fi
  done
  done
  
-   test -z "$ac_cv_prog_ac_ct_RANLIB" && ac_cv_prog_ac_ct_RANLIB=":"
  fi
  fi
  ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB
  if test -n "$ac_ct_RANLIB"; then
!   echo "$as_me:$LINENO: result: $ac_ct_RANLIB" >&5
! echo "${ECHO_T}$ac_ct_RANLIB" >&6
  else
!   echo "$as_me:$LINENO: result: no" >&5
! echo "${ECHO_T}no" >&6
  fi
  
!   RANLIB=$ac_ct_RANLIB
  else
    RANLIB="$ac_cv_prog_RANLIB"
  fi
--- 7406,7446 ----
    IFS=$as_save_IFS
    test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
!   if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
      ac_cv_prog_ac_ct_RANLIB="ranlib"
!     $as_echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
      break 2
    fi
  done
  done
+ IFS=$as_save_IFS
  
  fi
  fi
  ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB
  if test -n "$ac_ct_RANLIB"; then
!   { $as_echo "$as_me:$LINENO: result: $ac_ct_RANLIB" >&5
! $as_echo "$ac_ct_RANLIB" >&6; }
  else
!   { $as_echo "$as_me:$LINENO: result: no" >&5
! $as_echo "no" >&6; }
  fi
  
!   if test "x$ac_ct_RANLIB" = x; then
!     RANLIB=":"
!   else
!     case $cross_compiling:$ac_tool_warned in
! yes:)
! { $as_echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
! whose name does not start with the host triplet.  If you think this
! configuration is useful to you, please write to autoconf@gnu.org." >&5
! $as_echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
! whose name does not start with the host triplet.  If you think this
! configuration is useful to you, please write to autoconf@gnu.org." >&2;}
! ac_tool_warned=yes ;;
! esac
!     RANLIB=$ac_ct_RANLIB
!   fi
  else
    RANLIB="$ac_cv_prog_RANLIB"
  fi
***************
*** 6378,6385 ****
  
  
  
!           ac_config_files="$ac_config_files Makefile"
!           ac_config_commands="$ac_config_commands default"
  cat >confcache <<\_ACEOF
  # This file is a shell script that caches the results of configure
  # tests run on this system so they can be shared between configure
--- 7490,7501 ----
  
  
  
! 
! 
! ac_config_files="$ac_config_files Makefile"
! 
! ac_config_commands="$ac_config_commands default"
! 
  cat >confcache <<\_ACEOF
  # This file is a shell script that caches the results of configure
  # tests run on this system so they can be shared between configure
***************
*** 6398,6436 ****
  
  # The following way of writing the cache mishandles newlines in values,
  # but we know of no workaround that is simple, portable, and efficient.
! # So, don't put newlines in cache variables' values.
  # Ultrix sh set writes to stderr and can't be redirected directly,
  # and sets the high bit in the cache file unless we assign to the vars.
! {
    (set) 2>&1 |
!     case `(ac_space=' '; set | grep ac_space) 2>&1` in
!     *ac_space=\ *)
        # `set' does not quote correctly, so add quotes (double-quote
        # substitution turns \\\\ into \\, and sed turns \\ into \).
        sed -n \
  	"s/'/'\\\\''/g;
  	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
!       ;;
      *)
        # `set' quotes correctly as required by POSIX, so do not add quotes.
!       sed -n \
! 	"s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
        ;;
!     esac;
! } |
    sed '
       t clear
!      : clear
       s/^\([^=]*\)=\(.*[{}].*\)$/test "${\1+set}" = set || &/
       t end
!      /^ac_cv_env/!s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
!      : end' >>confcache
! if diff $cache_file confcache >/dev/null 2>&1; then :; else
!   if test -w $cache_file; then
!     test "x$cache_file" != "x/dev/null" && echo "updating cache $cache_file"
      cat confcache >$cache_file
    else
!     echo "not updating unwritable cache $cache_file"
    fi
  fi
  rm -f confcache
--- 7514,7572 ----
  
  # The following way of writing the cache mishandles newlines in values,
  # but we know of no workaround that is simple, portable, and efficient.
! # So, we kill variables containing newlines.
  # Ultrix sh set writes to stderr and can't be redirected directly,
  # and sets the high bit in the cache file unless we assign to the vars.
! (
!   for ac_var in `(set) 2>&1 | sed -n 's/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'`; do
!     eval ac_val=\$$ac_var
!     case $ac_val in #(
!     *${as_nl}*)
!       case $ac_var in #(
!       *_cv_*) { $as_echo "$as_me:$LINENO: WARNING: Cache variable $ac_var contains a newline." >&5
! $as_echo "$as_me: WARNING: Cache variable $ac_var contains a newline." >&2;} ;;
!       esac
!       case $ac_var in #(
!       _ | IFS | as_nl) ;; #(
!       BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(
!       *) $as_unset $ac_var ;;
!       esac ;;
!     esac
!   done
! 
    (set) 2>&1 |
!     case $as_nl`(ac_space=' '; set) 2>&1` in #(
!     *${as_nl}ac_space=\ *)
        # `set' does not quote correctly, so add quotes (double-quote
        # substitution turns \\\\ into \\, and sed turns \\ into \).
        sed -n \
  	"s/'/'\\\\''/g;
  	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
!       ;; #(
      *)
        # `set' quotes correctly as required by POSIX, so do not add quotes.
!       sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
        ;;
!     esac |
!     sort
! ) |
    sed '
+      /^ac_cv_env_/b end
       t clear
!      :clear
       s/^\([^=]*\)=\(.*[{}].*\)$/test "${\1+set}" = set || &/
       t end
!      s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
!      :end' >>confcache
! if diff "$cache_file" confcache >/dev/null 2>&1; then :; else
!   if test -w "$cache_file"; then
!     test "x$cache_file" != "x/dev/null" &&
!       { $as_echo "$as_me:$LINENO: updating cache $cache_file" >&5
! $as_echo "$as_me: updating cache $cache_file" >&6;}
      cat confcache >$cache_file
    else
!     { $as_echo "$as_me:$LINENO: not updating unwritable cache $cache_file" >&5
! $as_echo "$as_me: not updating unwritable cache $cache_file" >&6;}
    fi
  fi
  rm -f confcache
***************
*** 6439,6470 ****
  # Let make expand exec_prefix.
  test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'
  
- # VPATH may cause trouble with some makes, so we remove $(srcdir),
- # ${srcdir} and @srcdir@ from VPATH if srcdir is ".", strip leading and
- # trailing colons and then remove the whole line if VPATH becomes empty
- # (actually we leave an empty line to preserve line numbers).
- if test "x$srcdir" = x.; then
-   ac_vpsub='/^[	 ]*VPATH[	 ]*=/{
- s/:*\$(srcdir):*/:/;
- s/:*\${srcdir}:*/:/;
- s/:*@srcdir@:*/:/;
- s/^\([^=]*=[	 ]*\):*/\1/;
- s/:*$//;
- s/^[^=]*=[	 ]*$//;
- }'
- fi
- 
  DEFS=-DHAVE_CONFIG_H
  
  ac_libobjs=
  ac_ltlibobjs=
  for ac_i in : $LIBOBJS; do test "x$ac_i" = x: && continue
    # 1. Remove the extension, and $U if already installed.
!   ac_i=`echo "$ac_i" |
! 	 sed 's/\$U\././;s/\.o$//;s/\.obj$//'`
!   # 2. Add them.
!   ac_libobjs="$ac_libobjs $ac_i\$U.$ac_objext"
!   ac_ltlibobjs="$ac_ltlibobjs $ac_i"'$U.lo'
  done
  LIBOBJS=$ac_libobjs
  
--- 7575,7592 ----
  # Let make expand exec_prefix.
  test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'
  
  DEFS=-DHAVE_CONFIG_H
  
  ac_libobjs=
  ac_ltlibobjs=
  for ac_i in : $LIBOBJS; do test "x$ac_i" = x: && continue
    # 1. Remove the extension, and $U if already installed.
!   ac_script='s/\$U\././;s/\.o$//;s/\.obj$//'
!   ac_i=`$as_echo "$ac_i" | sed "$ac_script"`
!   # 2. Prepend LIBOBJDIR.  When used with automake>=1.10 LIBOBJDIR
!   #    will be set to the directory where LIBOBJS objects are built.
!   ac_libobjs="$ac_libobjs \${LIBOBJDIR}$ac_i\$U.$ac_objext"
!   ac_ltlibobjs="$ac_ltlibobjs \${LIBOBJDIR}$ac_i"'$U.lo'
  done
  LIBOBJS=$ac_libobjs
  
***************
*** 6473,6483 ****
  
  
  : ${CONFIG_STATUS=./config.status}
  ac_clean_files_save=$ac_clean_files
  ac_clean_files="$ac_clean_files $CONFIG_STATUS"
! { echo "$as_me:$LINENO: creating $CONFIG_STATUS" >&5
! echo "$as_me: creating $CONFIG_STATUS" >&6;}
! cat >$CONFIG_STATUS <<_ACEOF
  #! $SHELL
  # Generated by $as_me.
  # Run this file to recreate the current configuration.
--- 7595,7606 ----
  
  
  : ${CONFIG_STATUS=./config.status}
+ ac_write_fail=0
  ac_clean_files_save=$ac_clean_files
  ac_clean_files="$ac_clean_files $CONFIG_STATUS"
! { $as_echo "$as_me:$LINENO: creating $CONFIG_STATUS" >&5
! $as_echo "$as_me: creating $CONFIG_STATUS" >&6;}
! cat >$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
  #! $SHELL
  # Generated by $as_me.
  # Run this file to recreate the current configuration.
***************
*** 6490,6511 ****
  SHELL=\${CONFIG_SHELL-$SHELL}
  _ACEOF
  
! cat >>$CONFIG_STATUS <<\_ACEOF
  ## --------------------- ##
  ## M4sh Initialization.  ##
  ## --------------------- ##
  
! # Be Bourne compatible
  if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
    emulate sh
    NULLCMD=:
!   # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
    # is contrary to our usage.  Disable this feature.
    alias -g '${1+"$@"}'='"$@"'
! elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
!   set -o posix
  fi
- DUALCASE=1; export DUALCASE # for MKS sh
  
  # Support unset when possible.
  if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
--- 7613,7690 ----
  SHELL=\${CONFIG_SHELL-$SHELL}
  _ACEOF
  
! cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
  ## --------------------- ##
  ## M4sh Initialization.  ##
  ## --------------------- ##
  
! # Be more Bourne compatible
! DUALCASE=1; export DUALCASE # for MKS sh
  if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
    emulate sh
    NULLCMD=:
!   # Pre-4.2 versions of Zsh do word splitting on ${1+"$@"}, which
    # is contrary to our usage.  Disable this feature.
    alias -g '${1+"$@"}'='"$@"'
!   setopt NO_GLOB_SUBST
! else
!   case `(set -o) 2>/dev/null` in
!   *posix*) set -o posix ;;
! esac
! 
! fi
! 
! 
! 
! 
! # PATH needs CR
! # Avoid depending upon Character Ranges.
! as_cr_letters='abcdefghijklmnopqrstuvwxyz'
! as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
! as_cr_Letters=$as_cr_letters$as_cr_LETTERS
! as_cr_digits='0123456789'
! as_cr_alnum=$as_cr_Letters$as_cr_digits
! 
! as_nl='
! '
! export as_nl
! # Printing a long string crashes Solaris 7 /usr/bin/printf.
! as_echo='\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\'
! as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo
! as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo$as_echo
! if (test "X`printf %s $as_echo`" = "X$as_echo") 2>/dev/null; then
!   as_echo='printf %s\n'
!   as_echo_n='printf %s'
! else
!   if test "X`(/usr/ucb/echo -n -n $as_echo) 2>/dev/null`" = "X-n $as_echo"; then
!     as_echo_body='eval /usr/ucb/echo -n "$1$as_nl"'
!     as_echo_n='/usr/ucb/echo -n'
!   else
!     as_echo_body='eval expr "X$1" : "X\\(.*\\)"'
!     as_echo_n_body='eval
!       arg=$1;
!       case $arg in
!       *"$as_nl"*)
! 	expr "X$arg" : "X\\(.*\\)$as_nl";
! 	arg=`expr "X$arg" : ".*$as_nl\\(.*\\)"`;;
!       esac;
!       expr "X$arg" : "X\\(.*\\)" | tr -d "$as_nl"
!     '
!     export as_echo_n_body
!     as_echo_n='sh -c $as_echo_n_body as_echo'
!   fi
!   export as_echo_body
!   as_echo='sh -c $as_echo_body as_echo'
! fi
! 
! # The user is always right.
! if test "${PATH_SEPARATOR+set}" != set; then
!   PATH_SEPARATOR=:
!   (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {
!     (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||
!       PATH_SEPARATOR=';'
!   }
  fi
  
  # Support unset when possible.
  if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
***************
*** 6515,6547 ****
  fi
  
  
  # Work around bugs in pre-3.0 UWIN ksh.
! $as_unset ENV MAIL MAILPATH
  PS1='$ '
  PS2='> '
  PS4='+ '
  
  # NLS nuisances.
! for as_var in \
!   LANG LANGUAGE LC_ADDRESS LC_ALL LC_COLLATE LC_CTYPE LC_IDENTIFICATION \
!   LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
!   LC_TELEPHONE LC_TIME
! do
!   if (set +x; test -z "`(eval $as_var=C; export $as_var) 2>&1`"); then
!     eval $as_var=C; export $as_var
!   else
!     $as_unset $as_var
!   fi
! done
  
  # Required to use basename.
! if expr a : '\(a\)' >/dev/null 2>&1; then
    as_expr=expr
  else
    as_expr=false
  fi
  
! if (basename /) >/dev/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
    as_basename=basename
  else
    as_basename=false
--- 7694,7753 ----
  fi
  
  
+ # IFS
+ # We need space, tab and new line, in precisely that order.  Quoting is
+ # there to prevent editors from complaining about space-tab.
+ # (If _AS_PATH_WALK were called with IFS unset, it would disable word
+ # splitting by setting IFS to empty value.)
+ IFS=" ""	$as_nl"
+ 
+ # Find who we are.  Look in the path if we contain no directory separator.
+ case $0 in
+   *[\\/]* ) as_myself=$0 ;;
+   *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+ for as_dir in $PATH
+ do
+   IFS=$as_save_IFS
+   test -z "$as_dir" && as_dir=.
+   test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
+ done
+ IFS=$as_save_IFS
+ 
+      ;;
+ esac
+ # We did not find ourselves, most probably we were run as `sh COMMAND'
+ # in which case we are not to be found in the path.
+ if test "x$as_myself" = x; then
+   as_myself=$0
+ fi
+ if test ! -f "$as_myself"; then
+   $as_echo "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
+   { (exit 1); exit 1; }
+ fi
+ 
  # Work around bugs in pre-3.0 UWIN ksh.
! for as_var in ENV MAIL MAILPATH
! do ($as_unset $as_var) >/dev/null 2>&1 && $as_unset $as_var
! done
  PS1='$ '
  PS2='> '
  PS4='+ '
  
  # NLS nuisances.
! LC_ALL=C
! export LC_ALL
! LANGUAGE=C
! export LANGUAGE
  
  # Required to use basename.
! if expr a : '\(a\)' >/dev/null 2>&1 &&
!    test "X`expr 00001 : '.*\(...\)'`" = X001; then
    as_expr=expr
  else
    as_expr=false
  fi
  
! if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
    as_basename=basename
  else
    as_basename=false
***************
*** 6549,6707 ****
  
  
  # Name of the executable.
! as_me=`$as_basename "$0" ||
  $as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
  	 X"$0" : 'X\(//\)$' \| \
! 	 X"$0" : 'X\(/\)$' \| \
! 	 .     : '\(.\)' 2>/dev/null ||
! echo X/"$0" |
!     sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
!   	  /^X\/\(\/\/\)$/{ s//\1/; q; }
!   	  /^X\/\(\/\).*/{ s//\1/; q; }
!   	  s/.*/./; q'`
! 
! 
! # PATH needs CR, and LINENO needs CR and PATH.
! # Avoid depending upon Character Ranges.
! as_cr_letters='abcdefghijklmnopqrstuvwxyz'
! as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
! as_cr_Letters=$as_cr_letters$as_cr_LETTERS
! as_cr_digits='0123456789'
! as_cr_alnum=$as_cr_Letters$as_cr_digits
! 
! # The user is always right.
! if test "${PATH_SEPARATOR+set}" != set; then
!   echo "#! /bin/sh" >conf$$.sh
!   echo  "exit 0"   >>conf$$.sh
!   chmod +x conf$$.sh
!   if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
!     PATH_SEPARATOR=';'
!   else
!     PATH_SEPARATOR=:
!   fi
!   rm -f conf$$.sh
! fi
  
  
-   as_lineno_1=$LINENO
-   as_lineno_2=$LINENO
-   as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
-   test "x$as_lineno_1" != "x$as_lineno_2" &&
-   test "x$as_lineno_3"  = "x$as_lineno_2"  || {
-   # Find who we are.  Look in the path if we contain no path at all
-   # relative or not.
-   case $0 in
-     *[\\/]* ) as_myself=$0 ;;
-     *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
- for as_dir in $PATH
- do
-   IFS=$as_save_IFS
-   test -z "$as_dir" && as_dir=.
-   test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
- done
  
-        ;;
-   esac
-   # We did not find ourselves, most probably we were run as `sh COMMAND'
-   # in which case we are not to be found in the path.
-   if test "x$as_myself" = x; then
-     as_myself=$0
-   fi
-   if test ! -f "$as_myself"; then
-     { { echo "$as_me:$LINENO: error: cannot find myself; rerun with an absolute path" >&5
- echo "$as_me: error: cannot find myself; rerun with an absolute path" >&2;}
-    { (exit 1); exit 1; }; }
-   fi
-   case $CONFIG_SHELL in
-   '')
-     as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
- for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
- do
-   IFS=$as_save_IFS
-   test -z "$as_dir" && as_dir=.
-   for as_base in sh bash ksh sh5; do
- 	 case $as_dir in
- 	 /*)
- 	   if ("$as_dir/$as_base" -c '
    as_lineno_1=$LINENO
    as_lineno_2=$LINENO
-   as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
    test "x$as_lineno_1" != "x$as_lineno_2" &&
!   test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/dev/null; then
! 	     $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
! 	     $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
! 	     CONFIG_SHELL=$as_dir/$as_base
! 	     export CONFIG_SHELL
! 	     exec "$CONFIG_SHELL" "$0" ${1+"$@"}
! 	   fi;;
! 	 esac
!        done
! done
! ;;
!   esac
  
    # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
    # uniformly replaced by the line number.  The first 'sed' inserts a
!   # line-number line before each line; the second 'sed' does the real
!   # work.  The second script uses 'N' to pair each line-number line
!   # with the numbered line, and appends trailing '-' during
!   # substitution so that $LINENO is not a special case at line end.
    # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
!   # second 'sed' script.  Blame Lee E. McMahon for sed's syntax.  :-)
!   sed '=' <$as_myself |
      sed '
        N
!       s,$,-,
!       : loop
!       s,^\(['$as_cr_digits']*\)\(.*\)[$]LINENO\([^'$as_cr_alnum'_]\),\1\2\1\3,
        t loop
!       s,-$,,
!       s,^['$as_cr_digits']*\n,,
      ' >$as_me.lineno &&
!   chmod +x $as_me.lineno ||
!     { { echo "$as_me:$LINENO: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&5
! echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2;}
     { (exit 1); exit 1; }; }
  
    # Don't try to exec as it changes $[0], causing all sort of problems
    # (the dirname of $[0] is not the place where we might find the
!   # original and so on.  Autoconf is especially sensible to this).
!   . ./$as_me.lineno
    # Exit status is that of the last command.
    exit
  }
  
  
! case `echo "testing\c"; echo 1,2,3`,`echo -n testing; echo 1,2,3` in
!   *c*,-n*) ECHO_N= ECHO_C='
! ' ECHO_T='	' ;;
!   *c*,*  ) ECHO_N=-n ECHO_C= ECHO_T= ;;
!   *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
! esac
  
! if expr a : '\(a\)' >/dev/null 2>&1; then
    as_expr=expr
  else
    as_expr=false
  fi
  
  rm -f conf$$ conf$$.exe conf$$.file
! echo >conf$$.file
! if ln -s conf$$.file conf$$ 2>/dev/null; then
!   # We could just check for DJGPP; but this test a) works b) is more generic
!   # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
!   if test -f conf$$.exe; then
!     # Don't use ln at all; we don't have any links
!     as_ln_s='cp -p'
!   else
      as_ln_s='ln -s'
    fi
- elif ln conf$$.file conf$$ 2>/dev/null; then
-   as_ln_s=ln
  else
    as_ln_s='cp -p'
  fi
! rm -f conf$$ conf$$.exe conf$$.file
  
  if mkdir -p . 2>/dev/null; then
    as_mkdir_p=:
--- 7755,7876 ----
  
  
  # Name of the executable.
! as_me=`$as_basename -- "$0" ||
  $as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
  	 X"$0" : 'X\(//\)$' \| \
! 	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
! $as_echo X/"$0" |
!     sed '/^.*\/\([^/][^/]*\)\/*$/{
! 	    s//\1/
! 	    q
! 	  }
! 	  /^X\/\(\/\/\)$/{
! 	    s//\1/
! 	    q
! 	  }
! 	  /^X\/\(\/\).*/{
! 	    s//\1/
! 	    q
! 	  }
! 	  s/.*/./; q'`
! 
! # CDPATH.
! $as_unset CDPATH
  
  
  
    as_lineno_1=$LINENO
    as_lineno_2=$LINENO
    test "x$as_lineno_1" != "x$as_lineno_2" &&
!   test "x`expr $as_lineno_1 + 1`" = "x$as_lineno_2" || {
  
    # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
    # uniformly replaced by the line number.  The first 'sed' inserts a
!   # line-number line after each line using $LINENO; the second 'sed'
!   # does the real work.  The second script uses 'N' to pair each
!   # line-number line with the line containing $LINENO, and appends
!   # trailing '-' during substitution so that $LINENO is not a special
!   # case at line end.
    # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
!   # scripts with optimization help from Paolo Bonzini.  Blame Lee
!   # E. McMahon (1931-1989) for sed's syntax.  :-)
!   sed -n '
!     p
!     /[$]LINENO/=
!   ' <$as_myself |
      sed '
+       s/[$]LINENO.*/&-/
+       t lineno
+       b
+       :lineno
        N
!       :loop
!       s/[$]LINENO\([^'$as_cr_alnum'_].*\n\)\(.*\)/\2\1\2/
        t loop
!       s/-\n.*//
      ' >$as_me.lineno &&
!   chmod +x "$as_me.lineno" ||
!     { $as_echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2
     { (exit 1); exit 1; }; }
  
    # Don't try to exec as it changes $[0], causing all sort of problems
    # (the dirname of $[0] is not the place where we might find the
!   # original and so on.  Autoconf is especially sensitive to this).
!   . "./$as_me.lineno"
    # Exit status is that of the last command.
    exit
  }
  
  
! if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
!   as_dirname=dirname
! else
!   as_dirname=false
! fi
  
! ECHO_C= ECHO_N= ECHO_T=
! case `echo -n x` in
! -n*)
!   case `echo 'x\c'` in
!   *c*) ECHO_T='	';;	# ECHO_T is single tab character.
!   *)   ECHO_C='\c';;
!   esac;;
! *)
!   ECHO_N='-n';;
! esac
! if expr a : '\(a\)' >/dev/null 2>&1 &&
!    test "X`expr 00001 : '.*\(...\)'`" = X001; then
    as_expr=expr
  else
    as_expr=false
  fi
  
  rm -f conf$$ conf$$.exe conf$$.file
! if test -d conf$$.dir; then
!   rm -f conf$$.dir/conf$$.file
! else
!   rm -f conf$$.dir
!   mkdir conf$$.dir 2>/dev/null
! fi
! if (echo >conf$$.file) 2>/dev/null; then
!   if ln -s conf$$.file conf$$ 2>/dev/null; then
      as_ln_s='ln -s'
+     # ... but there are two gotchas:
+     # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
+     # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
+     # In both cases, we have to default to `cp -p'.
+     ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
+       as_ln_s='cp -p'
+   elif ln conf$$.file conf$$ 2>/dev/null; then
+     as_ln_s=ln
+   else
+     as_ln_s='cp -p'
    fi
  else
    as_ln_s='cp -p'
  fi
! rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
! rmdir conf$$.dir 2>/dev/null
  
  if mkdir -p . 2>/dev/null; then
    as_mkdir_p=:
***************
*** 6710,6716 ****
    as_mkdir_p=false
  fi
  
! as_executable_p="test -f"
  
  # Sed expression to map a string onto a valid CPP name.
  as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
--- 7879,7906 ----
    as_mkdir_p=false
  fi
  
! if test -x / >/dev/null 2>&1; then
!   as_test_x='test -x'
! else
!   if ls -dL / >/dev/null 2>&1; then
!     as_ls_L_option=L
!   else
!     as_ls_L_option=
!   fi
!   as_test_x='
!     eval sh -c '\''
!       if test -d "$1"; then
! 	test -d "$1/.";
!       else
! 	case $1 in
! 	-*)set "./$1";;
! 	esac;
! 	case `ls -ld'$as_ls_L_option' "$1" 2>/dev/null` in
! 	???[sx]*):;;*)false;;esac;fi
!     '\'' sh
!   '
! fi
! as_executable_p=$as_test_x
  
  # Sed expression to map a string onto a valid CPP name.
  as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
***************
*** 6719,6749 ****
  as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
  
  
- # IFS
- # We need space, tab and new line, in precisely that order.
- as_nl='
- '
- IFS=" 	$as_nl"
- 
- # CDPATH.
- $as_unset CDPATH
- 
  exec 6>&1
  
! # Open the log real soon, to keep \$[0] and so on meaningful, and to
  # report actual input values of CONFIG_FILES etc. instead of their
! # values after options handling.  Logging --version etc. is OK.
! exec 5>>config.log
! {
!   echo
!   sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX
! ## Running $as_me. ##
! _ASBOX
! } >&5
! cat >&5 <<_CSEOF
! 
  This file was extended by $as_me, which was
! generated by GNU Autoconf 2.59.  Invocation command line was
  
    CONFIG_FILES    = $CONFIG_FILES
    CONFIG_HEADERS  = $CONFIG_HEADERS
--- 7909,7922 ----
  as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
  
  
  exec 6>&1
  
! # Save the log message, to keep $[0] and so on meaningful, and to
  # report actual input values of CONFIG_FILES etc. instead of their
! # values after options handling.
! ac_log="
  This file was extended by $as_me, which was
! generated by GNU Autoconf 2.62.  Invocation command line was
  
    CONFIG_FILES    = $CONFIG_FILES
    CONFIG_HEADERS  = $CONFIG_HEADERS
***************
*** 6751,6780 ****
    CONFIG_COMMANDS = $CONFIG_COMMANDS
    $ $0 $@
  
! _CSEOF
! echo "on `(hostname || uname -n) 2>/dev/null | sed 1q`" >&5
! echo >&5
  _ACEOF
  
  # Files that config.status was made for.
! if test -n "$ac_config_files"; then
!   echo "config_files=\"$ac_config_files\"" >>$CONFIG_STATUS
! fi
! 
! if test -n "$ac_config_headers"; then
!   echo "config_headers=\"$ac_config_headers\"" >>$CONFIG_STATUS
! fi
  
! if test -n "$ac_config_links"; then
!   echo "config_links=\"$ac_config_links\"" >>$CONFIG_STATUS
! fi
! 
! if test -n "$ac_config_commands"; then
!   echo "config_commands=\"$ac_config_commands\"" >>$CONFIG_STATUS
! fi
! 
! cat >>$CONFIG_STATUS <<\_ACEOF
  
  ac_cs_usage="\
  \`$as_me' instantiates files from templates according to the
  current configuration.
--- 7924,7943 ----
    CONFIG_COMMANDS = $CONFIG_COMMANDS
    $ $0 $@
  
! on `(hostname || uname -n) 2>/dev/null | sed 1q`
! "
! 
  _ACEOF
  
+ cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
  # Files that config.status was made for.
! config_files="$ac_config_files"
! config_headers="$ac_config_headers"
! config_commands="$ac_config_commands"
  
! _ACEOF
  
+ cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
  ac_cs_usage="\
  \`$as_me' instantiates files from templates according to the
  current configuration.
***************
*** 6782,6795 ****
  Usage: $0 [OPTIONS] [FILE]...
  
    -h, --help       print this help, then exit
!   -V, --version    print version number, then exit
    -q, --quiet      do not print progress messages
    -d, --debug      don't remove temporary files
        --recheck    update $as_me by reconfiguring in the same conditions
    --file=FILE[:TEMPLATE]
! 		   instantiate the configuration file FILE
    --header=FILE[:TEMPLATE]
! 		   instantiate the configuration header FILE
  
  Configuration files:
  $config_files
--- 7945,7958 ----
  Usage: $0 [OPTIONS] [FILE]...
  
    -h, --help       print this help, then exit
!   -V, --version    print version number and configuration settings, then exit
    -q, --quiet      do not print progress messages
    -d, --debug      don't remove temporary files
        --recheck    update $as_me by reconfiguring in the same conditions
    --file=FILE[:TEMPLATE]
!                    instantiate the configuration file FILE
    --header=FILE[:TEMPLATE]
!                    instantiate the configuration header FILE
  
  Configuration files:
  $config_files
***************
*** 6801,6883 ****
  $config_commands
  
  Report bugs to <bug-autoconf@gnu.org>."
- _ACEOF
  
! cat >>$CONFIG_STATUS <<_ACEOF
  ac_cs_version="\\
  config.status
! configured by $0, generated by GNU Autoconf 2.59,
!   with options \\"`echo "$ac_configure_args" | sed 's/[\\""\`\$]/\\\\&/g'`\\"
  
! Copyright (C) 2003 Free Software Foundation, Inc.
  This config.status script is free software; the Free Software Foundation
  gives unlimited permission to copy, distribute and modify it."
! srcdir=$srcdir
! INSTALL="$INSTALL"
  _ACEOF
  
! cat >>$CONFIG_STATUS <<\_ACEOF
! # If no file are specified by the user, then we need to provide default
! # value.  By we need to know if files were specified by the user.
  ac_need_defaults=:
  while test $# != 0
  do
    case $1 in
    --*=*)
!     ac_option=`expr "x$1" : 'x\([^=]*\)='`
!     ac_optarg=`expr "x$1" : 'x[^=]*=\(.*\)'`
      ac_shift=:
      ;;
!   -*)
      ac_option=$1
      ac_optarg=$2
      ac_shift=shift
      ;;
-   *) # This is not an option, so the user has probably given explicit
-      # arguments.
-      ac_option=$1
-      ac_need_defaults=false;;
    esac
  
    case $ac_option in
    # Handling of the options.
- _ACEOF
- cat >>$CONFIG_STATUS <<\_ACEOF
    -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
      ac_cs_recheck=: ;;
!   --version | --vers* | -V )
!     echo "$ac_cs_version"; exit 0 ;;
!   --he | --h)
!     # Conflict between --help and --header
!     { { echo "$as_me:$LINENO: error: ambiguous option: $1
! Try \`$0 --help' for more information." >&5
! echo "$as_me: error: ambiguous option: $1
! Try \`$0 --help' for more information." >&2;}
!    { (exit 1); exit 1; }; };;
!   --help | --hel | -h )
!     echo "$ac_cs_usage"; exit 0 ;;
!   --debug | --d* | -d )
      debug=: ;;
    --file | --fil | --fi | --f )
      $ac_shift
!     CONFIG_FILES="$CONFIG_FILES $ac_optarg"
      ac_need_defaults=false;;
    --header | --heade | --head | --hea )
      $ac_shift
!     CONFIG_HEADERS="$CONFIG_HEADERS $ac_optarg"
      ac_need_defaults=false;;
    -q | -quiet | --quiet | --quie | --qui | --qu | --q \
    | -silent | --silent | --silen | --sile | --sil | --si | --s)
      ac_cs_silent=: ;;
  
    # This is an error.
!   -*) { { echo "$as_me:$LINENO: error: unrecognized option: $1
! Try \`$0 --help' for more information." >&5
! echo "$as_me: error: unrecognized option: $1
! Try \`$0 --help' for more information." >&2;}
     { (exit 1); exit 1; }; } ;;
  
!   *) ac_config_targets="$ac_config_targets $1" ;;
  
    esac
    shift
--- 7964,8045 ----
  $config_commands
  
  Report bugs to <bug-autoconf@gnu.org>."
  
! _ACEOF
! cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
  ac_cs_version="\\
  config.status
! configured by $0, generated by GNU Autoconf 2.62,
!   with options \\"`$as_echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`\\"
  
! Copyright (C) 2008 Free Software Foundation, Inc.
  This config.status script is free software; the Free Software Foundation
  gives unlimited permission to copy, distribute and modify it."
! 
! ac_pwd='$ac_pwd'
! srcdir='$srcdir'
! INSTALL='$INSTALL'
! test -n "\$AWK" || AWK=awk
  _ACEOF
  
! cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
! # The default lists apply if the user does not specify any file.
  ac_need_defaults=:
  while test $# != 0
  do
    case $1 in
    --*=*)
!     ac_option=`expr "X$1" : 'X\([^=]*\)='`
!     ac_optarg=`expr "X$1" : 'X[^=]*=\(.*\)'`
      ac_shift=:
      ;;
!   *)
      ac_option=$1
      ac_optarg=$2
      ac_shift=shift
      ;;
    esac
  
    case $ac_option in
    # Handling of the options.
    -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
      ac_cs_recheck=: ;;
!   --version | --versio | --versi | --vers | --ver | --ve | --v | -V )
!     $as_echo "$ac_cs_version"; exit ;;
!   --debug | --debu | --deb | --de | --d | -d )
      debug=: ;;
    --file | --fil | --fi | --f )
      $ac_shift
!     case $ac_optarg in
!     *\'*) ac_optarg=`$as_echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"` ;;
!     esac
!     CONFIG_FILES="$CONFIG_FILES '$ac_optarg'"
      ac_need_defaults=false;;
    --header | --heade | --head | --hea )
      $ac_shift
!     case $ac_optarg in
!     *\'*) ac_optarg=`$as_echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"` ;;
!     esac
!     CONFIG_HEADERS="$CONFIG_HEADERS '$ac_optarg'"
      ac_need_defaults=false;;
+   --he | --h)
+     # Conflict between --help and --header
+     { $as_echo "$as_me: error: ambiguous option: $1
+ Try \`$0 --help' for more information." >&2
+    { (exit 1); exit 1; }; };;
+   --help | --hel | -h )
+     $as_echo "$ac_cs_usage"; exit ;;
    -q | -quiet | --quiet | --quie | --qui | --qu | --q \
    | -silent | --silent | --silen | --sile | --sil | --si | --s)
      ac_cs_silent=: ;;
  
    # This is an error.
!   -*) { $as_echo "$as_me: error: unrecognized option: $1
! Try \`$0 --help' for more information." >&2
     { (exit 1); exit 1; }; } ;;
  
!   *) ac_config_targets="$ac_config_targets $1"
!      ac_need_defaults=false ;;
  
    esac
    shift
***************
*** 6891,6922 ****
  fi
  
  _ACEOF
! cat >>$CONFIG_STATUS <<_ACEOF
  if \$ac_cs_recheck; then
!   echo "running $SHELL $0 " $ac_configure_args \$ac_configure_extra_args " --no-create --no-recursion" >&6
!   exec $SHELL $0 $ac_configure_args \$ac_configure_extra_args --no-create --no-recursion
  fi
  
  _ACEOF
  
  
  
! 
! 
! cat >>$CONFIG_STATUS <<\_ACEOF
  for ac_config_target in $ac_config_targets
  do
!   case "$ac_config_target" in
!   # Handling of arguments.
!   "Makefile" ) CONFIG_FILES="$CONFIG_FILES Makefile" ;;
!   "default" ) CONFIG_COMMANDS="$CONFIG_COMMANDS default" ;;
!   "config.h" ) CONFIG_HEADERS="$CONFIG_HEADERS config.h:config.in" ;;
!   *) { { echo "$as_me:$LINENO: error: invalid argument: $ac_config_target" >&5
! echo "$as_me: error: invalid argument: $ac_config_target" >&2;}
     { (exit 1); exit 1; }; };;
    esac
  done
  
  # If the user did not use the arguments to specify the items to instantiate,
  # then the envvar interface is used.  Set only those that are not.
  # We use the long form for the default assignment because of an extremely
--- 8053,8100 ----
  fi
  
  _ACEOF
! cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
  if \$ac_cs_recheck; then
!   set X '$SHELL' '$0' $ac_configure_args \$ac_configure_extra_args --no-create --no-recursion
!   shift
!   \$as_echo "running CONFIG_SHELL=$SHELL \$*" >&6
!   CONFIG_SHELL='$SHELL'
!   export CONFIG_SHELL
!   exec "\$@"
  fi
  
  _ACEOF
+ cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
+ exec 5>>config.log
+ {
+   echo
+   sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX
+ ## Running $as_me. ##
+ _ASBOX
+   $as_echo "$ac_log"
+ } >&5
  
+ _ACEOF
+ cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
+ _ACEOF
  
+ cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
  
! # Handling of arguments.
  for ac_config_target in $ac_config_targets
  do
!   case $ac_config_target in
!     "config.h") CONFIG_HEADERS="$CONFIG_HEADERS config.h:config.in" ;;
!     "Makefile") CONFIG_FILES="$CONFIG_FILES Makefile" ;;
!     "default") CONFIG_COMMANDS="$CONFIG_COMMANDS default" ;;
! 
!   *) { { $as_echo "$as_me:$LINENO: error: invalid argument: $ac_config_target" >&5
! $as_echo "$as_me: error: invalid argument: $ac_config_target" >&2;}
     { (exit 1); exit 1; }; };;
    esac
  done
  
+ 
  # If the user did not use the arguments to specify the items to instantiate,
  # then the envvar interface is used.  Set only those that are not.
  # We use the long form for the default assignment because of an extremely
***************
*** 6928,7685 ****
  fi
  
  # Have a temporary directory for convenience.  Make it in the build tree
! # simply because there is no reason to put it here, and in addition,
  # creating and moving files from /tmp can sometimes cause problems.
! # Create a temporary directory, and hook for its removal unless debugging.
  $debug ||
  {
!   trap 'exit_status=$?; rm -rf $tmp && exit $exit_status' 0
    trap '{ (exit 1); exit 1; }' 1 2 13 15
  }
- 
  # Create a (secure) tmp directory for tmp files.
  
  {
!   tmp=`(umask 077 && mktemp -d -q "./confstatXXXXXX") 2>/dev/null` &&
    test -n "$tmp" && test -d "$tmp"
  }  ||
  {
!   tmp=./confstat$$-$RANDOM
!   (umask 077 && mkdir $tmp)
  } ||
  {
!    echo "$me: cannot create a temporary directory in ." >&2
     { (exit 1); exit 1; }
  }
  
  _ACEOF
  
- cat >>$CONFIG_STATUS <<_ACEOF
  
! #
! # CONFIG_FILES section.
! #
  
! # No need to generate the scripts if there are no CONFIG_FILES.
! # This happens for instance when ./config.status config.h
! if test -n "\$CONFIG_FILES"; then
!   # Protect against being on the right side of a sed subst in config.status.
!   sed 's/,@/@@/; s/@,/@@/; s/,;t t\$/@;t t/; /@;t t\$/s/[\\\\&,]/\\\\&/g;
!    s/@@/,@/; s/@@/@,/; s/@;t t\$/,;t t/' >\$tmp/subs.sed <<\\CEOF
! s,@sim_environment@,$sim_environment,;t t
! s,@sim_alignment@,$sim_alignment,;t t
! s,@sim_assert@,$sim_assert,;t t
! s,@sim_bitsize@,$sim_bitsize,;t t
! s,@sim_endian@,$sim_endian,;t t
! s,@sim_hostendian@,$sim_hostendian,;t t
! s,@sim_float@,$sim_float,;t t
! s,@sim_scache@,$sim_scache,;t t
! s,@sim_default_model@,$sim_default_model,;t t
! s,@sim_hw_cflags@,$sim_hw_cflags,;t t
! s,@sim_hw_objs@,$sim_hw_objs,;t t
! s,@sim_hw@,$sim_hw,;t t
! s,@sim_inline@,$sim_inline,;t t
! s,@sim_packages@,$sim_packages,;t t
! s,@sim_regparm@,$sim_regparm,;t t
! s,@sim_reserved_bits@,$sim_reserved_bits,;t t
! s,@sim_smp@,$sim_smp,;t t
! s,@sim_stdcall@,$sim_stdcall,;t t
! s,@sim_xor_endian@,$sim_xor_endian,;t t
! s,@WARN_CFLAGS@,$WARN_CFLAGS,;t t
! s,@WERROR_CFLAGS@,$WERROR_CFLAGS,;t t
! s,@SHELL@,$SHELL,;t t
! s,@PATH_SEPARATOR@,$PATH_SEPARATOR,;t t
! s,@PACKAGE_NAME@,$PACKAGE_NAME,;t t
! s,@PACKAGE_TARNAME@,$PACKAGE_TARNAME,;t t
! s,@PACKAGE_VERSION@,$PACKAGE_VERSION,;t t
! s,@PACKAGE_STRING@,$PACKAGE_STRING,;t t
! s,@PACKAGE_BUGREPORT@,$PACKAGE_BUGREPORT,;t t
! s,@exec_prefix@,$exec_prefix,;t t
! s,@prefix@,$prefix,;t t
! s,@program_transform_name@,$program_transform_name,;t t
! s,@bindir@,$bindir,;t t
! s,@sbindir@,$sbindir,;t t
! s,@libexecdir@,$libexecdir,;t t
! s,@datadir@,$datadir,;t t
! s,@sysconfdir@,$sysconfdir,;t t
! s,@sharedstatedir@,$sharedstatedir,;t t
! s,@localstatedir@,$localstatedir,;t t
! s,@libdir@,$libdir,;t t
! s,@includedir@,$includedir,;t t
! s,@oldincludedir@,$oldincludedir,;t t
! s,@infodir@,$infodir,;t t
! s,@mandir@,$mandir,;t t
! s,@build_alias@,$build_alias,;t t
! s,@host_alias@,$host_alias,;t t
! s,@target_alias@,$target_alias,;t t
! s,@DEFS@,$DEFS,;t t
! s,@ECHO_C@,$ECHO_C,;t t
! s,@ECHO_N@,$ECHO_N,;t t
! s,@ECHO_T@,$ECHO_T,;t t
! s,@LIBS@,$LIBS,;t t
! s,@INSTALL_PROGRAM@,$INSTALL_PROGRAM,;t t
! s,@INSTALL_SCRIPT@,$INSTALL_SCRIPT,;t t
! s,@INSTALL_DATA@,$INSTALL_DATA,;t t
! s,@CC@,$CC,;t t
! s,@CFLAGS@,$CFLAGS,;t t
! s,@LDFLAGS@,$LDFLAGS,;t t
! s,@CPPFLAGS@,$CPPFLAGS,;t t
! s,@ac_ct_CC@,$ac_ct_CC,;t t
! s,@EXEEXT@,$EXEEXT,;t t
! s,@OBJEXT@,$OBJEXT,;t t
! s,@USE_NLS@,$USE_NLS,;t t
! s,@LIBINTL@,$LIBINTL,;t t
! s,@LIBINTL_DEP@,$LIBINTL_DEP,;t t
! s,@INCINTL@,$INCINTL,;t t
! s,@XGETTEXT@,$XGETTEXT,;t t
! s,@GMSGFMT@,$GMSGFMT,;t t
! s,@POSUB@,$POSUB,;t t
! s,@CATALOGS@,$CATALOGS,;t t
! s,@DATADIRNAME@,$DATADIRNAME,;t t
! s,@INSTOBJEXT@,$INSTOBJEXT,;t t
! s,@GENCAT@,$GENCAT,;t t
! s,@CATOBJEXT@,$CATOBJEXT,;t t
! s,@build@,$build,;t t
! s,@build_cpu@,$build_cpu,;t t
! s,@build_vendor@,$build_vendor,;t t
! s,@build_os@,$build_os,;t t
! s,@host@,$host,;t t
! s,@host_cpu@,$host_cpu,;t t
! s,@host_vendor@,$host_vendor,;t t
! s,@host_os@,$host_os,;t t
! s,@target@,$target,;t t
! s,@target_cpu@,$target_cpu,;t t
! s,@target_vendor@,$target_vendor,;t t
! s,@target_os@,$target_os,;t t
! s,@CPP@,$CPP,;t t
! s,@EGREP@,$EGREP,;t t
! s,@LIBOBJS@,$LIBOBJS,;t t
! s,@CC_FOR_BUILD@,$CC_FOR_BUILD,;t t
! s,@CFLAGS_FOR_BUILD@,$CFLAGS_FOR_BUILD,;t t
! s,@HDEFINES@,$HDEFINES,;t t
! s,@AR@,$AR,;t t
! s,@RANLIB@,$RANLIB,;t t
! s,@ac_ct_RANLIB@,$ac_ct_RANLIB,;t t
! s,@sim_cflags@,$sim_cflags,;t t
! s,@sim_warnings@,$sim_warnings,;t t
! s,@sim_line_nr@,$sim_line_nr,;t t
! s,@sim_config@,$sim_config,;t t
! s,@sim_opcode@,$sim_opcode,;t t
! s,@sim_switch@,$sim_switch,;t t
! s,@sim_dup@,$sim_dup,;t t
! s,@sim_decode_mechanism@,$sim_decode_mechanism,;t t
! s,@sim_jump@,$sim_jump,;t t
! s,@sim_filter@,$sim_filter,;t t
! s,@sim_icache@,$sim_icache,;t t
! s,@sim_hw_src@,$sim_hw_src,;t t
! s,@sim_hw_obj@,$sim_hw_obj,;t t
! s,@sim_pk_src@,$sim_pk_src,;t t
! s,@sim_pk_obj@,$sim_pk_obj,;t t
! s,@sim_bswap@,$sim_bswap,;t t
! s,@sim_igen_smp@,$sim_igen_smp,;t t
! s,@sim_hostbitsize@,$sim_hostbitsize,;t t
! s,@sim_env@,$sim_env,;t t
! s,@sim_timebase@,$sim_timebase,;t t
! s,@sim_trace@,$sim_trace,;t t
! s,@sim_reserved@,$sim_reserved,;t t
! s,@sim_monitor@,$sim_monitor,;t t
! s,@sim_model@,$sim_model,;t t
! s,@sim_model_issue@,$sim_model_issue,;t t
! s,@sim_stdio@,$sim_stdio,;t t
! s,@sim_termio@,$sim_termio,;t t
! s,@sim_devzero@,$sim_devzero,;t t
! s,@sim_callback@,$sim_callback,;t t
! s,@sim_targ_vals@,$sim_targ_vals,;t t
! s,@sim_fpu_cflags@,$sim_fpu_cflags,;t t
! s,@sim_fpu@,$sim_fpu,;t t
! s,@LTLIBOBJS@,$LTLIBOBJS,;t t
! CEOF
! 
! _ACEOF
! 
!   cat >>$CONFIG_STATUS <<\_ACEOF
!   # Split the substitutions into bite-sized pieces for seds with
!   # small command number limits, like on Digital OSF/1 and HP-UX.
!   ac_max_sed_lines=48
!   ac_sed_frag=1 # Number of current file.
!   ac_beg=1 # First line for current file.
!   ac_end=$ac_max_sed_lines # Line after last line for current file.
!   ac_more_lines=:
!   ac_sed_cmds=
!   while $ac_more_lines; do
!     if test $ac_beg -gt 1; then
!       sed "1,${ac_beg}d; ${ac_end}q" $tmp/subs.sed >$tmp/subs.frag
!     else
!       sed "${ac_end}q" $tmp/subs.sed >$tmp/subs.frag
!     fi
!     if test ! -s $tmp/subs.frag; then
!       ac_more_lines=false
!     else
!       # The purpose of the label and of the branching condition is to
!       # speed up the sed processing (if there are no `@' at all, there
!       # is no need to browse any of the substitutions).
!       # These are the two extra sed commands mentioned above.
!       (echo ':t
!   /@[a-zA-Z_][a-zA-Z_0-9]*@/!b' && cat $tmp/subs.frag) >$tmp/subs-$ac_sed_frag.sed
!       if test -z "$ac_sed_cmds"; then
! 	ac_sed_cmds="sed -f $tmp/subs-$ac_sed_frag.sed"
!       else
! 	ac_sed_cmds="$ac_sed_cmds | sed -f $tmp/subs-$ac_sed_frag.sed"
!       fi
!       ac_sed_frag=`expr $ac_sed_frag + 1`
!       ac_beg=$ac_end
!       ac_end=`expr $ac_end + $ac_max_sed_lines`
!     fi
!   done
!   if test -z "$ac_sed_cmds"; then
!     ac_sed_cmds=cat
    fi
! fi # test -n "$CONFIG_FILES"
  
  _ACEOF
! cat >>$CONFIG_STATUS <<\_ACEOF
! for ac_file in : $CONFIG_FILES; do test "x$ac_file" = x: && continue
!   # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
!   case $ac_file in
!   - | *:- | *:-:* ) # input from stdin
! 	cat >$tmp/stdin
! 	ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
! 	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
!   *:* ) ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
! 	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
!   * )   ac_file_in=$ac_file.in ;;
    esac
  
!   # Compute @srcdir@, @top_srcdir@, and @INSTALL@ for subdirectories.
!   ac_dir=`(dirname "$ac_file") 2>/dev/null ||
  $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
  	 X"$ac_file" : 'X\(//\)[^/]' \| \
  	 X"$ac_file" : 'X\(//\)$' \| \
! 	 X"$ac_file" : 'X\(/\)' \| \
! 	 .     : '\(.\)' 2>/dev/null ||
! echo X"$ac_file" |
!     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
!   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
!   	  /^X\(\/\/\)$/{ s//\1/; q; }
!   	  /^X\(\/\).*/{ s//\1/; q; }
!   	  s/.*/./; q'`
!   { if $as_mkdir_p; then
!     mkdir -p "$ac_dir"
!   else
!     as_dir="$ac_dir"
      as_dirs=
!     while test ! -d "$as_dir"; do
!       as_dirs="$as_dir $as_dirs"
!       as_dir=`(dirname "$as_dir") 2>/dev/null ||
  $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
  	 X"$as_dir" : 'X\(//\)[^/]' \| \
  	 X"$as_dir" : 'X\(//\)$' \| \
! 	 X"$as_dir" : 'X\(/\)' \| \
! 	 .     : '\(.\)' 2>/dev/null ||
! echo X"$as_dir" |
!     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
!   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
!   	  /^X\(\/\/\)$/{ s//\1/; q; }
!   	  /^X\(\/\).*/{ s//\1/; q; }
!   	  s/.*/./; q'`
      done
!     test ! -n "$as_dirs" || mkdir $as_dirs
!   fi || { { echo "$as_me:$LINENO: error: cannot create directory \"$ac_dir\"" >&5
! echo "$as_me: error: cannot create directory \"$ac_dir\"" >&2;}
     { (exit 1); exit 1; }; }; }
- 
    ac_builddir=.
  
! if test "$ac_dir" != .; then
!   ac_dir_suffix=/`echo "$ac_dir" | sed 's,^\.[\\/],,'`
!   # A "../" for each directory in $ac_dir_suffix.
!   ac_top_builddir=`echo "$ac_dir_suffix" | sed 's,/[^\\/]*,../,g'`
! else
!   ac_dir_suffix= ac_top_builddir=
! fi
  
  case $srcdir in
!   .)  # No --srcdir option.  We are building in place.
      ac_srcdir=.
!     if test -z "$ac_top_builddir"; then
!        ac_top_srcdir=.
!     else
!        ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
!     fi ;;
!   [\\/]* | ?:[\\/]* )  # Absolute path.
      ac_srcdir=$srcdir$ac_dir_suffix;
!     ac_top_srcdir=$srcdir ;;
!   *) # Relative path.
!     ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
!     ac_top_srcdir=$ac_top_builddir$srcdir ;;
! esac
  
- # Do not use `cd foo && pwd` to compute absolute paths, because
- # the directories may not exist.
- case `pwd` in
- .) ac_abs_builddir="$ac_dir";;
- *)
-   case "$ac_dir" in
-   .) ac_abs_builddir=`pwd`;;
-   [\\/]* | ?:[\\/]* ) ac_abs_builddir="$ac_dir";;
-   *) ac_abs_builddir=`pwd`/"$ac_dir";;
-   esac;;
- esac
- case $ac_abs_builddir in
- .) ac_abs_top_builddir=${ac_top_builddir}.;;
- *)
-   case ${ac_top_builddir}. in
-   .) ac_abs_top_builddir=$ac_abs_builddir;;
-   [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
-   *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
-   esac;;
- esac
- case $ac_abs_builddir in
- .) ac_abs_srcdir=$ac_srcdir;;
- *)
-   case $ac_srcdir in
-   .) ac_abs_srcdir=$ac_abs_builddir;;
-   [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
-   *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
-   esac;;
- esac
- case $ac_abs_builddir in
- .) ac_abs_top_srcdir=$ac_top_srcdir;;
- *)
-   case $ac_top_srcdir in
-   .) ac_abs_top_srcdir=$ac_abs_builddir;;
-   [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
-   *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
-   esac;;
- esac
  
  
    case $INSTALL in
    [\\/$]* | ?:[\\/]* ) ac_INSTALL=$INSTALL ;;
!   *) ac_INSTALL=$ac_top_builddir$INSTALL ;;
    esac
  
!   if test x"$ac_file" != x-; then
!     { echo "$as_me:$LINENO: creating $ac_file" >&5
! echo "$as_me: creating $ac_file" >&6;}
!     rm -f "$ac_file"
!   fi
!   # Let's still pretend it is `configure' which instantiates (i.e., don't
!   # use $as_me), people would be surprised to read:
!   #    /* config.h.  Generated by config.status.  */
!   if test x"$ac_file" = x-; then
!     configure_input=
!   else
!     configure_input="$ac_file.  "
!   fi
!   configure_input=$configure_input"Generated from `echo $ac_file_in |
! 				     sed 's,.*/,,'` by configure."
! 
!   # First look for the input files in the build tree, otherwise in the
!   # src tree.
!   ac_file_inputs=`IFS=:
!     for f in $ac_file_in; do
!       case $f in
!       -) echo $tmp/stdin ;;
!       [\\/$]*)
! 	 # Absolute (can't be DOS-style, as IFS=:)
! 	 test -f "$f" || { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
! echo "$as_me: error: cannot find input file: $f" >&2;}
!    { (exit 1); exit 1; }; }
! 	 echo "$f";;
!       *) # Relative
! 	 if test -f "$f"; then
! 	   # Build tree
! 	   echo "$f"
! 	 elif test -f "$srcdir/$f"; then
! 	   # Source tree
! 	   echo "$srcdir/$f"
! 	 else
! 	   # /dev/null tree
! 	   { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
! echo "$as_me: error: cannot find input file: $f" >&2;}
!    { (exit 1); exit 1; }; }
! 	 fi;;
!       esac
!     done` || { (exit 1); exit 1; }
  _ACEOF
! cat >>$CONFIG_STATUS <<_ACEOF
!   sed "$ac_vpsub
  $extrasub
  _ACEOF
! cat >>$CONFIG_STATUS <<\_ACEOF
  :t
  /@[a-zA-Z_][a-zA-Z_0-9]*@/!b
! s,@configure_input@,$configure_input,;t t
! s,@srcdir@,$ac_srcdir,;t t
! s,@abs_srcdir@,$ac_abs_srcdir,;t t
! s,@top_srcdir@,$ac_top_srcdir,;t t
! s,@abs_top_srcdir@,$ac_abs_top_srcdir,;t t
! s,@builddir@,$ac_builddir,;t t
! s,@abs_builddir@,$ac_abs_builddir,;t t
! s,@top_builddir@,$ac_top_builddir,;t t
! s,@abs_top_builddir@,$ac_abs_top_builddir,;t t
! s,@INSTALL@,$ac_INSTALL,;t t
! " $ac_file_inputs | (eval "$ac_sed_cmds") >$tmp/out
!   rm -f $tmp/stdin
!   if test x"$ac_file" != x-; then
!     mv $tmp/out $ac_file
!   else
!     cat $tmp/out
!     rm -f $tmp/out
!   fi
! 
! done
! _ACEOF
! cat >>$CONFIG_STATUS <<\_ACEOF
! 
! #
! # CONFIG_HEADER section.
! #
  
! # These sed commands are passed to sed as "A NAME B NAME C VALUE D", where
! # NAME is the cpp macro being defined and VALUE is the value it is being given.
! #
! # ac_d sets the value in "#define NAME VALUE" lines.
! ac_dA='s,^\([	 ]*\)#\([	 ]*define[	 ][	 ]*\)'
! ac_dB='[	 ].*$,\1#\2'
! ac_dC=' '
! ac_dD=',;t'
! # ac_u turns "#undef NAME" without trailing blanks into "#define NAME VALUE".
! ac_uA='s,^\([	 ]*\)#\([	 ]*\)undef\([	 ][	 ]*\)'
! ac_uB='$,\1#\2define\3'
! ac_uC=' '
! ac_uD=',;t'
  
! for ac_file in : $CONFIG_HEADERS; do test "x$ac_file" = x: && continue
!   # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
    case $ac_file in
!   - | *:- | *:-:* ) # input from stdin
! 	cat >$tmp/stdin
! 	ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
! 	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
!   *:* ) ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
! 	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
!   * )   ac_file_in=$ac_file.in ;;
!   esac
! 
!   test x"$ac_file" != x- && { echo "$as_me:$LINENO: creating $ac_file" >&5
! echo "$as_me: creating $ac_file" >&6;}
! 
!   # First look for the input files in the build tree, otherwise in the
!   # src tree.
!   ac_file_inputs=`IFS=:
!     for f in $ac_file_in; do
!       case $f in
!       -) echo $tmp/stdin ;;
!       [\\/$]*)
! 	 # Absolute (can't be DOS-style, as IFS=:)
! 	 test -f "$f" || { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
! echo "$as_me: error: cannot find input file: $f" >&2;}
     { (exit 1); exit 1; }; }
! 	 # Do quote $f, to prevent DOS paths from being IFS'd.
! 	 echo "$f";;
!       *) # Relative
! 	 if test -f "$f"; then
! 	   # Build tree
! 	   echo "$f"
! 	 elif test -f "$srcdir/$f"; then
! 	   # Source tree
! 	   echo "$srcdir/$f"
! 	 else
! 	   # /dev/null tree
! 	   { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
! echo "$as_me: error: cannot find input file: $f" >&2;}
!    { (exit 1); exit 1; }; }
! 	 fi;;
!       esac
!     done` || { (exit 1); exit 1; }
!   # Remove the trailing spaces.
!   sed 's/[	 ]*$//' $ac_file_inputs >$tmp/in
! 
! _ACEOF
! 
! # Transform confdefs.h into two sed scripts, `conftest.defines' and
! # `conftest.undefs', that substitutes the proper values into
! # config.h.in to produce config.h.  The first handles `#define'
! # templates, and the second `#undef' templates.
! # And first: Protect against being on the right side of a sed subst in
! # config.status.  Protect against being in an unquoted here document
! # in config.status.
! rm -f conftest.defines conftest.undefs
! # Using a here document instead of a string reduces the quoting nightmare.
! # Putting comments in sed scripts is not portable.
! #
! # `end' is used to avoid that the second main sed command (meant for
! # 0-ary CPP macros) applies to n-ary macro definitions.
! # See the Autoconf documentation for `clear'.
! cat >confdef2sed.sed <<\_ACEOF
! s/[\\&,]/\\&/g
! s,[\\$`],\\&,g
! t clear
! : clear
! s,^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 (][^	 (]*\)\(([^)]*)\)[	 ]*\(.*\)$,${ac_dA}\1${ac_dB}\1\2${ac_dC}\3${ac_dD},gp
! t end
! s,^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 ][^	 ]*\)[	 ]*\(.*\)$,${ac_dA}\1${ac_dB}\1${ac_dC}\2${ac_dD},gp
! : end
! _ACEOF
! # If some macros were called several times there might be several times
! # the same #defines, which is useless.  Nevertheless, we may not want to
! # sort them, since we want the *last* AC-DEFINE to be honored.
! uniq confdefs.h | sed -n -f confdef2sed.sed >conftest.defines
! sed 's/ac_d/ac_u/g' conftest.defines >conftest.undefs
! rm -f confdef2sed.sed
! 
! # This sed command replaces #undef with comments.  This is necessary, for
! # example, in the case of _POSIX_SOURCE, which is predefined and required
! # on some systems where configure will not decide to define it.
! cat >>conftest.undefs <<\_ACEOF
! s,^[	 ]*#[	 ]*undef[	 ][	 ]*[a-zA-Z_][a-zA-Z_0-9]*,/* & */,
! _ACEOF
! 
! # Break up conftest.defines because some shells have a limit on the size
! # of here documents, and old seds have small limits too (100 cmds).
! echo '  # Handle all the #define templates only if necessary.' >>$CONFIG_STATUS
! echo '  if grep "^[	 ]*#[	 ]*define" $tmp/in >/dev/null; then' >>$CONFIG_STATUS
! echo '  # If there are no defines, we may have an empty if/fi' >>$CONFIG_STATUS
! echo '  :' >>$CONFIG_STATUS
! rm -f conftest.tail
! while grep . conftest.defines >/dev/null
! do
!   # Write a limited-size here document to $tmp/defines.sed.
!   echo '  cat >$tmp/defines.sed <<CEOF' >>$CONFIG_STATUS
!   # Speed up: don't consider the non `#define' lines.
!   echo '/^[	 ]*#[	 ]*define/!b' >>$CONFIG_STATUS
!   # Work around the forget-to-reset-the-flag bug.
!   echo 't clr' >>$CONFIG_STATUS
!   echo ': clr' >>$CONFIG_STATUS
!   sed ${ac_max_here_lines}q conftest.defines >>$CONFIG_STATUS
!   echo 'CEOF
!   sed -f $tmp/defines.sed $tmp/in >$tmp/out
!   rm -f $tmp/in
!   mv $tmp/out $tmp/in
! ' >>$CONFIG_STATUS
!   sed 1,${ac_max_here_lines}d conftest.defines >conftest.tail
!   rm -f conftest.defines
!   mv conftest.tail conftest.defines
! done
! rm -f conftest.defines
! echo '  fi # grep' >>$CONFIG_STATUS
! echo >>$CONFIG_STATUS
! 
! # Break up conftest.undefs because some shells have a limit on the size
! # of here documents, and old seds have small limits too (100 cmds).
! echo '  # Handle all the #undef templates' >>$CONFIG_STATUS
! rm -f conftest.tail
! while grep . conftest.undefs >/dev/null
! do
!   # Write a limited-size here document to $tmp/undefs.sed.
!   echo '  cat >$tmp/undefs.sed <<CEOF' >>$CONFIG_STATUS
!   # Speed up: don't consider the non `#undef'
!   echo '/^[	 ]*#[	 ]*undef/!b' >>$CONFIG_STATUS
!   # Work around the forget-to-reset-the-flag bug.
!   echo 't clr' >>$CONFIG_STATUS
!   echo ': clr' >>$CONFIG_STATUS
!   sed ${ac_max_here_lines}q conftest.undefs >>$CONFIG_STATUS
!   echo 'CEOF
!   sed -f $tmp/undefs.sed $tmp/in >$tmp/out
!   rm -f $tmp/in
!   mv $tmp/out $tmp/in
! ' >>$CONFIG_STATUS
!   sed 1,${ac_max_here_lines}d conftest.undefs >conftest.tail
!   rm -f conftest.undefs
!   mv conftest.tail conftest.undefs
! done
! rm -f conftest.undefs
! 
! cat >>$CONFIG_STATUS <<\_ACEOF
!   # Let's still pretend it is `configure' which instantiates (i.e., don't
!   # use $as_me), people would be surprised to read:
!   #    /* config.h.  Generated by config.status.  */
!   if test x"$ac_file" = x-; then
!     echo "/* Generated by configure.  */" >$tmp/config.h
!   else
!     echo "/* $ac_file.  Generated by configure.  */" >$tmp/config.h
!   fi
!   cat $tmp/in >>$tmp/config.h
!   rm -f $tmp/in
    if test x"$ac_file" != x-; then
!     if diff $ac_file $tmp/config.h >/dev/null 2>&1; then
!       { echo "$as_me:$LINENO: $ac_file is unchanged" >&5
! echo "$as_me: $ac_file is unchanged" >&6;}
      else
!       ac_dir=`(dirname "$ac_file") 2>/dev/null ||
! $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
! 	 X"$ac_file" : 'X\(//\)[^/]' \| \
! 	 X"$ac_file" : 'X\(//\)$' \| \
! 	 X"$ac_file" : 'X\(/\)' \| \
! 	 .     : '\(.\)' 2>/dev/null ||
! echo X"$ac_file" |
!     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
!   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
!   	  /^X\(\/\/\)$/{ s//\1/; q; }
!   	  /^X\(\/\).*/{ s//\1/; q; }
!   	  s/.*/./; q'`
!       { if $as_mkdir_p; then
!     mkdir -p "$ac_dir"
!   else
!     as_dir="$ac_dir"
!     as_dirs=
!     while test ! -d "$as_dir"; do
!       as_dirs="$as_dir $as_dirs"
!       as_dir=`(dirname "$as_dir") 2>/dev/null ||
! $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
! 	 X"$as_dir" : 'X\(//\)[^/]' \| \
! 	 X"$as_dir" : 'X\(//\)$' \| \
! 	 X"$as_dir" : 'X\(/\)' \| \
! 	 .     : '\(.\)' 2>/dev/null ||
! echo X"$as_dir" |
!     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
!   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
!   	  /^X\(\/\/\)$/{ s//\1/; q; }
!   	  /^X\(\/\).*/{ s//\1/; q; }
!   	  s/.*/./; q'`
!     done
!     test ! -n "$as_dirs" || mkdir $as_dirs
!   fi || { { echo "$as_me:$LINENO: error: cannot create directory \"$ac_dir\"" >&5
! echo "$as_me: error: cannot create directory \"$ac_dir\"" >&2;}
!    { (exit 1); exit 1; }; }; }
! 
!       rm -f $ac_file
!       mv $tmp/config.h $ac_file
      fi
    else
!     cat $tmp/config.h
!     rm -f $tmp/config.h
    fi
! done
! _ACEOF
! cat >>$CONFIG_STATUS <<\_ACEOF
! 
! #
! # CONFIG_COMMANDS section.
! #
! for ac_file in : $CONFIG_COMMANDS; do test "x$ac_file" = x: && continue
!   ac_dest=`echo "$ac_file" | sed 's,:.*,,'`
!   ac_source=`echo "$ac_file" | sed 's,[^:]*:,,'`
!   ac_dir=`(dirname "$ac_dest") 2>/dev/null ||
! $as_expr X"$ac_dest" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
! 	 X"$ac_dest" : 'X\(//\)[^/]' \| \
! 	 X"$ac_dest" : 'X\(//\)$' \| \
! 	 X"$ac_dest" : 'X\(/\)' \| \
! 	 .     : '\(.\)' 2>/dev/null ||
! echo X"$ac_dest" |
!     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
!   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
!   	  /^X\(\/\/\)$/{ s//\1/; q; }
!   	  /^X\(\/\).*/{ s//\1/; q; }
!   	  s/.*/./; q'`
!   { if $as_mkdir_p; then
!     mkdir -p "$ac_dir"
!   else
!     as_dir="$ac_dir"
!     as_dirs=
!     while test ! -d "$as_dir"; do
!       as_dirs="$as_dir $as_dirs"
!       as_dir=`(dirname "$as_dir") 2>/dev/null ||
! $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
! 	 X"$as_dir" : 'X\(//\)[^/]' \| \
! 	 X"$as_dir" : 'X\(//\)$' \| \
! 	 X"$as_dir" : 'X\(/\)' \| \
! 	 .     : '\(.\)' 2>/dev/null ||
! echo X"$as_dir" |
!     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
!   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
!   	  /^X\(\/\/\)$/{ s//\1/; q; }
!   	  /^X\(\/\).*/{ s//\1/; q; }
!   	  s/.*/./; q'`
!     done
!     test ! -n "$as_dirs" || mkdir $as_dirs
!   fi || { { echo "$as_me:$LINENO: error: cannot create directory \"$ac_dir\"" >&5
! echo "$as_me: error: cannot create directory \"$ac_dir\"" >&2;}
!    { (exit 1); exit 1; }; }; }
! 
!   ac_builddir=.
! 
! if test "$ac_dir" != .; then
!   ac_dir_suffix=/`echo "$ac_dir" | sed 's,^\.[\\/],,'`
!   # A "../" for each directory in $ac_dir_suffix.
!   ac_top_builddir=`echo "$ac_dir_suffix" | sed 's,/[^\\/]*,../,g'`
! else
!   ac_dir_suffix= ac_top_builddir=
! fi
  
! case $srcdir in
!   .)  # No --srcdir option.  We are building in place.
!     ac_srcdir=.
!     if test -z "$ac_top_builddir"; then
!        ac_top_srcdir=.
!     else
!        ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
!     fi ;;
!   [\\/]* | ?:[\\/]* )  # Absolute path.
!     ac_srcdir=$srcdir$ac_dir_suffix;
!     ac_top_srcdir=$srcdir ;;
!   *) # Relative path.
!     ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
!     ac_top_srcdir=$ac_top_builddir$srcdir ;;
! esac
  
- # Do not use `cd foo && pwd` to compute absolute paths, because
- # the directories may not exist.
- case `pwd` in
- .) ac_abs_builddir="$ac_dir";;
- *)
-   case "$ac_dir" in
-   .) ac_abs_builddir=`pwd`;;
-   [\\/]* | ?:[\\/]* ) ac_abs_builddir="$ac_dir";;
-   *) ac_abs_builddir=`pwd`/"$ac_dir";;
-   esac;;
- esac
- case $ac_abs_builddir in
- .) ac_abs_top_builddir=${ac_top_builddir}.;;
- *)
-   case ${ac_top_builddir}. in
-   .) ac_abs_top_builddir=$ac_abs_builddir;;
-   [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
-   *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
-   esac;;
- esac
- case $ac_abs_builddir in
- .) ac_abs_srcdir=$ac_srcdir;;
- *)
-   case $ac_srcdir in
-   .) ac_abs_srcdir=$ac_abs_builddir;;
-   [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
-   *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
-   esac;;
- esac
- case $ac_abs_builddir in
- .) ac_abs_top_srcdir=$ac_top_srcdir;;
- *)
-   case $ac_top_srcdir in
-   .) ac_abs_top_srcdir=$ac_abs_builddir;;
-   [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
-   *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
-   esac;;
- esac
  
  
-   { echo "$as_me:$LINENO: executing $ac_dest commands" >&5
- echo "$as_me: executing $ac_dest commands" >&6;}
-   case $ac_dest in
-     default ) case x$CONFIG_HEADERS in xconfig.h:config.in) echo > stamp-h ;; esac ;;
    esac
! done
! _ACEOF
  
- cat >>$CONFIG_STATUS <<\_ACEOF
  
  { (exit 0); exit 0; }
  _ACEOF
  chmod +x $CONFIG_STATUS
  ac_clean_files=$ac_clean_files_save
  
  
  # configure is writing to config.log, and then calls config.status.
  # config.status does its own redirection, appending to config.log.
--- 8106,8721 ----
  fi
  
  # Have a temporary directory for convenience.  Make it in the build tree
! # simply because there is no reason against having it here, and in addition,
  # creating and moving files from /tmp can sometimes cause problems.
! # Hook for its removal unless debugging.
! # Note that there is a small window in which the directory will not be cleaned:
! # after its creation but before its name has been assigned to `$tmp'.
  $debug ||
  {
!   tmp=
!   trap 'exit_status=$?
!   { test -z "$tmp" || test ! -d "$tmp" || rm -fr "$tmp"; } && exit $exit_status
! ' 0
    trap '{ (exit 1); exit 1; }' 1 2 13 15
  }
  # Create a (secure) tmp directory for tmp files.
  
  {
!   tmp=`(umask 077 && mktemp -d "./confXXXXXX") 2>/dev/null` &&
    test -n "$tmp" && test -d "$tmp"
  }  ||
  {
!   tmp=./conf$$-$RANDOM
!   (umask 077 && mkdir "$tmp")
  } ||
  {
!    $as_echo "$as_me: cannot create a temporary directory in ." >&2
     { (exit 1); exit 1; }
  }
  
+ # Set up the scripts for CONFIG_FILES section.
+ # No need to generate them if there are no CONFIG_FILES.
+ # This happens for instance with `./config.status config.h'.
+ if test -n "$CONFIG_FILES"; then
+ 
+ 
+ ac_cr=''
+ ac_cs_awk_cr=`$AWK 'BEGIN { print "a\rb" }' </dev/null 2>/dev/null`
+ if test "$ac_cs_awk_cr" = "a${ac_cr}b"; then
+   ac_cs_awk_cr='\\r'
+ else
+   ac_cs_awk_cr=$ac_cr
+ fi
+ 
+ echo 'BEGIN {' >"$tmp/subs1.awk" &&
  _ACEOF
  
  
! {
!   echo "cat >conf$$subs.awk <<_ACEOF" &&
!   echo "$ac_subst_vars" | sed 's/.*/&!$&$ac_delim/' &&
!   echo "_ACEOF"
! } >conf$$subs.sh ||
!   { { $as_echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
! $as_echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
!    { (exit 1); exit 1; }; }
! ac_delim_num=`echo "$ac_subst_vars" | grep -c '$'`
! ac_delim='%!_!# '
! for ac_last_try in false false false false false :; do
!   . ./conf$$subs.sh ||
!     { { $as_echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
! $as_echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
!    { (exit 1); exit 1; }; }
  
!   if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.awk | grep -c X` = $ac_delim_num; then
!     break
!   elif $ac_last_try; then
!     { { $as_echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
! $as_echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
!    { (exit 1); exit 1; }; }
!   else
!     ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
    fi
! done
! rm -f conf$$subs.sh
  
+ cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
+ cat >>"\$tmp/subs1.awk" <<\\_ACAWK &&
  _ACEOF
! sed -n '
! h
! s/^/S["/; s/!.*/"]=/
! p
! g
! s/^[^!]*!//
! :repl
! t repl
! s/'"$ac_delim"'$//
! t delim
! :nl
! h
! s/\(.\{148\}\).*/\1/
! t more1
! s/["\\]/\\&/g; s/^/"/; s/$/\\n"\\/
! p
! n
! b repl
! :more1
! s/["\\]/\\&/g; s/^/"/; s/$/"\\/
! p
! g
! s/.\{148\}//
! t nl
! :delim
! h
! s/\(.\{148\}\).*/\1/
! t more2
! s/["\\]/\\&/g; s/^/"/; s/$/"/
! p
! b
! :more2
! s/["\\]/\\&/g; s/^/"/; s/$/"\\/
! p
! g
! s/.\{148\}//
! t delim
! ' <conf$$subs.awk | sed '
! /^[^""]/{
!   N
!   s/\n//
! }
! ' >>$CONFIG_STATUS || ac_write_fail=1
! rm -f conf$$subs.awk
! cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
! _ACAWK
! cat >>"\$tmp/subs1.awk" <<_ACAWK &&
!   for (key in S) S_is_set[key] = 1
!   FS = ""
! 
! }
! {
!   line = $ 0
!   nfields = split(line, field, "@")
!   substed = 0
!   len = length(field[1])
!   for (i = 2; i < nfields; i++) {
!     key = field[i]
!     keylen = length(key)
!     if (S_is_set[key]) {
!       value = S[key]
!       line = substr(line, 1, len) "" value "" substr(line, len + keylen + 3)
!       len += length(value) + length(field[++i])
!       substed = 1
!     } else
!       len += 1 + keylen
!   }
! 
!   print line
! }
! 
! _ACAWK
! _ACEOF
! cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
! if sed "s/$ac_cr//" < /dev/null > /dev/null 2>&1; then
!   sed "s/$ac_cr\$//; s/$ac_cr/$ac_cs_awk_cr/g"
! else
!   cat
! fi < "$tmp/subs1.awk" > "$tmp/subs.awk" \
!   || { { $as_echo "$as_me:$LINENO: error: could not setup config files machinery" >&5
! $as_echo "$as_me: error: could not setup config files machinery" >&2;}
!    { (exit 1); exit 1; }; }
! _ACEOF
! 
! # VPATH may cause trouble with some makes, so we remove $(srcdir),
! # ${srcdir} and @srcdir@ from VPATH if srcdir is ".", strip leading and
! # trailing colons and then remove the whole line if VPATH becomes empty
! # (actually we leave an empty line to preserve line numbers).
! if test "x$srcdir" = x.; then
!   ac_vpsub='/^[	 ]*VPATH[	 ]*=/{
! s/:*\$(srcdir):*/:/
! s/:*\${srcdir}:*/:/
! s/:*@srcdir@:*/:/
! s/^\([^=]*=[	 ]*\):*/\1/
! s/:*$//
! s/^[^=]*=[	 ]*$//
! }'
! fi
! 
! cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
! fi # test -n "$CONFIG_FILES"
! 
! # Set up the scripts for CONFIG_HEADERS section.
! # No need to generate them if there are no CONFIG_HEADERS.
! # This happens for instance with `./config.status Makefile'.
! if test -n "$CONFIG_HEADERS"; then
! cat >"$tmp/defines.awk" <<\_ACAWK ||
! BEGIN {
! _ACEOF
! 
! # Transform confdefs.h into an awk script `defines.awk', embedded as
! # here-document in config.status, that substitutes the proper values into
! # config.h.in to produce config.h.
! 
! # Create a delimiter string that does not exist in confdefs.h, to ease
! # handling of long lines.
! ac_delim='%!_!# '
! for ac_last_try in false false :; do
!   ac_t=`sed -n "/$ac_delim/p" confdefs.h`
!   if test -z "$ac_t"; then
!     break
!   elif $ac_last_try; then
!     { { $as_echo "$as_me:$LINENO: error: could not make $CONFIG_HEADERS" >&5
! $as_echo "$as_me: error: could not make $CONFIG_HEADERS" >&2;}
!    { (exit 1); exit 1; }; }
!   else
!     ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
!   fi
! done
! 
! # For the awk script, D is an array of macro values keyed by name,
! # likewise P contains macro parameters if any.  Preserve backslash
! # newline sequences.
! 
! ac_word_re=[_$as_cr_Letters][_$as_cr_alnum]*
! sed -n '
! s/.\{148\}/&'"$ac_delim"'/g
! t rset
! :rset
! s/^[	 ]*#[	 ]*define[	 ][	 ]*/ /
! t def
! d
! :def
! s/\\$//
! t bsnl
! s/["\\]/\\&/g
! s/^ \('"$ac_word_re"'\)\(([^()]*)\)[	 ]*\(.*\)/P["\1"]="\2"\
! D["\1"]=" \3"/p
! s/^ \('"$ac_word_re"'\)[	 ]*\(.*\)/D["\1"]=" \2"/p
! d
! :bsnl
! s/["\\]/\\&/g
! s/^ \('"$ac_word_re"'\)\(([^()]*)\)[	 ]*\(.*\)/P["\1"]="\2"\
! D["\1"]=" \3\\\\\\n"\\/p
! t cont
! s/^ \('"$ac_word_re"'\)[	 ]*\(.*\)/D["\1"]=" \2\\\\\\n"\\/p
! t cont
! d
! :cont
! n
! s/.\{148\}/&'"$ac_delim"'/g
! t clear
! :clear
! s/\\$//
! t bsnlc
! s/["\\]/\\&/g; s/^/"/; s/$/"/p
! d
! :bsnlc
! s/["\\]/\\&/g; s/^/"/; s/$/\\\\\\n"\\/p
! b cont
! ' <confdefs.h | sed '
! s/'"$ac_delim"'/"\\\
! "/g' >>$CONFIG_STATUS || ac_write_fail=1
! 
! cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
!   for (key in D) D_is_set[key] = 1
!   FS = ""
! }
! /^[\t ]*#[\t ]*(define|undef)[\t ]+$ac_word_re([\t (]|\$)/ {
!   line = \$ 0
!   split(line, arg, " ")
!   if (arg[1] == "#") {
!     defundef = arg[2]
!     mac1 = arg[3]
!   } else {
!     defundef = substr(arg[1], 2)
!     mac1 = arg[2]
!   }
!   split(mac1, mac2, "(") #)
!   macro = mac2[1]
!   if (D_is_set[macro]) {
!     # Preserve the white space surrounding the "#".
!     prefix = substr(line, 1, index(line, defundef) - 1)
!     print prefix "define", macro P[macro] D[macro]
!     next
!   } else {
!     # Replace #undef with comments.  This is necessary, for example,
!     # in the case of _POSIX_SOURCE, which is predefined and required
!     # on some systems where configure will not decide to define it.
!     if (defundef == "undef") {
!       print "/*", line, "*/"
!       next
!     }
!   }
! }
! { print }
! _ACAWK
! _ACEOF
! cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
!   { { $as_echo "$as_me:$LINENO: error: could not setup config headers machinery" >&5
! $as_echo "$as_me: error: could not setup config headers machinery" >&2;}
!    { (exit 1); exit 1; }; }
! fi # test -n "$CONFIG_HEADERS"
! 
! 
! eval set X "  :F $CONFIG_FILES  :H $CONFIG_HEADERS    :C $CONFIG_COMMANDS"
! shift
! for ac_tag
! do
!   case $ac_tag in
!   :[FHLC]) ac_mode=$ac_tag; continue;;
!   esac
!   case $ac_mode$ac_tag in
!   :[FHL]*:*);;
!   :L* | :C*:*) { { $as_echo "$as_me:$LINENO: error: Invalid tag $ac_tag." >&5
! $as_echo "$as_me: error: Invalid tag $ac_tag." >&2;}
!    { (exit 1); exit 1; }; };;
!   :[FH]-) ac_tag=-:-;;
!   :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;
!   esac
!   ac_save_IFS=$IFS
!   IFS=:
!   set x $ac_tag
!   IFS=$ac_save_IFS
!   shift
!   ac_file=$1
!   shift
! 
!   case $ac_mode in
!   :L) ac_source=$1;;
!   :[FH])
!     ac_file_inputs=
!     for ac_f
!     do
!       case $ac_f in
!       -) ac_f="$tmp/stdin";;
!       *) # Look for the file first in the build tree, then in the source tree
! 	 # (if the path is not absolute).  The absolute path cannot be DOS-style,
! 	 # because $ac_f cannot contain `:'.
! 	 test -f "$ac_f" ||
! 	   case $ac_f in
! 	   [\\/$]*) false;;
! 	   *) test -f "$srcdir/$ac_f" && ac_f="$srcdir/$ac_f";;
! 	   esac ||
! 	   { { $as_echo "$as_me:$LINENO: error: cannot find input file: $ac_f" >&5
! $as_echo "$as_me: error: cannot find input file: $ac_f" >&2;}
!    { (exit 1); exit 1; }; };;
!       esac
!       case $ac_f in *\'*) ac_f=`$as_echo "$ac_f" | sed "s/'/'\\\\\\\\''/g"`;; esac
!       ac_file_inputs="$ac_file_inputs '$ac_f'"
!     done
! 
!     # Let's still pretend it is `configure' which instantiates (i.e., don't
!     # use $as_me), people would be surprised to read:
!     #    /* config.h.  Generated by config.status.  */
!     configure_input='Generated from '`
! 	  $as_echo "$*" | sed 's|^[^:]*/||;s|:[^:]*/|, |g'
! 	`' by configure.'
!     if test x"$ac_file" != x-; then
!       configure_input="$ac_file.  $configure_input"
!       { $as_echo "$as_me:$LINENO: creating $ac_file" >&5
! $as_echo "$as_me: creating $ac_file" >&6;}
!     fi
!     # Neutralize special characters interpreted by sed in replacement strings.
!     case $configure_input in #(
!     *\&* | *\|* | *\\* )
!        ac_sed_conf_input=`$as_echo "$configure_input" |
!        sed 's/[\\\\&|]/\\\\&/g'`;; #(
!     *) ac_sed_conf_input=$configure_input;;
!     esac
! 
!     case $ac_tag in
!     *:-:* | *:-) cat >"$tmp/stdin" \
!       || { { $as_echo "$as_me:$LINENO: error: could not create $ac_file" >&5
! $as_echo "$as_me: error: could not create $ac_file" >&2;}
!    { (exit 1); exit 1; }; } ;;
!     esac
!     ;;
    esac
  
!   ac_dir=`$as_dirname -- "$ac_file" ||
  $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
  	 X"$ac_file" : 'X\(//\)[^/]' \| \
  	 X"$ac_file" : 'X\(//\)$' \| \
! 	 X"$ac_file" : 'X\(/\)' \| . 2>/dev/null ||
! $as_echo X"$ac_file" |
!     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
! 	    s//\1/
! 	    q
! 	  }
! 	  /^X\(\/\/\)[^/].*/{
! 	    s//\1/
! 	    q
! 	  }
! 	  /^X\(\/\/\)$/{
! 	    s//\1/
! 	    q
! 	  }
! 	  /^X\(\/\).*/{
! 	    s//\1/
! 	    q
! 	  }
! 	  s/.*/./; q'`
!   { as_dir="$ac_dir"
!   case $as_dir in #(
!   -*) as_dir=./$as_dir;;
!   esac
!   test -d "$as_dir" || { $as_mkdir_p && mkdir -p "$as_dir"; } || {
      as_dirs=
!     while :; do
!       case $as_dir in #(
!       *\'*) as_qdir=`$as_echo "$as_dir" | sed "s/'/'\\\\\\\\''/g"`;; #'(
!       *) as_qdir=$as_dir;;
!       esac
!       as_dirs="'$as_qdir' $as_dirs"
!       as_dir=`$as_dirname -- "$as_dir" ||
  $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
  	 X"$as_dir" : 'X\(//\)[^/]' \| \
  	 X"$as_dir" : 'X\(//\)$' \| \
! 	 X"$as_dir" : 'X\(/\)' \| . 2>/dev/null ||
! $as_echo X"$as_dir" |
!     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
! 	    s//\1/
! 	    q
! 	  }
! 	  /^X\(\/\/\)[^/].*/{
! 	    s//\1/
! 	    q
! 	  }
! 	  /^X\(\/\/\)$/{
! 	    s//\1/
! 	    q
! 	  }
! 	  /^X\(\/\).*/{
! 	    s//\1/
! 	    q
! 	  }
! 	  s/.*/./; q'`
!       test -d "$as_dir" && break
      done
!     test -z "$as_dirs" || eval "mkdir $as_dirs"
!   } || test -d "$as_dir" || { { $as_echo "$as_me:$LINENO: error: cannot create directory $as_dir" >&5
! $as_echo "$as_me: error: cannot create directory $as_dir" >&2;}
     { (exit 1); exit 1; }; }; }
    ac_builddir=.
  
! case "$ac_dir" in
! .) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
! *)
!   ac_dir_suffix=/`$as_echo "$ac_dir" | sed 's|^\.[\\/]||'`
!   # A ".." for each directory in $ac_dir_suffix.
!   ac_top_builddir_sub=`$as_echo "$ac_dir_suffix" | sed 's|/[^\\/]*|/..|g;s|/||'`
!   case $ac_top_builddir_sub in
!   "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
!   *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
!   esac ;;
! esac
! ac_abs_top_builddir=$ac_pwd
! ac_abs_builddir=$ac_pwd$ac_dir_suffix
! # for backward compatibility:
! ac_top_builddir=$ac_top_build_prefix
  
  case $srcdir in
!   .)  # We are building in place.
      ac_srcdir=.
!     ac_top_srcdir=$ac_top_builddir_sub
!     ac_abs_top_srcdir=$ac_pwd ;;
!   [\\/]* | ?:[\\/]* )  # Absolute name.
      ac_srcdir=$srcdir$ac_dir_suffix;
!     ac_top_srcdir=$srcdir
!     ac_abs_top_srcdir=$srcdir ;;
!   *) # Relative name.
!     ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
!     ac_top_srcdir=$ac_top_build_prefix$srcdir
!     ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
! esac
! ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix
  
  
+   case $ac_mode in
+   :F)
+   #
+   # CONFIG_FILE
+   #
  
    case $INSTALL in
    [\\/$]* | ?:[\\/]* ) ac_INSTALL=$INSTALL ;;
!   *) ac_INSTALL=$ac_top_build_prefix$INSTALL ;;
    esac
+ _ACEOF
  
! cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
! # If the template does not know about datarootdir, expand it.
! # FIXME: This hack should be removed a few years after 2.60.
! ac_datarootdir_hack=; ac_datarootdir_seen=
! 
! ac_sed_dataroot='
! /datarootdir/ {
!   p
!   q
! }
! /@datadir@/p
! /@docdir@/p
! /@infodir@/p
! /@localedir@/p
! /@mandir@/p
! '
! case `eval "sed -n \"\$ac_sed_dataroot\" $ac_file_inputs"` in
! *datarootdir*) ac_datarootdir_seen=yes;;
! *@datadir@*|*@docdir@*|*@infodir@*|*@localedir@*|*@mandir@*)
!   { $as_echo "$as_me:$LINENO: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting" >&5
! $as_echo "$as_me: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting" >&2;}
! _ACEOF
! cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
!   ac_datarootdir_hack='
!   s&@datadir@&$datadir&g
!   s&@docdir@&$docdir&g
!   s&@infodir@&$infodir&g
!   s&@localedir@&$localedir&g
!   s&@mandir@&$mandir&g
!     s&\\\${datarootdir}&$datarootdir&g' ;;
! esac
  _ACEOF
! 
! # Neutralize VPATH when `$srcdir' = `.'.
! # Shell code in configure.ac might set extrasub.
! # FIXME: do we really want to maintain this feature?
! cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
! ac_sed_extra="$ac_vpsub
  $extrasub
  _ACEOF
! cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
  :t
  /@[a-zA-Z_][a-zA-Z_0-9]*@/!b
! s|@configure_input@|$ac_sed_conf_input|;t t
! s&@top_builddir@&$ac_top_builddir_sub&;t t
! s&@top_build_prefix@&$ac_top_build_prefix&;t t
! s&@srcdir@&$ac_srcdir&;t t
! s&@abs_srcdir@&$ac_abs_srcdir&;t t
! s&@top_srcdir@&$ac_top_srcdir&;t t
! s&@abs_top_srcdir@&$ac_abs_top_srcdir&;t t
! s&@builddir@&$ac_builddir&;t t
! s&@abs_builddir@&$ac_abs_builddir&;t t
! s&@abs_top_builddir@&$ac_abs_top_builddir&;t t
! s&@INSTALL@&$ac_INSTALL&;t t
! $ac_datarootdir_hack
! "
! eval sed \"\$ac_sed_extra\" "$ac_file_inputs" | $AWK -f "$tmp/subs.awk" >$tmp/out \
!   || { { $as_echo "$as_me:$LINENO: error: could not create $ac_file" >&5
! $as_echo "$as_me: error: could not create $ac_file" >&2;}
!    { (exit 1); exit 1; }; }
  
! test -z "$ac_datarootdir_hack$ac_datarootdir_seen" &&
!   { ac_out=`sed -n '/\${datarootdir}/p' "$tmp/out"`; test -n "$ac_out"; } &&
!   { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' "$tmp/out"`; test -z "$ac_out"; } &&
!   { $as_echo "$as_me:$LINENO: WARNING: $ac_file contains a reference to the variable \`datarootdir'
! which seems to be undefined.  Please make sure it is defined." >&5
! $as_echo "$as_me: WARNING: $ac_file contains a reference to the variable \`datarootdir'
! which seems to be undefined.  Please make sure it is defined." >&2;}
  
!   rm -f "$tmp/stdin"
    case $ac_file in
!   -) cat "$tmp/out" && rm -f "$tmp/out";;
!   *) rm -f "$ac_file" && mv "$tmp/out" "$ac_file";;
!   esac \
!   || { { $as_echo "$as_me:$LINENO: error: could not create $ac_file" >&5
! $as_echo "$as_me: error: could not create $ac_file" >&2;}
     { (exit 1); exit 1; }; }
!  ;;
!   :H)
!   #
!   # CONFIG_HEADER
!   #
    if test x"$ac_file" != x-; then
!     {
!       $as_echo "/* $configure_input  */" \
!       && eval '$AWK -f "$tmp/defines.awk"' "$ac_file_inputs"
!     } >"$tmp/config.h" \
!       || { { $as_echo "$as_me:$LINENO: error: could not create $ac_file" >&5
! $as_echo "$as_me: error: could not create $ac_file" >&2;}
!    { (exit 1); exit 1; }; }
!     if diff "$ac_file" "$tmp/config.h" >/dev/null 2>&1; then
!       { $as_echo "$as_me:$LINENO: $ac_file is unchanged" >&5
! $as_echo "$as_me: $ac_file is unchanged" >&6;}
      else
!       rm -f "$ac_file"
!       mv "$tmp/config.h" "$ac_file" \
! 	|| { { $as_echo "$as_me:$LINENO: error: could not create $ac_file" >&5
! $as_echo "$as_me: error: could not create $ac_file" >&2;}
!    { (exit 1); exit 1; }; }
      fi
    else
!     $as_echo "/* $configure_input  */" \
!       && eval '$AWK -f "$tmp/defines.awk"' "$ac_file_inputs" \
!       || { { $as_echo "$as_me:$LINENO: error: could not create -" >&5
! $as_echo "$as_me: error: could not create -" >&2;}
!    { (exit 1); exit 1; }; }
    fi
!  ;;
  
!   :C)  { $as_echo "$as_me:$LINENO: executing $ac_file commands" >&5
! $as_echo "$as_me: executing $ac_file commands" >&6;}
!  ;;
!   esac
  
  
+   case $ac_file$ac_mode in
+     "default":C) case x$CONFIG_HEADERS in xconfig.h:config.in) echo > stamp-h ;; esac ;;
  
    esac
! done # for ac_tag
  
  
  { (exit 0); exit 0; }
  _ACEOF
  chmod +x $CONFIG_STATUS
  ac_clean_files=$ac_clean_files_save
  
+ test $ac_write_fail = 0 ||
+   { { $as_echo "$as_me:$LINENO: error: write failure creating $CONFIG_STATUS" >&5
+ $as_echo "$as_me: error: write failure creating $CONFIG_STATUS" >&2;}
+    { (exit 1); exit 1; }; }
+ 
  
  # configure is writing to config.log, and then calls config.status.
  # config.status does its own redirection, appending to config.log.
***************
*** 7701,7704 ****
--- 8737,8744 ----
    # would make configure fail if this is the last instruction.
    $ac_cs_success || { (exit 1); exit 1; }
  fi
+ if test -n "$ac_unrecognized_opts" && test "$enable_option_checking" != no; then
+   { $as_echo "$as_me:$LINENO: WARNING: Unrecognized options: $ac_unrecognized_opts" >&5
+ $as_echo "$as_me: WARNING: Unrecognized options: $ac_unrecognized_opts" >&2;}
+ fi
  
diff -crN gdb-6.8.orig/sim/ppc/configure.ac gdb-6.8/sim/ppc/configure.ac
*** gdb-6.8.orig/sim/ppc/configure.ac	2008-03-14 14:35:27.000000000 -0700
--- gdb-6.8/sim/ppc/configure.ac	2009-02-05 16:56:20.000000000 -0800
***************
*** 212,218 ****
  
  AC_ARG_ENABLE(sim-hardware,
  [  --enable-sim-hardware=list		Specify the hardware to be included in the build.],
! [hardware="cpu,memory,nvram,iobus,htab,disk,trace,register,vm,init,core,pal,com,eeprom,opic,glue,phb,ide"
  case "${enableval}" in
    yes)	;;
    no)	AC_MSG_ERROR("List of hardware must be specified for --enable-sim-hardware"); hardware="";;
--- 212,218 ----
  
  AC_ARG_ENABLE(sim-hardware,
  [  --enable-sim-hardware=list		Specify the hardware to be included in the build.],
! [hardware="cpu,memory,nvram,iobus,htab,disk,trace,register,vm,init,core,pal,com,eeprom,opic,glue,phb,ide,ethtap"
  case "${enableval}" in
    yes)	;;
    no)	AC_MSG_ERROR("List of hardware must be specified for --enable-sim-hardware"); hardware="";;
***************
*** 224,230 ****
  sim_hw_obj=`echo $sim_hw_src | sed -e 's/\.c/.o/g'`
  if test x"$silent" != x"yes" && test x"$hardware" != x""; then
    echo "Setting hardware to $sim_hw_src, $sim_hw_obj"
! fi],[hardware="cpu,memory,nvram,iobus,htab,disk,trace,register,vm,init,core,pal,com,eeprom,opic,glue,phb,ide"
  sim_hw_src=`echo $hardware | sed -e 's/,/.c hw_/g' -e 's/^/hw_/' -e s'/$/.c/'`
  sim_hw_obj=`echo $sim_hw_src | sed -e 's/\.c/.o/g'`
  if test x"$silent" != x"yes"; then
--- 224,230 ----
  sim_hw_obj=`echo $sim_hw_src | sed -e 's/\.c/.o/g'`
  if test x"$silent" != x"yes" && test x"$hardware" != x""; then
    echo "Setting hardware to $sim_hw_src, $sim_hw_obj"
! fi],[hardware="cpu,memory,nvram,iobus,htab,disk,trace,register,vm,init,core,pal,com,eeprom,opic,glue,phb,ide,ethtap"
  sim_hw_src=`echo $hardware | sed -e 's/,/.c hw_/g' -e 's/^/hw_/' -e s'/$/.c/'`
  sim_hw_obj=`echo $sim_hw_src | sed -e 's/\.c/.o/g'`
  if test x"$silent" != x"yes"; then
***************
*** 744,749 ****
--- 744,774 ----
    sim_fpu=
  fi
  
+ dnl async_io and ethtap only available on linux for now
+ case ${host_os} in
+   *linux*)
+     sim_async_io_src=async_io.c
+     sim_async_io_obj=async_io.o
+   ;;
+   *)
+     AC_MSG_NOTICE([Removing 'ethtap' device on non-linux host])
+     sim_hw_src=`echo $sim_hw_src | sed -e 's/hw_ethtap[.]c//g'`
+     sim_hw_obj=`echo $sim_hw_obj | sed -e 's/hw_ethtap[.]o//g'`
+     if test x"$silent" != x"yes"; then
+       echo "Setting hardware to $sim_hw_src, $sim_hw_obj"
+     fi
+     sim_async_io_src=
+     sim_async_io_obj=
+   ;;
+ esac
+ case ${sim_hw_src} in
+   *hw_ethtap*)
+     AC_DEFINE(HAVE_ETHTAP, 1, [Define if ethtap device is built (linux host only)])
+   ;;
+   *)
+   ;;
+ esac
+ 
  dnl Check for exe extension
  AC_EXEEXT
  
***************
*** 798,803 ****
--- 823,830 ----
  AC_SUBST(sim_targ_vals)
  AC_SUBST(sim_fpu_cflags)
  AC_SUBST(sim_fpu)
+ AC_SUBST(sim_async_io_src)
+ AC_SUBST(sim_async_io_obj)
  
  AC_OUTPUT(Makefile,
  [case x$CONFIG_HEADERS in xconfig.h:config.in) echo > stamp-h ;; esac])
diff -crN gdb-6.8.orig/sim/ppc/crc32.c gdb-6.8/sim/ppc/crc32.c
*** gdb-6.8.orig/sim/ppc/crc32.c	1969-12-31 16:00:00.000000000 -0800
--- gdb-6.8/sim/ppc/crc32.c	2009-02-05 16:56:20.000000000 -0800
***************
*** 0 ****
--- 1,75 ----
+ /* Simple, table-driven 'ethernet' CRC32.
+  *
+  * Assumes bytes are transmitted as little-endian bit-stream.
+  *
+  * Written by T. Straumann, released into public domain.
+  *
+  */
+ #include <inttypes.h>
+ 
+ #define CRCPOLY_LE 0xedb88320
+ 
+ static uint32_t crc32tbl[256] = {0};
+ 
+ uint32_t
+ crc32_le(uint32_t crc, uint8_t *buf, unsigned len)
+ {
+ uint8_t i;
+ 	while (len--) {
+ 		i   = crc ^ *buf++;
+ 		crc = (crc >> 8) ^ crc32tbl[i];
+ 	}
+ 	return crc;
+ }
+ 
+ uint32_t
+ crc32_le_eth(uint8_t *buf, unsigned len)
+ {
+ 	return crc32_le(-1,buf,len) ^ (-1);
+ }
+ 
+ static void crc32_inittab()
+ {
+ uint32_t i,j;
+ 	for ( i=0; i<256; i++ ) {
+ 
+ 		uint32_t crc = i;
+ 
+ 		for ( j=0; j<8; j++ )
+ 			crc = (crc>>1) ^ ((crc&1) ? CRCPOLY_LE : 0);
+ 
+ 		crc32tbl[i] = crc;
+ 	}
+ }
+ 
+ #if DO_MAIN_TEST
+ 
+ #include <stdio.h>
+ #include <string.h>
+ 
+ int main(int argc, char **argv)
+ {
+ char     tst[9+4+4]={0};
+ char    *str;
+ int      i;
+ uint32_t crc;
+ 
+ 	crc32_inittab();
+ 
+ 	strcpy(tst,"123456789");
+ 
+ 	str = argc > 1 ? argv[1] : tst;
+ 
+ 	crc=crc32_le_eth(str,strlen(str));
+ 	printf("CRC-LE: 0x%08x (%u)\n", crc, crc);
+ 
+ 	if ( str == tst ) {
+ 		if ( crc != 0xCBF43926 ) {
+ 			printf("Should be 0xCBF43926\n");
+ 		} else {
+ 			printf("Test OK\n");
+ 		}
+ 	}
+ 	return 0;
+ }
+ #endif
diff -crN gdb-6.8.orig/sim/ppc/debug.c gdb-6.8/sim/ppc/debug.c
*** gdb-6.8.orig/sim/ppc/debug.c	1999-04-15 18:35:08.000000000 -0700
--- gdb-6.8/sim/ppc/debug.c	2009-02-05 16:56:20.000000000 -0800
***************
*** 60,65 ****
--- 60,68 ----
    { trace_eeprom_device, "eeprom-device" },
    { trace_file_device, "file-device" },
    { trace_glue_device, "glue-device" },
+ #ifdef HAVE_ETHTAP
+   { trace_ethtap_device, "ethtap-device" },
+ #endif
    { trace_halt_device, "halt-device" },
    { trace_htab_device, "htab-device" },
    { trace_icu_device, "icu-device" },
diff -crN gdb-6.8.orig/sim/ppc/debug.h gdb-6.8/sim/ppc/debug.h
*** gdb-6.8.orig/sim/ppc/debug.h	1999-04-15 18:35:08.000000000 -0700
--- gdb-6.8/sim/ppc/debug.h	2009-02-05 16:56:20.000000000 -0800
***************
*** 42,47 ****
--- 42,50 ----
    trace_eeprom_device,
    trace_file_device,
    trace_glue_device,
+ #ifdef HAVE_ETHTAP
+   trace_ethtap_device,
+ #endif
    trace_halt_device,
    trace_htab_device,
    trace_icu_device,
diff -crN gdb-6.8.orig/sim/ppc/hw_ethtap.c gdb-6.8/sim/ppc/hw_ethtap.c
*** gdb-6.8.orig/sim/ppc/hw_ethtap.c	1969-12-31 16:00:00.000000000 -0800
--- gdb-6.8/sim/ppc/hw_ethtap.c	2009-02-05 16:56:20.000000000 -0800
***************
*** 0 ****
--- 1,745 ----
+ /*  This file is part of the program psim.
+     
+     Copyright (C) 1994-1996, Andrew Cagney <cagney@highland.com.au>
+     
+     This program is free software; you can redistribute it and/or modify
+     it under the terms of the GNU General Public License as published by
+     the Free Software Foundation; either version 2 of the License, or
+     (at your option) any later version.
+     
+     This program is distributed in the hope that it will be useful,
+     but WITHOUT ANY WARRANTY; without even the implied warranty of
+     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+     GNU General Public License for more details.
+     
+     You should have received a copy of the GNU General Public License
+     along with this program; if not, write to the Free Software
+     Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+ 
+ 	This file was written by Till Straumann, 2008.
+     
+     */
+ 
+ #ifndef _HW_ETHTAP_C_
+ #define _HW_ETHTAP_C_
+ 
+ #include "crc32.c"
+ 
+ #include "device_table.h"
+ 
+ #include "psim.h"
+ #include "events.h"
+ #include "async_io.h"
+ 
+ #include <unistd.h>
+ #include <fcntl.h>
+ #include <signal.h>
+ #include <errno.h>
+ #include <poll.h>
+ #include <stdlib.h>
+ 
+ #include <sys/ioctl.h>
+ #include <net/if.h>
+ #include <linux/if_tun.h>
+ 
+ #undef   DEBUG_RX_RAW
+ 
+ /* DEVICE
+    
+ 
+    ethtap -- a trivial ethernet interface that directs all traffic
+    to a 'tap' interface on the host computer (a 'tap' interface
+    requires a special host-os driver which routes packets written
+    to / read from a device special file to a 'soft' network interface
+    on the host. Such a driver is e.g., available on linux (tun/tap)).
+ 
+    NOTE: you normally need superuser privileges to create a 'tap'
+    interface on the host, i.e., you need these privileges to run psim.
+    Alternatively (linux), the sysadmin can create a 'persistent'
+    'tap' device and assign it to a specific user (tuncfg -u <user>).
+    In this case, the <user> must also have read/write access to
+    the /dev/net/tun device (it is not a problem to make this
+    device node world-read-writeable because ordinary users
+    lack the CAP_NET capability and may not create new 'tap'
+    devices even if they are granted write-access to /dev/net/tun
+    (RTM).
+ 
+    DESCRIPTION
+    
+    The ethtap device is a very simple emulation of a ethernet
+    chip. It does not implement a real FIFO or descriptor rings
+    but 'cheats' by relying on the fact that PSIM is a single-threaded,
+    monolithic program:
+ 
+    The device contains two register pairs (one for RX, one for TX)
+    which serve as a '1-element' descriptor list.
+ 
+    The register pairs consist of a 'buffer-address' and
+    'buffer-size/status' register. The 'buffer-address' register
+    must always be written first. When the 'buffer-size' register is
+    written buffer 'ownership' is transferred to ethtap and 
+    the user must wait for ethtap changing a status-bit in the
+    'size' register before accessing the buffer again.
+ 
+    However, because psim is single-threaded this synchronization
+    is really simple: E.g., during transmission the driver writes
+    a buffer address to the tx-buffer-address register and then
+    writes the 'size' register. At this point, the ethtap device
+    uses DMA to copy the buffer to an internal area. Because
+    psim does not use a separate thread for DMA this means that
+    when the write operation to the 'size' register completes the
+    DMA is already complete -- very unlike real-life...
+ 
+    Packet reception is equally simple: the user writes a buffer
+    address and a size to the rx register pair. If data is 
+    available then writing the 'size' register triggers a DMA
+    operation which is complete when the write-register operation
+    returns. If, however, no data is available then ethtap
+    retains ownership of the buffer (RX_STA_RDY bit is NOT set)
+    and the user must wait for data to arrive (e.g., by using
+    interrupts).
+ 
+ 
+    PROPERTIES
+    
+ 
+    reg = <address> <size> (required)
+ 
+    Specify the address (within the parent bus) that this device is to
+    live.  The address must be 4 byte aligned.
+ 
+    tun-device = <string> (optional)
+      name of the 'tun' device to open; defaults to "/dev/net/tun"
+ 
+    tap-if-name = <string> (optional)
+      name of the 'tap' interface (on the host) to use; defaults to
+      "tap0"
+ 
+    hw-address = <string> (optional) 
+      ethernet address of this device; a string of the format, e.g.,
+      "00:00:3a:12:34:56"
+ 
+    enable-crc = <boolean> (optional)
+      compute crc32 and append to packet received by this device.
+      The driver must be prepared to handle (and maybe check)
+      the crc32 -- the number of received bytes contains the
+      4 bytes used by the crc.
+      CRC generation is ultimately controlled by the CRCEN bit
+      in the CSR; this property just defines the initial setting.
+      Defaults to 'false'.
+ 
+    EXAMPLES
+ 
+ 
+    Enable tracing of the device:
+ 
+    | -t ethtap-device \
+ 
+ 
+    Create source, bitwize-and, and sink glue devices.  Since the
+    device at address <<0x10000>> is of size <<8>> it will have two
+    output interrupt ports.
+ 
+    | -o '/iobus@0xf0000000/ethtap@0x10000/reg 0x10000 0x40' \
+    | -o '/iobus@0xf0000000/ethtap@0x10000/tun-device "/dev/net/tun"' \
+    | -o '/iobus@0xf0000000/ethtap@0x10000/tap-ifname "tap0"' \
+    | -o '/iobus@0xf0000000/ethtap@0x10000/hw-address "00:00:00:22:11:00"' \
+    | -o '/iobus@0xf0000000/ethtap@0x10000/enable-crc false' 
+ 
+ 
+    BUGS/LIMITATIONS
+ 
+    This device only works on host-oses with tun/tap support and
+    usually requires psim to be executed with appropriate privileges
+    or a properly setup 'persistent' tap-device.
+ 
+    This device works only on host-oses with 
+ 
+    */
+ 
+ #define TX_BUFSZ 2048
+ #define RX_BUFSZ 2048
+ 
+ #define HW_VERSION      1
+ 
+ /* Register indices */
+ #define TST_VAL_REG		0
+ #define TST_TX_BUF_REG	1
+ #define TST_TX_STA_REG	2
+ #define TST_VER_REG	    3
+ 
+ #define TST_RX_BUF_REG	4
+ #define TST_RX_STA_REG	5
+ #define TST_IEN_REG		6
+ #define TST_IRQ_REG     7
+ 
+ #define TST_MACA0_REG   8       
+ #define TST_MACA1_REG   9       
+ 
+ #define TST_CSR_REG    10
+ 
+ #define TST_NUM_REGS   16           /* must be power of 2 */
+ 
+ #define TST_TX_CNT_MSK      0xffff
+ #define TST_TX_STA_LST      (1<<16) /* last chunk         */
+ #define TST_TX_STA_DONE     (1<<31) /* TX done            */
+ 
+ #define TST_TX_ERR_NOSPC	(1<<20)  /* buffer too small   */
+ #define TST_TX_ERR_DMA      (1<<21)  /* DMA error          */
+ #define TST_TX_ERR_NOFD     (1<<22)  /* no file descriptor */
+ #define TST_TX_ERR_WR       (1<<23)  /* file write error   */
+ 
+ #define TST_TX_ERR_MSK      (0xffff0000 & ~(TST_TX_STA_LST|TST_TX_STA_DONE))
+ 
+ #define TST_RX_CNT_MSK		0xffff
+ #define TST_RX_STA_RDY		(1<<31)  /* data available     */
+ 
+ 
+ #define TST_RX_ERR_NOSPC	(1<<20)  /* buffer too small   */
+ #define TST_RX_ERR_DMA      (1<<21)  /* DMA error          */
+ #define TST_RX_ERR_RD       (1<<23)  /* file read error    */
+ 
+ #define TST_RX_IRQ          (1<<0)
+ 
+ #define TST_CSR_PROM        (1<<0)   /* promiscuous        */
+ #define TST_CSR_CRCEN       (1<<1)   /* enable CRC         */
+ 
+ typedef struct _hw_ethtap_device {
+ 	int           space;
+     unsigned_word base,bound;
+ 	unsigned_4    val;
+ 	unsigned_4    tx_base;
+ 	unsigned_4    tx_sta;
+ 	unsigned_4    tx_idx;
+ 	unsigned_4    rx_base;
+ 	unsigned_4    rx_sta;
+ 	unsigned_4    ien;
+ 	unsigned_4    ipend;
+ 	unsigned_4    ilast;
+ 	unsigned_4    csr;
+ 	int           tx_fd, tx_ad;
+ 	int           rx_fd, rx_ad;
+ 	int           rx_space;
+ 	const char    *ifnam;
+ 	int           rx_len;
+ 	unsigned_1    enaddr[8];
+ 	unsigned_1    tx_buf[TX_BUFSZ];
+ 	unsigned_1    rx_buf[RX_BUFSZ];
+ 	device        *next;
+ } hw_ethtap_device;
+ 
+ static device *thedevs = 0;
+ 
+ static void update_irq(device *me, hw_ethtap_device *ethtap)
+ {
+ unsigned_4 inew = ethtap->ien & ethtap->ipend;
+ 	if ( inew != ethtap->ilast ) {
+   		device_interrupt_event(me, 0, inew ? 0 : 1, NULL, 0);
+ 		ethtap->ilast = inew;
+ 	}
+ }
+ 
+ static int
+ filter_dest(hw_ethtap_device *ethtap)
+ {
+ int i,sum,match;
+ 
+ 	for ( match=1, sum = i = 0; i<6; i++ ) {
+ 		if ( ethtap->rx_buf[i] != ethtap->enaddr[i] )
+ 			match=0;
+ 		sum += ethtap->rx_buf[i];
+ 	}
+ 
+ 	/* match broadcast addr is equivalent to sum == 6*255 */
+ 
+ 	return ( !match && sum != 6*255 );
+ }
+ 
+ static int
+ fill_rxbuf(device *me, hw_ethtap_device *ethtap)
+ {
+ int got;
+ uint32_t crc;
+ 
+ 	if ( ethtap->rx_len ) {
+ 		device_error(me, "Internal Error; rx_len should be zero\n");
+ 	}
+ 
+ 	got = hwAsyncIoRead(ethtap->rx_ad, ethtap->rx_buf, RX_BUFSZ);
+ 
+ 	if ( ( ethtap->csr & TST_CSR_CRCEN ) && got > 0 ) {
+ 		crc = H2BE_4(crc32_le_eth(ethtap->rx_buf, got));
+ 
+ 		memcpy(ethtap->rx_buf+got, &crc, sizeof(crc));
+ 
+ 		got += sizeof(crc);
+ 	}
+ 	
+ 
+ #ifdef  DEBUG_RX_RAW
+ 	{
+ 		int i;
+ 
+ 		printf("#VVVVVVVV#\n");
+ 		for ( i=0; i<got; ) {
+ 			printf("%02X ",ethtap->rx_buf[i]);
+ 			if ( 0 == (++i & 0xf) )
+ 				fputc('\n',stdout);
+ 		}
+ 		if ( i & 0xf )
+ 			fputc('\n',stdout);
+ 		printf("#^^^^^^^^#\n");
+ 	}
+ #endif
+ 
+ 	if ( got >= 0 && ! ( ethtap->csr & TST_CSR_PROM ) ) {
+ 		/* filter destination */
+ 		if ( got < 6 || filter_dest(ethtap) )
+ 			return -1;
+ 	}
+ 
+ 	ethtap->rx_len = got;
+ 
+ 	return 0;
+ }
+ 
+ 
+ static void
+ rx_input(void *me)
+ {
+ hw_ethtap_device *ethtap = (hw_ethtap_device*)device_data(me);
+ int             cnt  = ethtap->rx_sta & TST_RX_CNT_MSK;
+ int             got;
+ int             lvl;
+ 
+ 	/* could and should filter HW address even if
+ 	 * no buffer is available; not doing so is
+ 	 * simpler, however...
+ 	 */
+ 
+ 	if ( cnt ) {
+ 
+ 		if ( ethtap->rx_sta & TST_RX_STA_RDY )
+ 			device_error(me, "rx_input: INTERNAL ERROR; should not get here with DONE set\n");
+ 
+ 		lvl = hwAsyncIoBlock();
+ 
+ 		got = ethtap->rx_len;
+ 		ethtap->rx_len = 0;
+ 
+ 		if ( got > 0 ) {
+ 			if ( cnt < got ) {
+ 				ethtap->rx_sta |= TST_RX_ERR_NOSPC;
+ 				got = cnt;
+ 			}
+ 			if ( got != device_dma_write_buffer(device_parent(me), ethtap->rx_buf, ethtap->rx_space, ethtap->rx_base, got, 0) ) {
+ 				ethtap->rx_sta |= TST_RX_ERR_DMA;
+ 			} else {
+ 				ethtap->rx_sta  = TST_RX_STA_RDY | got;
+ 			}
+ 		} else if ( 0 == got || EAGAIN == errno ) {
+ 			/* no more data */
+ 				ethtap->ipend &= ~TST_RX_IRQ;
+ 		} else {
+ 			ethtap->rx_sta |= TST_RX_ERR_RD;
+ 		}
+ 		update_irq( me, ethtap );
+ 
+ 		if ( (ethtap->ipend & TST_RX_IRQ) ) {
+ 			/* try to read more data */
+ 			fill_rxbuf(me, ethtap);
+ 		}
+ 
+ 		hwAsyncIoUnblock(lvl);
+ 	}
+ }
+ 
+ static void
+ hw_ethtap_cb(int fd, unsigned reasonBitmask, void *uarg)
+ {
+ hw_ethtap_device *p;
+ device         *me = uarg;
+ 
+ 	p = (hw_ethtap_device*)device_data(me);
+ 
+ 	if ( ! (reasonBitmask & ASYNC_IO_READ_POSSIBLE) ) {
+ 		return;
+ 	}
+ 
+ 	if ( ! (p->ipend & TST_RX_IRQ) ) {
+ 
+ 		if ( fill_rxbuf(me, p) )
+ 			return;
+ 
+ 		p->ipend |= TST_RX_IRQ;
+ 		event_queue_schedule_after_signal(
+ 				psim_event_queue(device_system(me)),
+ 				1LL /* now */,
+ 				rx_input,
+ 				me);
+ 	}
+ }
+ 
+ #define DFLT_TUN_NAM "/dev/net/tun"
+ 
+ static void
+ hw_ethtap_device_init_data(device *me)
+ {
+ struct ifreq      ifr;
+ int               status;
+ const char        *tun_nam = DFLT_TUN_NAM;
+ reg_property_spec unit;
+ hw_ethtap_device  *ethtap  = (hw_ethtap_device*)device_data(me);
+ int               space;
+ unsigned_word     address;
+ unsigned          size;
+ int               reg;
+ 
+ 	reg = 0;
+ 	do {
+ 
+     /* find and decode the reg property -- skipping 0-sized pairs */
+     if (!device_find_reg_array_property(me, "reg", reg++, &unit))
+       device_error(me, "missing or invalid reg entry %d", reg);
+ 
+     } while (
+     ! device_address_to_attach_address(device_parent(me), &unit.address,
+ 				     &space, &address, me) ||
+     ! device_size_to_attach_size(device_parent(me), &unit.size, &size, me));
+ 
+   ethtap->base     = address;
+   ethtap->bound    = address+size;
+   ethtap->space    = space;
+ 
+   DTRACE(ethtap, ("initializing addresses (space, base[size] - %d, (0x%x[0x%x])\n", space, address, size));
+ 
+   ethtap->val      = 0xaffecafe;
+ 
+   if ( ethtap->rx_fd >= 0 ) {
+ 	if ( (status = hwAsyncIoUnregister(ethtap->rx_ad, hw_ethtap_cb, me)) ) {
+ 	  device_error(me, "hwAsyncIoUnregister(unregister rx_ad) failed: %i\n", status);
+ 	}
+   	close(ethtap->rx_fd);
+   }
+ 
+ #ifdef TEST_PIPE
+   if ( ethtap->tx_fd >= 0 ) {
+ #ifdef TEST_POLLSTUFF
+ 	if ( (status = hwAsyncIoUnregister(ethtap->tx_ad, hw_ethtap_cb, me)) ) {
+ 	  device_error(me, "hwAsyncIoUnregister(unregister tx_ad) failed: %i\n", status);
+ 	}
+ #endif
+ 	close(ethtap->tx_fd);
+   }
+ 
+   ethtap->rx_fd    = open("rpeip",O_RDWR | O_NONBLOCK);
+ 
+   if ( ethtap->rx_fd < 0 ) {
+   	device_error(me, "open(RX-pipe) failed: %s\n", strerror(errno));
+   }
+ 
+   if ( (ethtap->rx_ad = hwAsyncIoRegister(ethtap->rx_fd, hw_ethtap_cb, me)) < 0 ) {
+   	device_error(me, "hwAsyncIoRegister(rx_fd) failed: %i\n", ethtap->rx_ad);
+   }
+ 
+   ethtap->tx_fd  = open("tpeip",O_RDWR | O_NONBLOCK);
+ 
+   ethtap->rx_len = 0;
+ 
+   if ( ethtap->tx_fd < 0 ) {
+   	device_error(me, "open(TX-pipe) failed: %s\n", strerror(errno));
+   }
+ 
+ #ifdef TEST_POLLSTUFF
+   if ( (ethtap->tx_ad = hwAsyncIoRegister(ethtap->tx_fd, hw_ethtap_cb, me)) < 0 ) {
+   	device_error(me, "hwAsyncIoRegister(tx_fd) failed: %i\n", ethtap->tx_ad);
+   }
+ #endif
+ #else
+ 
+   if ( device_find_property(me, "tun-device") ) {
+   	tun_nam = device_find_string_property(me, "tun-device");
+   }
+ 
+   ethtap->rx_fd = ethtap->tx_fd = open(tun_nam, O_RDWR | O_NONBLOCK);
+ 
+   if ( device_find_property(me, "tap-if-name") ) {
+   	ethtap->ifnam = device_find_string_property(me, "tap-if-name");
+   } else {
+ 	ethtap->ifnam = "tap0";
+   }
+ 
+   if ( ethtap->tx_fd < 0 ) {
+   	device_error(me, "open(%s) %s\n", tun_nam, strerror(errno));
+   }
+ 
+   memset(&ifr, 0, sizeof(ifr));
+   strncpy(ifr.ifr_name, ethtap->ifnam, IFNAMSIZ);
+   ifr.ifr_flags = IFF_TAP | IFF_NO_PI;
+ 
+   if ( ioctl(ethtap->rx_fd, TUNSETIFF, &ifr) ) {
+   	device_error(me, "ioctl(TUNSETIFF) %s\n", strerror(errno));
+   }
+ 
+   if ( (ethtap->tx_ad = ethtap->rx_ad = hwAsyncIoRegister(ethtap->rx_fd, hw_ethtap_cb, me)) < 0 ) {
+   	device_error(me, "hwAsyncIoRegister(rx_fd) failed: %i\n", ethtap->rx_ad);
+   }
+ #endif
+ 
+   ethtap->tx_idx   = 0;
+   ethtap->tx_sta   = 0;
+ 
+   ethtap->rx_sta   = 0;
+ 
+   ethtap->ien      = 0;
+   ethtap->ipend    = 0;
+ 
+   ethtap->ilast    = ethtap->ien & ethtap->ipend;
+ 
+   /* enq in linked list of all devices */
+   ethtap->next     = thedevs;
+   thedevs          = me;
+ 
+   if ( device_find_property(me, "enable-crc") ) {
+   	if ( device_find_boolean_property(me, "enable-crc") ) {
+ 		ethtap->csr |= TST_CSR_CRCEN;
+ 	}
+   }
+ 
+   if ( device_find_property(me, "hw-address") ) {
+   	if ( 6 != sscanf(
+ 				device_find_string_property(me, "hw-address"),
+ 				"%hhx:%hhx:%hhx:%hhx:%hhx:%hhx",
+ 				ethtap->enaddr + 0,
+ 				ethtap->enaddr + 1,
+ 				ethtap->enaddr + 2,
+ 				ethtap->enaddr + 3,
+ 				ethtap->enaddr + 4,
+ 				ethtap->enaddr + 5) ) {
+ 		device_error(me, "Invalid hw-address; must be 6 hex octets separated by ':'");
+ 	}
+   } else {
+   	/* mock up a dummy address */
+ 	memset(ethtap->enaddr, 0, sizeof(ethtap->enaddr));
+ 	ethtap->enaddr[3] = 0x0a;
+ 	ethtap->enaddr[4] = 0x22;
+ 	ethtap->enaddr[5] = 0x3f;
+   }
+ 
+   /* interrupt line is active-low */
+   device_interrupt_event(me, 0, 1, NULL, 0);
+ }
+ 
+ static void
+ hw_ethtap_init_address(device *me)
+ {
+   /* attach to my parent */
+   generic_device_init_address(me);
+ 
+   DTRACE(ethtap, ("fmt %s", "ethtap"));
+ }
+ 
+ static unsigned
+ hw_ethtap_io_read_buffer_callback(device *me,
+ 				void *dest,
+ 				int space,
+ 				unsigned_word addr,
+ 				unsigned nr_bytes,
+ 				cpu *processor,
+ 				unsigned_word cia)
+ {
+ int        i;
+ unsigned_4 v;
+ 
+   hw_ethtap_device *ethtap = (hw_ethtap_device*)device_data(me);
+ 
+   if ( nr_bytes % sizeof(unsigned_4) != 0 || addr % sizeof(unsigned_4) != 0 )
+      device_error(me, "missaligned read access (%d:0x%lx:%d) not supported",
+ 		  space, (unsigned long)addr, nr_bytes);
+ 
+   if ( space != ethtap->space || addr < ethtap->base || addr + nr_bytes > ethtap->bound )
+      device_error(me, "address out of bounds; read access (%d:0x%lx:%d)\n",
+ 		  space, (unsigned long)addr, nr_bytes);
+ 
+   addr -= ethtap->base;
+ 
+   for (i=0; i<nr_bytes/sizeof(unsigned_4); i++) {
+   	switch ( (addr/sizeof(unsigned_4) + i) & (TST_NUM_REGS-1)) {
+ 		case TST_VAL_REG:	 v = ethtap->val;       break;
+ 
+ 		case TST_TX_BUF_REG: v = ethtap->tx_base;   break;
+ 		case TST_TX_STA_REG: v = ethtap->tx_sta;    break;
+ 
+ 		case TST_RX_BUF_REG: v = ethtap->rx_base;   break;
+ 		case TST_RX_STA_REG: v = ethtap->rx_sta;    break;
+ 
+ 		case TST_VER_REG:    v = HW_VERSION;      break;
+ 
+ 		case TST_IEN_REG:    v = ethtap->ien;       break;
+ 		case TST_IRQ_REG:    v = ethtap->ipend;     break;
+ 
+ 		case TST_MACA0_REG:
+ 							  memcpy(&v, ethtap->enaddr,   4);
+ 							  v = BE2H_4(v);      break;
+ 
+ 		case TST_MACA1_REG:   memcpy(&v, ethtap->enaddr+4, 4);
+ 							  v = BE2H_4(v);      break;
+ 
+ 		case TST_CSR_REG:    v = ethtap->csr;       break;
+ 
+ 		default:             v = -1;              break;
+ 	}
+   	((unsigned_word*)dest)[i] = H2BE_4(v);
+   }
+ 
+   DTRACE(ethtap, ("read - %d (0x%lx), val 0x%08x\n",
+ 		0, (unsigned long) addr, v));
+ 
+   return nr_bytes;
+ }
+ 
+ 
+ static unsigned
+ hw_ethtap_io_write_buffer_callback(device *me,
+ 				 const void *source,
+ 				 int space,
+ 				 unsigned_word addr,
+ 				 unsigned nr_bytes,
+ 				 cpu *processor,
+ 				 unsigned_word cia)
+ {
+ int           i;
+ unsigned      cnt;
+ unsigned_4    v;
+ 
+   hw_ethtap_device *ethtap = (hw_ethtap_device*)device_data(me);
+ 
+   if ( nr_bytes % sizeof(unsigned_4) != 0 || addr % sizeof(unsigned_4) != 0 )
+      device_error(me, "missaligned write access (%d:0x%lx:%d) not supported",
+ 		  space, (unsigned long)addr, nr_bytes);
+ 
+   if ( space != ethtap->space || addr < ethtap->base || addr + nr_bytes > ethtap->bound )
+      device_error(me, "address out of bounds; write access (%d:0x%lx:%d)\n",
+ 		  space, (unsigned long)addr, nr_bytes);
+ 
+   addr -= ethtap->base;
+ 
+   for (i=0; i<nr_bytes/sizeof(unsigned_4); i++) {
+ 
+ 	  v = BE2H_4(((unsigned_4*)source)[i]);
+ 
+ 	  switch ( (addr/sizeof(unsigned_4) + i) & (TST_NUM_REGS - 1) ) {
+ 
+ 		  case TST_VAL_REG:
+ 			  ethtap->val      = v;
+ 			  device_interrupt_event(me, 0, (ethtap->val&1), processor, cia);
+ 			  break;
+ 
+ 		  case TST_TX_BUF_REG:
+ 			  ethtap->tx_base  = v;
+ 			  break;
+ 
+ 		  case TST_TX_STA_REG: 
+ 			  ethtap->tx_sta = (v & (TST_TX_CNT_MSK | TST_TX_STA_LST));
+ 			  cnt = (ethtap->tx_sta & TST_TX_CNT_MSK);
+ 			  if ( ethtap->tx_idx + cnt <= TX_BUFSZ ) {
+ 				  if ( cnt != device_dma_read_buffer(
+ 							  device_parent(me),
+ 							  ethtap->tx_buf + ethtap->tx_idx,
+ 							  space,
+ 							  ethtap->tx_base,
+ 							  cnt) ) {
+ 					  ethtap->tx_sta |= TST_TX_ERR_DMA;
+ 				  }
+ 			  } else {
+ 				  ethtap->tx_sta |= TST_TX_ERR_NOSPC;
+ 			  }
+ 			  ethtap->tx_idx += cnt;
+ 
+ 			  if ( ethtap->tx_sta & TST_TX_STA_LST ) {
+ 				  if ( ethtap->tx_fd >= 0 ) {
+ 					  if ( ! (ethtap->tx_sta & TST_TX_ERR_MSK) ) {
+ 						  if ( ethtap->tx_idx !=
+ #if defined(TEST_PIPE) && defined(TEST_POLLSTUFF)
+                               hwAsyncIoWrite(ethtap->tx_ad, ethtap->tx_buf, ethtap->tx_idx)
+ #else
+                               write(ethtap->tx_fd, ethtap->tx_buf, ethtap->tx_idx)
+ #endif
+                              ) {
+ 							  ethtap->tx_sta |= TST_TX_ERR_WR;
+ 						  }
+ 					  }
+ 				  } else {
+ 					  ethtap->tx_sta |= TST_TX_ERR_NOFD;
+ 				  }
+ 
+ 				  ethtap->tx_idx = 0;
+ 			  }
+ 			  ethtap->tx_sta |= TST_TX_STA_DONE;
+ 			  break;
+ 
+ 		  case TST_RX_BUF_REG:
+ 			  ethtap->rx_base  = v;
+ 			  break;
+ 
+           case TST_RX_STA_REG:
+ 			  ethtap->rx_sta = (v & TST_RX_CNT_MSK);
+ 			  if ( (ethtap->ipend & TST_RX_IRQ) ) {
+ 			  	rx_input(me);
+ 			  }
+ 			  break;
+ 
+ 		  case TST_IEN_REG: 
+ 		  	  ethtap->ien = v;
+ 		  	  update_irq(me, ethtap);
+ 			  break;
+ 
+ 		  case TST_CSR_REG:
+ 			  ethtap->csr = v;
+ 			  break;
+ 
+ 		  default:
+ 			  break;
+ 	  }
+ 
+ 	  DTRACE(ethtap, ("write - %d (0x%lx), value 0x%08x\n",
+ 				  0, (unsigned long) addr, v));
+   }
+ 
+ 
+   return nr_bytes;
+ }
+ 
+ static device_callbacks const hw_ethtap_callbacks = {
+   { hw_ethtap_init_address, hw_ethtap_device_init_data },
+   { NULL, }, /* address */
+   { hw_ethtap_io_read_buffer_callback, hw_ethtap_io_write_buffer_callback, },
+   { NULL, }, /* DMA */
+   { NULL, NULL, NULL }, /* interrupt */
+   { NULL, }, /* unit */
+   NULL, /* instance */
+ };
+ 
+ 
+ static void *
+ hw_ethtap_create(const char *name,
+ 	      const device_unit *unit_address,
+ 	      const char *args)
+ {
+   /* create the descriptor */
+   hw_ethtap_device *ethtap = ZALLOC(hw_ethtap_device);
+ 
+   crc32_inittab();
+ 
+   ethtap->rx_fd = ethtap->tx_fd = -1;
+ 
+   return ethtap;
+ }
+ 
+ 
+ const device_descriptor hw_ethtap_device_descriptor[] = {
+   { "ethtap", hw_ethtap_create, &hw_ethtap_callbacks },
+   { NULL },
+ };
+ 
+ #endif /* _HW_ETHTAP_C_ */
diff -crN gdb-6.8.orig/sim/ppc/Makefile.in gdb-6.8/sim/ppc/Makefile.in
*** gdb-6.8.orig/sim/ppc/Makefile.in	2006-05-31 08:14:45.000000000 -0700
--- gdb-6.8/sim/ppc/Makefile.in	2009-02-05 16:56:20.000000000 -0800
***************
*** 488,494 ****
  	device_table.c \
  	cap.c \
  	mon.c \
! 	options.c
  
  LIB_SRC = \
  	$(PACKAGE_SRC) \
--- 488,495 ----
  	device_table.c \
  	cap.c \
  	mon.c \
! 	options.c \
! 	@sim_async_io_src@
  
  LIB_SRC = \
  	$(PACKAGE_SRC) \
***************
*** 536,542 ****
  	psim.o \
  	$(PACKAGE_OBJ) \
  	$(HW_OBJ) \
! 	options.o
  
  
  GDB_OBJ = gdb-sim.o sim_calls.o @sim_callback@
--- 537,544 ----
  	psim.o \
  	$(PACKAGE_OBJ) \
  	$(HW_OBJ) \
! 	options.o \
! 	@sim_async_io_obj@
  
  
  GDB_OBJ = gdb-sim.o sim_calls.o @sim_callback@
***************
*** 823,829 ****
--- 825,833 ----
  hw_core.o: hw_core.c $(DEVICE_TABLE_H) $(COREFILE_H)
  hw_disk.o: hw_disk.c $(DEVICE_TABLE_H) $(PK_H)
  hw_eeprom.o: hw_eeprom.c $(DEVICE_TABLE_H)
+ hw_ethtap.o: hw_ethtap.c $(DEVICE_TABLE_H) async_io.h $(PSIM_H) $(EVENTS_H)
  hw_glue.o: hw_glue.c $(DEVICE_TABLE_H)
+ hw_test.o: hw_test.c $(DEVICE_TABLE_H)
  hw_htab.o: hw_htab.c $(DEVICE_TABLE_H) $(BFD_H)
  hw_ide.o: hw_ide.c $(DEVICE_TABLE_H)
  hw_init.o: hw_init.c $(DEVICE_TABLE_H) $(BFD_H) $(PSIM_H)
